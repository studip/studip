{"version":3,"sources":["webpack://@studip/core/./resources/assets/javascripts/bootstrap/statusgroups.js","webpack://@studip/core/./node_modules/jquery-nestable/jquery.nestable.js","webpack://@studip/core/webpack/bootstrap","webpack://@studip/core/webpack/runtime/compat get default export","webpack://@studip/core/webpack/runtime/define property getters","webpack://@studip/core/webpack/runtime/hasOwnProperty shorthand"],"names":["STUDIP","domReady","Statusgroups","ajax_endpoint","$","attr","apply","on","url","dataEl","this","data","trim","html","length","width","height","src","ASSETS_URL","get","done","document","trigger","handle","window","matchMedia","matches","addClass","find","each","prepend","index_before","sortable","axis","containment","forcePlaceholderSize","items","placeholder","start","event","ui","item","index","stop","post","id","ready","nestable","rootClass","maxDepth","structure","json_data","JSON","stringify","val","undefined","hasTouch","hasPointerEvents","el","createElement","docEl","documentElement","style","pointerEvents","appendChild","supports","getComputedStyle","removeChild","defaults","listNodeName","itemNodeName","listClass","itemClass","dragClass","handleClass","collapsedClass","placeClass","noDragClass","emptyClass","expandBtnHTML","collapseBtnHTML","group","threshold","Plugin","element","options","w","extend","init","prototype","list","reset","placeEl","k","setParent","e","dragEl","target","currentTarget","action","parent","collapseItem","expandItem","onStartEvent","hasClass","closest","isTouch","test","type","touches","preventDefault","dragStart","onMoveEvent","dragMove","onEndEvent","dragStop","addEventListener","serialize","step","level","depth","array","children","li","sub","push","first","serialise","mouse","offsetX","offsetY","startX","startY","lastX","lastY","nowX","nowY","distX","distY","dirAx","dirX","dirY","lastDirX","lastDirY","distAxX","distAxY","moving","dragRootEl","dragDepth","hasNewRoot","pointEl","removeClass","hide","show","expandAll","collapseAll","unsetParent","remove","dragItem","css","pageX","offset","left","pageY","top","after","parentNode","appendTo","body","append","i","parents","replaceWith","prev","opt","newAx","Math","abs","last","next","isEmpty","visibility","elementFromPoint","scrollLeft","pageYOffset","scrollTop","pointElRoot","isNewRoot","before","fn","params","retval","plugin","Date","getTime","jQuery","Zepto","__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","obj","prop","hasOwnProperty","call"],"mappings":"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","file":"javascripts/studip-statusgroups.js","sourcesContent":["/*jslint esversion: 6*/\nSTUDIP.domReady(function() {\n    STUDIP.Statusgroups.ajax_endpoint = $('meta[name=\"statusgroups-ajax-movable-endpoint\"]').attr('content');\n    STUDIP.Statusgroups.apply();\n\n    $('a.get-group-members').on('click', function() {\n        var dataEl = $('article#group-members-' + $(this).data('group-id')),\n            url;\n        if ($.trim(dataEl.html()).length === 0) {\n            url = $(this).data('get-members-url');\n\n            dataEl.html(\n                $('<img>').attr({\n                    width: 32,\n                    height: 32,\n                    src: STUDIP.ASSETS_URL + 'images/ajax-indicator-black.svg'\n                })\n            );\n\n            $.get(url).done(function(html) {\n                dataEl.html(html);\n                $(document).trigger('refresh-handlers');\n            });\n        }\n    });\n\n    var handle = '> header';\n    // Check for touch device\n    if (window.matchMedia('(hover: none)').matches) {\n        $('.course-statusgroups[data-sortable]').addClass('by-touch').find('> .draggable').each(function () {\n            $('header', this).prepend('<span class=\"sg-sortable-handle\">');\n        });\n        handle = '.sg-sortable-handle';\n    }\n\n    var index_before = null;\n    $('.course-statusgroups[data-sortable]')\n        .sortable({\n            axis: 'y',\n            containment: 'parent',\n            forcePlaceholderSize: true,\n            handle: handle,\n            items: '> .draggable',\n            placeholder: 'sortable-placeholder',\n            start: function(event, ui) {\n                index_before = ui.item.index();\n            },\n            stop: function(event, ui) {\n                if (index_before === ui.item.index()) {\n                    return;\n                }\n\n                var url = $(this).data('sortable');\n                $.post(url, {\n                    id: ui.item.attr('id'),\n                    index: ui.item.index() - 1\n                });\n            }\n        });\n});\n\nSTUDIP.ready(function() {\n    $('.nestable').each(function() {\n        $(this).nestable({\n            rootClass: 'nestable',\n            maxDepth: $(this).data('max-depth') || 5\n        });\n    });\n});\n\n$(document).on('submit', '#order_form', function() {\n    let structure = $('.nestable').nestable('serialize');\n    let json_data = JSON.stringify(structure);\n    $('#ordering').val(json_data);\n});\n","/*!\n * Nestable jQuery Plugin - Copyright (c) 2012 David Bushell - http://dbushell.com/\n * Dual-licensed under the BSD or MIT licenses\n */\n;(function($, window, document, undefined)\n{\n    var hasTouch = 'ontouchstart' in document;\n\n    /**\n     * Detect CSS pointer-events property\n     * events are normally disabled on the dragging element to avoid conflicts\n     * https://github.com/ausi/Feature-detection-technique-for-pointer-events/blob/master/modernizr-pointerevents.js\n     */\n    var hasPointerEvents = (function()\n    {\n        var el    = document.createElement('div'),\n            docEl = document.documentElement;\n        if (!('pointerEvents' in el.style)) {\n            return false;\n        }\n        el.style.pointerEvents = 'auto';\n        el.style.pointerEvents = 'x';\n        docEl.appendChild(el);\n        var supports = window.getComputedStyle && window.getComputedStyle(el, '').pointerEvents === 'auto';\n        docEl.removeChild(el);\n        return !!supports;\n    })();\n\n    var defaults = {\n            listNodeName    : 'ol',\n            itemNodeName    : 'li',\n            rootClass       : 'dd',\n            listClass       : 'dd-list',\n            itemClass       : 'dd-item',\n            dragClass       : 'dd-dragel',\n            handleClass     : 'dd-handle',\n            collapsedClass  : 'dd-collapsed',\n            placeClass      : 'dd-placeholder',\n            noDragClass     : 'dd-nodrag',\n            emptyClass      : 'dd-empty',\n            expandBtnHTML   : '<button data-action=\"expand\" type=\"button\">Expand</button>',\n            collapseBtnHTML : '<button data-action=\"collapse\" type=\"button\">Collapse</button>',\n            group           : 0,\n            maxDepth        : 5,\n            threshold       : 20\n        };\n\n    function Plugin(element, options)\n    {\n        this.w  = $(document);\n        this.el = $(element);\n        this.options = $.extend({}, defaults, options);\n        this.init();\n    }\n\n    Plugin.prototype = {\n\n        init: function()\n        {\n            var list = this;\n\n            list.reset();\n\n            list.el.data('nestable-group', this.options.group);\n\n            list.placeEl = $('<div class=\"' + list.options.placeClass + '\"/>');\n\n            $.each(this.el.find(list.options.itemNodeName), function(k, el) {\n                list.setParent($(el));\n            });\n\n            list.el.on('click', 'button', function(e) {\n                if (list.dragEl) {\n                    return;\n                }\n                var target = $(e.currentTarget),\n                    action = target.data('action'),\n                    item   = target.parent(list.options.itemNodeName);\n                if (action === 'collapse') {\n                    list.collapseItem(item);\n                }\n                if (action === 'expand') {\n                    list.expandItem(item);\n                }\n            });\n\n            var onStartEvent = function(e)\n            {\n                var handle = $(e.target);\n                if (!handle.hasClass(list.options.handleClass)) {\n                    if (handle.closest('.' + list.options.noDragClass).length) {\n                        return;\n                    }\n                    handle = handle.closest('.' + list.options.handleClass);\n                }\n\n                if (!handle.length || list.dragEl) {\n                    return;\n                }\n\n                list.isTouch = /^touch/.test(e.type);\n                if (list.isTouch && e.touches.length !== 1) {\n                    return;\n                }\n\n                e.preventDefault();\n                list.dragStart(e.touches ? e.touches[0] : e);\n            };\n\n            var onMoveEvent = function(e)\n            {\n                if (list.dragEl) {\n                    e.preventDefault();\n                    list.dragMove(e.touches ? e.touches[0] : e);\n                }\n            };\n\n            var onEndEvent = function(e)\n            {\n                if (list.dragEl) {\n                    e.preventDefault();\n                    list.dragStop(e.touches ? e.touches[0] : e);\n                }\n            };\n\n            if (hasTouch) {\n                list.el[0].addEventListener('touchstart', onStartEvent, false);\n                window.addEventListener('touchmove', onMoveEvent, false);\n                window.addEventListener('touchend', onEndEvent, false);\n                window.addEventListener('touchcancel', onEndEvent, false);\n            }\n\n            list.el.on('mousedown', onStartEvent);\n            list.w.on('mousemove', onMoveEvent);\n            list.w.on('mouseup', onEndEvent);\n\n        },\n\n        serialize: function()\n        {\n            var data,\n                depth = 0,\n                list  = this;\n                step  = function(level, depth)\n                {\n                    var array = [ ],\n                        items = level.children(list.options.itemNodeName);\n                    items.each(function()\n                    {\n                        var li   = $(this),\n                            item = $.extend({}, li.data()),\n                            sub  = li.children(list.options.listNodeName);\n                        if (sub.length) {\n                            item.children = step(sub, depth + 1);\n                        }\n                        array.push(item);\n                    });\n                    return array;\n                };\n            data = step(list.el.find(list.options.listNodeName).first(), depth);\n            return data;\n        },\n\n        serialise: function()\n        {\n            return this.serialize();\n        },\n\n        reset: function()\n        {\n            this.mouse = {\n                offsetX   : 0,\n                offsetY   : 0,\n                startX    : 0,\n                startY    : 0,\n                lastX     : 0,\n                lastY     : 0,\n                nowX      : 0,\n                nowY      : 0,\n                distX     : 0,\n                distY     : 0,\n                dirAx     : 0,\n                dirX      : 0,\n                dirY      : 0,\n                lastDirX  : 0,\n                lastDirY  : 0,\n                distAxX   : 0,\n                distAxY   : 0\n            };\n            this.isTouch    = false;\n            this.moving     = false;\n            this.dragEl     = null;\n            this.dragRootEl = null;\n            this.dragDepth  = 0;\n            this.hasNewRoot = false;\n            this.pointEl    = null;\n        },\n\n        expandItem: function(li)\n        {\n            li.removeClass(this.options.collapsedClass);\n            li.children('[data-action=\"expand\"]').hide();\n            li.children('[data-action=\"collapse\"]').show();\n            li.children(this.options.listNodeName).show();\n        },\n\n        collapseItem: function(li)\n        {\n            var lists = li.children(this.options.listNodeName);\n            if (lists.length) {\n                li.addClass(this.options.collapsedClass);\n                li.children('[data-action=\"collapse\"]').hide();\n                li.children('[data-action=\"expand\"]').show();\n                li.children(this.options.listNodeName).hide();\n            }\n        },\n\n        expandAll: function()\n        {\n            var list = this;\n            list.el.find(list.options.itemNodeName).each(function() {\n                list.expandItem($(this));\n            });\n        },\n\n        collapseAll: function()\n        {\n            var list = this;\n            list.el.find(list.options.itemNodeName).each(function() {\n                list.collapseItem($(this));\n            });\n        },\n\n        setParent: function(li)\n        {\n            if (li.children(this.options.listNodeName).length) {\n                li.prepend($(this.options.expandBtnHTML));\n                li.prepend($(this.options.collapseBtnHTML));\n            }\n            li.children('[data-action=\"expand\"]').hide();\n        },\n\n        unsetParent: function(li)\n        {\n            li.removeClass(this.options.collapsedClass);\n            li.children('[data-action]').remove();\n            li.children(this.options.listNodeName).remove();\n        },\n\n        dragStart: function(e)\n        {\n            var mouse    = this.mouse,\n                target   = $(e.target),\n                dragItem = target.closest(this.options.itemNodeName);\n\n            this.placeEl.css('height', dragItem.height());\n\n            mouse.offsetX = e.offsetX !== undefined ? e.offsetX : e.pageX - target.offset().left;\n            mouse.offsetY = e.offsetY !== undefined ? e.offsetY : e.pageY - target.offset().top;\n            mouse.startX = mouse.lastX = e.pageX;\n            mouse.startY = mouse.lastY = e.pageY;\n\n            this.dragRootEl = this.el;\n\n            this.dragEl = $(document.createElement(this.options.listNodeName)).addClass(this.options.listClass + ' ' + this.options.dragClass);\n            this.dragEl.css('width', dragItem.width());\n\n            dragItem.after(this.placeEl);\n            dragItem[0].parentNode.removeChild(dragItem[0]);\n            dragItem.appendTo(this.dragEl);\n\n            $(document.body).append(this.dragEl);\n            this.dragEl.css({\n                'left' : e.pageX - mouse.offsetX,\n                'top'  : e.pageY - mouse.offsetY\n            });\n            // total depth of dragging item\n            var i, depth,\n                items = this.dragEl.find(this.options.itemNodeName);\n            for (i = 0; i < items.length; i++) {\n                depth = $(items[i]).parents(this.options.listNodeName).length;\n                if (depth > this.dragDepth) {\n                    this.dragDepth = depth;\n                }\n            }\n        },\n\n        dragStop: function(e)\n        {\n            var el = this.dragEl.children(this.options.itemNodeName).first();\n            el[0].parentNode.removeChild(el[0]);\n            this.placeEl.replaceWith(el);\n\n            this.dragEl.remove();\n            this.el.trigger('change');\n            if (this.hasNewRoot) {\n                this.dragRootEl.trigger('change');\n            }\n            this.reset();\n        },\n\n        dragMove: function(e)\n        {\n            var list, parent, prev, next, depth,\n                opt   = this.options,\n                mouse = this.mouse;\n\n            this.dragEl.css({\n                'left' : e.pageX - mouse.offsetX,\n                'top'  : e.pageY - mouse.offsetY\n            });\n\n            // mouse position last events\n            mouse.lastX = mouse.nowX;\n            mouse.lastY = mouse.nowY;\n            // mouse position this events\n            mouse.nowX  = e.pageX;\n            mouse.nowY  = e.pageY;\n            // distance mouse moved between events\n            mouse.distX = mouse.nowX - mouse.lastX;\n            mouse.distY = mouse.nowY - mouse.lastY;\n            // direction mouse was moving\n            mouse.lastDirX = mouse.dirX;\n            mouse.lastDirY = mouse.dirY;\n            // direction mouse is now moving (on both axis)\n            mouse.dirX = mouse.distX === 0 ? 0 : mouse.distX > 0 ? 1 : -1;\n            mouse.dirY = mouse.distY === 0 ? 0 : mouse.distY > 0 ? 1 : -1;\n            // axis mouse is now moving on\n            var newAx   = Math.abs(mouse.distX) > Math.abs(mouse.distY) ? 1 : 0;\n\n            // do nothing on first move\n            if (!mouse.moving) {\n                mouse.dirAx  = newAx;\n                mouse.moving = true;\n                return;\n            }\n\n            // calc distance moved on this axis (and direction)\n            if (mouse.dirAx !== newAx) {\n                mouse.distAxX = 0;\n                mouse.distAxY = 0;\n            } else {\n                mouse.distAxX += Math.abs(mouse.distX);\n                if (mouse.dirX !== 0 && mouse.dirX !== mouse.lastDirX) {\n                    mouse.distAxX = 0;\n                }\n                mouse.distAxY += Math.abs(mouse.distY);\n                if (mouse.dirY !== 0 && mouse.dirY !== mouse.lastDirY) {\n                    mouse.distAxY = 0;\n                }\n            }\n            mouse.dirAx = newAx;\n\n            /**\n             * move horizontal\n             */\n            if (mouse.dirAx && mouse.distAxX >= opt.threshold) {\n                // reset move distance on x-axis for new phase\n                mouse.distAxX = 0;\n                prev = this.placeEl.prev(opt.itemNodeName);\n                // increase horizontal level if previous sibling exists and is not collapsed\n                if (mouse.distX > 0 && prev.length && !prev.hasClass(opt.collapsedClass)) {\n                    // cannot increase level when item above is collapsed\n                    list = prev.find(opt.listNodeName).last();\n                    // check if depth limit has reached\n                    depth = this.placeEl.parents(opt.listNodeName).length;\n                    if (depth + this.dragDepth <= opt.maxDepth) {\n                        // create new sub-level if one doesn't exist\n                        if (!list.length) {\n                            list = $('<' + opt.listNodeName + '/>').addClass(opt.listClass);\n                            list.append(this.placeEl);\n                            prev.append(list);\n                            this.setParent(prev);\n                        } else {\n                            // else append to next level up\n                            list = prev.children(opt.listNodeName).last();\n                            list.append(this.placeEl);\n                        }\n                    }\n                }\n                // decrease horizontal level\n                if (mouse.distX < 0) {\n                    // we can't decrease a level if an item preceeds the current one\n                    next = this.placeEl.next(opt.itemNodeName);\n                    if (!next.length) {\n                        parent = this.placeEl.parent();\n                        this.placeEl.closest(opt.itemNodeName).after(this.placeEl);\n                        if (!parent.children().length) {\n                            this.unsetParent(parent.parent());\n                        }\n                    }\n                }\n            }\n\n            var isEmpty = false;\n\n            // find list item under cursor\n            if (!hasPointerEvents) {\n                this.dragEl[0].style.visibility = 'hidden';\n            }\n            this.pointEl = $(document.elementFromPoint(e.pageX - document.body.scrollLeft, e.pageY - (window.pageYOffset || document.documentElement.scrollTop)));\n            if (!hasPointerEvents) {\n                this.dragEl[0].style.visibility = 'visible';\n            }\n            if (this.pointEl.hasClass(opt.handleClass)) {\n                this.pointEl = this.pointEl.parent(opt.itemNodeName);\n            }\n            if (this.pointEl.hasClass(opt.emptyClass)) {\n                isEmpty = true;\n            }\n            else if (!this.pointEl.length || !this.pointEl.hasClass(opt.itemClass)) {\n                return;\n            }\n\n            // find parent list of item under cursor\n            var pointElRoot = this.pointEl.closest('.' + opt.rootClass),\n                isNewRoot   = this.dragRootEl.data('nestable-id') !== pointElRoot.data('nestable-id');\n\n            /**\n             * move vertical\n             */\n            if (!mouse.dirAx || isNewRoot || isEmpty) {\n                // check if groups match if dragging over new root\n                if (isNewRoot && opt.group !== pointElRoot.data('nestable-group')) {\n                    return;\n                }\n                // check depth limit\n                depth = this.dragDepth - 1 + this.pointEl.parents(opt.listNodeName).length;\n                if (depth > opt.maxDepth) {\n                    return;\n                }\n                var before = e.pageY < (this.pointEl.offset().top + this.pointEl.height() / 2);\n                    parent = this.placeEl.parent();\n                // if empty create new list to replace empty placeholder\n                if (isEmpty) {\n                    list = $(document.createElement(opt.listNodeName)).addClass(opt.listClass);\n                    list.append(this.placeEl);\n                    this.pointEl.replaceWith(list);\n                }\n                else if (before) {\n                    this.pointEl.before(this.placeEl);\n                }\n                else {\n                    this.pointEl.after(this.placeEl);\n                }\n                if (!parent.children().length) {\n                    this.unsetParent(parent.parent());\n                }\n                if (!this.dragRootEl.find(opt.itemNodeName).length) {\n                    this.dragRootEl.append('<div class=\"' + opt.emptyClass + '\"/>');\n                }\n                // parent root list has changed\n                if (isNewRoot) {\n                    this.dragRootEl = pointElRoot;\n                    this.hasNewRoot = this.el[0] !== this.dragRootEl[0];\n                }\n            }\n        }\n\n    };\n\n    $.fn.nestable = function(params)\n    {\n        var lists  = this,\n            retval = this;\n\n        lists.each(function()\n        {\n            var plugin = $(this).data(\"nestable\");\n\n            if (!plugin) {\n                $(this).data(\"nestable\", new Plugin(this, params));\n                $(this).data(\"nestable-id\", new Date().getTime());\n            } else {\n                if (typeof params === 'string' && typeof plugin[params] === 'function') {\n                    retval = plugin[params]();\n                }\n            }\n        });\n\n        return retval || lists;\n    };\n\n})(window.jQuery || window.Zepto, window, document);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }"],"sourceRoot":""}