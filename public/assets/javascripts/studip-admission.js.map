{"version":3,"sources":["webpack://@studip/core/./resources/assets/javascripts/bootstrap/admission.js","webpack://@studip/core/./resources/assets/javascripts/jquery/jstree/jquery.jstree.js","webpack://@studip/core/webpack/bootstrap","webpack://@studip/core/webpack/runtime/compat get default export","webpack://@studip/core/webpack/runtime/define property getters","webpack://@studip/core/webpack/runtime/hasOwnProperty shorthand"],"names":["STUDIP","domReady","$","document","on","i","Admission","toggleNotSavedAlert","event","this","closest","remove","jQuery","jstree","is_ie6","is_ie7","is_ff2","vakata","css","get_css","rule_name","delete_flag","sheet","toLowerCase","css_rules","cssRules","rules","j","length","selectorText","removeRule","deleteRule","add_css","insertRule","addRule","remove_css","add_sheet","opts","tmp","is_new","str","title","createElement","setAttribute","styleSheet","getElementsByTagName","appendChild","cssText","createTextNode","url","createStyleSheet","rel","type","media","href","e","instances","focused_instance","plugins","prepared_move","fn","settings","isMethodCall","args","Array","prototype","slice","call","arguments","returnValue","substring","each","instance","data","methodValue","isFunction","apply","indexOf","instance_id","a","b","extend","c","s","t","concat","push","destroy","parseInt","isArray","defaults","unshift","sort","join","replace","split","val","inArray","_instance","addClass","_get_settings","__init","setTimeout","init","_focused","_reference","needle","o","index","container","core","get_settings","get_index","get_container","get_container_ul","children","_set_settings","_fn","plugin","pname","pdata","noop","__destroy","old","rslt","func","evnt","Event","rlbk","locked","triggerHandler","__callback","__rollback","get_rollback","__call_old","replace_arguments","rollback","rb","set_rollback","h","d","u","navigator","userAgent","v","match","css_string","test","execCommand","err","parseFloat","to_open","initially_open","to_load","initially_load","html_titles","animation","open_parents","notify_plugins","rtl","load_open","strings","loading","new_node","multiple_selection","set_focus","html","_get_string","li_height","find","eq","height","delegate","proxy","trgt","target","toggle_node","bind","sel","selection","empty","window","getSelection","removeAllRanges","collapse","_get_node","obj","th","values","load_node","loaded","reload_nodes","n","_this","is_focused","hasOwnProperty","unbind","undelegate","removeData","addBack","attr","className","_core_notify","opened","open_node","lock","unlock","removeClass","is_locked","save_opened","id","toString","save_loaded","is_callback","done","current","remaining","reopen","refreshing","map","makeArray","_is_loaded","clearTimeout","refresh","f","unset_focus","$obj","is","_get_next","strict","nextAll","size","hasClass","parentsUntil","next","_get_prev","prevAll","prev","_get_parent","_get_children","get_path","id_mode","p","get_text","reverse","key","is_open","is_closed","is_leaf","correct_state","callback","skip_animation","stop","slideDown","style","display","after_open","close_node","slideUp","after_close","open_all","do_animation","original_obj","__this","close_all","clean_node","filter","end","not","clone","append","s_call","e_call","create_node","position","js","is_loaded","metadata","state","m","language","prepend","icon","before","after","get","contents","nodeType","nodeValue","set_text","rename_node","delete_node","add","detach","prepare_move","r","pos","cb","is_cb","ot","rt","cp","cr","np","op","cop","or","check_move","ret","cy","move_node","ref","is_copy","is_prepared","skip_check","appendTo","oc","_get_move","scrollbar_width","e1","e2","top","left","width","overflow","prependTo","parent","ui","selected","last_selected","hovered","to_select","initially_select","preventDefault","currentTarget","blur","select_node","hover_node","dehover_node","reselect","save_selected","clk","selected_parent_close","deselect_node","select_prev_on_delete","parentNode","select_limit","select_multiple_modifier","select_range_modifier","selected_parent_open","disable_selecting_children","allow_multiple","_ui_notify","_fix_scroll","check","is_multiple","is_range","is_selected","proceed","deselect_all","parents","scrollHeight","offsetHeight","offset","scrollTop","scrollWidth","offsetWidth","toggle_select","get_selected","context","crrm","move","open_onmove","input_width_limit","always_copy","default_position","_show_input","w","w1","w2","h1","h2","keyCode","which","value","Math","min","text","fontFamily","fontSize","fontWeight","fontStyle","fontStretch","fontVariant","letterSpacing","wordSpacing","select","rename","new_name","old_name","create","skip_rename","cut","cp_nodes","ct_nodes","copy","paste","nodes","themes_loaded","_themes","themes","dots","icons","set_theme","theme","show_dots","hide_dots","show_icons","hide_icons","theme_name","theme_url","get_theme","toggle_dots","toggle_icons","src","bound","hotkeys","enabled","exec","revert","enable_hotkeys","click","trigger","disable_hotkeys","json_data","progressive_unload","ajax","progressive_render","load_node_json","error_func","success_func","_parse_json","x","ef","error","sf","success","isPlainObject","dataType","ul1","ul2","get_json","li_attr","a_attr","tmp1","tmp2","li","lang","result","types","type_attr","backgroundImage","languages","l","lv","k","z","sh","_load_css","set_lang","langs","st","selector","current_language","get_lang","ln","cookie","cookies","one","auto_save","save_cookie","handleObj","namespace","cookie_options","ml","sli","sti","dir1","dir2","last_pos","dnd","is_down","is_drag","helper","scroll_spd","init_x","init_y","threshold","helper_left","helper_top","user_data","drag_start","drag_stop","unselectable","onselectstart","MozUserSelect","pageX","pageY","drag","abs","scrollLeft","clearInterval","setInterval","active","inside","off","prepared","to1","to2","cof","cw","ch","i1","i2","mto","dc","tr","foreign","drag_check","is_root","drag_finish","copy_modifier","relatedTarget","cnt","hide","start_drag","dnd_enter","dnd_show","dnd_leave","dnd_finish","et","drag_target","drop_target","drop_check","drop_finish","check_timeout","open_timeout","dnd_prepare","right","show","dnd_open","dt","stopImmediatePropagation","checkbox","noui","override_ui","get_checked","_prepare_checkboxes","uncheck_node","check_node","two_state","real_checkboxes","checked_parent_open","real_checkboxes_names","ceil","random","_checkbox_notify","checked","ts","rc","rcn","nm","$t","prop","_repair_state","change_state","coll","$this","check_all","uncheck_all","is_checked","get_all","get_unchecked","show_checkboxes","hide_checkboxes","xslt","xml","xsl","q","ActiveXObject","loadXML","stylesheet","createProcessor","input","transform","output","parseXML","XSLTProcessor","importStylesheet","transformToFragment","transformNode","escape_xml","string","get_skip_empty","get_include_preamble","load_node_xml","xml_data","parse_xml","responseText","get_xml","tp","jquery","expr","jstree_contains","createPseudo","search","textContent","innerText","jstree_title_contains","getAttribute","show_only_matches","search_method","skip_async","trim","supress_callback","_search_open","clear_search","hide_on_mouseleave","vis","tgt","par","y","parse","ul","toggleClass","was_sep","action","separator_before","_class","_disabled","submenu","label","separator_after","contains","last","first","show_contextmenu","contextmenu","show_at_node","items","attach_to","icons_css","image","use_data","tagName","_get_type","_check","max_children","max_depth","valid_children","_types_notify","set_type","rule","mc","md","vc","html_data","original_container_html","load_node_html","firstChild","themeroller","item_h","inst","_themeroller","closed","item_clsd","item_open","item_leaf","item_a","item","nms","res","_check_unique","stopPropagation","error_callback","cnms","ok","unique","wholerow","to","_prepare_wholerow_span","_prepare_wholerow_ul","last_html","wrapAll","removeAttribute","nodeInterface","model","object","inter","valid","validateInterface","async","getChildren","model_done","id_prefix","nd","getProps","getAttr","getChildrenCount","getName","getType","jstree_model","__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","getter","__esModule","definition","Object","defineProperty","enumerable"],"mappings":"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","file":"javascripts/studip-admission.js","sourcesContent":["/* ------------------------------------------------------------------------\n * Anmeldeverfahren und -sets\n * ------------------------------------------------------------------------ */\n\nSTUDIP.domReady(function () {\n    $(document).on('change', 'tr.course input', function(i) {\n        STUDIP.Admission.toggleNotSavedAlert();\n    });\n\n    $('a.userlist-delete-user').on('click', function(event) {\n        $(this).closest('tr').remove();\n        return false;\n    });\n});\n","/*\n * jsTree 1.0-rc3\n * http://jstree.com/\n *\n * Copyright (c) 2010 Ivan Bozhanov (vakata.com)\n *\n * Licensed same as jquery - under the terms of either the MIT License or the GPL Version 2 License\n *   http://www.opensource.org/licenses/mit-license.php\n *   http://www.gnu.org/licenses/gpl.html\n *\n * $Date: 2011-02-09 01:17:14 +0200 (ср, 09 февр 2011) $\n * $Revision: 236 $\n */\n\n/*jslint browser: true, onevar: true, undef: true, bitwise: true, strict: true */\n/*global window : false, clearInterval: false, clearTimeout: false, document: false, setInterval: false, setTimeout: false, jQuery: false, navigator: false, XSLTProcessor: false, DOMParser: false, XMLSerializer: false, ActiveXObject: false */\n\n\"use strict\";\n\n// top wrapper to prevent multiple inclusion (is this OK?)\n(function () { if(jQuery && jQuery.jstree) { return; }\n\tvar is_ie6 = false, is_ie7 = false, is_ff2 = false;\n\n/* \n * jsTree core\n */\n(function ($) {\n\t// Common functions not related to jsTree \n\t// decided to move them to a `vakata` \"namespace\"\n\t$.vakata = {};\n\t// CSS related functions\n\t$.vakata.css = {\n\t\tget_css : function(rule_name, delete_flag, sheet) {\n\t\t\trule_name = rule_name.toLowerCase();\n\t\t\tvar css_rules = sheet.cssRules || sheet.rules,\n\t\t\t\tj = 0;\n\t\t\tdo {\n\t\t\t\tif(css_rules.length && j > css_rules.length + 5) { return false; }\n\t\t\t\tif(css_rules[j].selectorText && css_rules[j].selectorText.toLowerCase() == rule_name) {\n\t\t\t\t\tif(delete_flag === true) {\n\t\t\t\t\t\tif(sheet.removeRule) { sheet.removeRule(j); }\n\t\t\t\t\t\tif(sheet.deleteRule) { sheet.deleteRule(j); }\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\telse { return css_rules[j]; }\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (css_rules[++j]);\n\t\t\treturn false;\n\t\t},\n\t\tadd_css : function(rule_name, sheet) {\n\t\t\tif($.jstree.css.get_css(rule_name, false, sheet)) { return false; }\n\t\t\tif(sheet.insertRule) { sheet.insertRule(rule_name + ' { }', 0); } else { sheet.addRule(rule_name, null, 0); }\n\t\t\treturn $.vakata.css.get_css(rule_name);\n\t\t},\n\t\tremove_css : function(rule_name, sheet) { \n\t\t\treturn $.vakata.css.get_css(rule_name, true, sheet); \n\t\t},\n\t\tadd_sheet : function(opts) {\n\t\t\tvar tmp = false, is_new = true;\n\t\t\tif(opts.str) {\n\t\t\t\tif(opts.title) { tmp = $(\"style[id='\" + opts.title + \"-stylesheet']\")[0]; }\n\t\t\t\tif(tmp) { is_new = false; }\n\t\t\t\telse {\n\t\t\t\t\ttmp = document.createElement(\"style\");\n\t\t\t\t\ttmp.setAttribute('type',\"text/css\");\n\t\t\t\t\tif(opts.title) { tmp.setAttribute(\"id\", opts.title + \"-stylesheet\"); }\n\t\t\t\t}\n\t\t\t\tif(tmp.styleSheet) {\n\t\t\t\t\tif(is_new) { \n\t\t\t\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(tmp); \n\t\t\t\t\t\ttmp.styleSheet.cssText = opts.str; \n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\ttmp.styleSheet.cssText = tmp.styleSheet.cssText + \" \" + opts.str; \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttmp.appendChild(document.createTextNode(opts.str));\n\t\t\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(tmp);\n\t\t\t\t}\n\t\t\t\treturn tmp.sheet || tmp.styleSheet;\n\t\t\t}\n\t\t\tif(opts.url) {\n\t\t\t\tif(document.createStyleSheet) {\n\t\t\t\t\ttry { tmp = document.createStyleSheet(opts.url); } catch (e) { }\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttmp\t\t\t= document.createElement('link');\n\t\t\t\t\ttmp.rel\t\t= 'stylesheet';\n\t\t\t\t\ttmp.type\t= 'text/css';\n\t\t\t\t\ttmp.media\t= \"all\";\n\t\t\t\t\ttmp.href\t= opts.url;\n\t\t\t\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(tmp);\n\t\t\t\t\treturn tmp.styleSheet;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t// private variables \n\tvar instances = [],\t\t\t// instance array (used by $.jstree.reference/create/focused)\n\t\tfocused_instance = -1,\t// the index in the instance array of the currently focused instance\n\t\tplugins = {},\t\t\t// list of included plugins\n\t\tprepared_move = {};\t\t// for the move_node function\n\n\t// jQuery plugin wrapper (thanks to jquery UI widget function)\n\t$.fn.jstree = function (settings) {\n\t\tvar isMethodCall = (typeof settings == 'string'), // is this a method call like $().jstree(\"open_node\")\n\t\t\targs = Array.prototype.slice.call(arguments, 1), \n\t\t\treturnValue = this;\n\n\t\t// if a method call execute the method on all selected instances\n\t\tif(isMethodCall) {\n\t\t\tif(settings.substring(0, 1) == '_') { return returnValue; }\n\t\t\tthis.each(function() {\n\t\t\t\tvar instance = instances[$.data(this, \"jstree_instance_id\")],\n\t\t\t\t\tmethodValue = (instance && $.isFunction(instance[settings])) ? instance[settings].apply(instance, args) : instance;\n\t\t\t\t\tif(typeof methodValue !== \"undefined\" && (settings.indexOf(\"is_\") === 0 || (methodValue !== true && methodValue !== false))) { returnValue = methodValue; return false; }\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tthis.each(function() {\n\t\t\t\t// extend settings and allow for multiple hashes and $.data\n\t\t\t\tvar instance_id = $.data(this, \"jstree_instance_id\"),\n\t\t\t\t\ta = [],\n\t\t\t\t\tb = settings ? $.extend({}, true, settings) : {},\n\t\t\t\t\tc = $(this), \n\t\t\t\t\ts = false, \n\t\t\t\t\tt = [];\n\t\t\t\ta = a.concat(args);\n\t\t\t\tif(c.data(\"jstree\")) { a.push(c.data(\"jstree\")); }\n\t\t\t\tb = a.length ? $.extend.apply(null, [true, b].concat(a)) : b;\n\n\t\t\t\t// if an instance already exists, destroy it first\n\t\t\t\tif(typeof instance_id !== \"undefined\" && instances[instance_id]) { instances[instance_id].destroy(); }\n\t\t\t\t// push a new empty object to the instances array\n\t\t\t\tinstance_id = parseInt(instances.push({}),10) - 1;\n\t\t\t\t// store the jstree instance id to the container element\n\t\t\t\t$.data(this, \"jstree_instance_id\", instance_id);\n\t\t\t\t// clean up all plugins\n\t\t\t\tb.plugins = $.isArray(b.plugins) ? b.plugins : $.jstree.defaults.plugins.slice();\n\t\t\t\tb.plugins.unshift(\"core\");\n\t\t\t\t// only unique plugins\n\t\t\t\tb.plugins = b.plugins.sort().join(\",,\").replace(/(,|^)([^,]+)(,,\\2)+(,|$)/g,\"$1$2$4\").replace(/,,+/g,\",\").replace(/,$/,\"\").split(\",\");\n\n\t\t\t\t// extend defaults with passed data\n\t\t\t\ts = $.extend(true, {}, $.jstree.defaults, b);\n\t\t\t\ts.plugins = b.plugins;\n\t\t\t\t$.each(plugins, function (i, val) { \n\t\t\t\t\tif($.inArray(i, s.plugins) === -1) { s[i] = null; delete s[i]; } \n\t\t\t\t\telse { t.push(i); }\n\t\t\t\t});\n\t\t\t\ts.plugins = t;\n\n\t\t\t\t// push the new object to the instances array (at the same time set the default classes to the container) and init\n\t\t\t\tinstances[instance_id] = new $.jstree._instance(instance_id, $(this).addClass(\"jstree jstree-\" + instance_id), s); \n\t\t\t\t// init all activated plugins for this instance\n\t\t\t\t$.each(instances[instance_id]._get_settings().plugins, function (i, val) { instances[instance_id].data[val] = {}; });\n\t\t\t\t$.each(instances[instance_id]._get_settings().plugins, function (i, val) { if(plugins[val]) { plugins[val].__init.apply(instances[instance_id]); } });\n\t\t\t\t// initialize the instance\n\t\t\t\tsetTimeout(function() { if(instances[instance_id]) { instances[instance_id].init(); } }, 0);\n\t\t\t});\n\t\t}\n\t\t// return the jquery selection (or if it was a method call that returned a value - the returned value)\n\t\treturn returnValue;\n\t};\n\t// object to store exposed functions and objects\n\t$.jstree = {\n\t\tdefaults : {\n\t\t\tplugins : []\n\t\t},\n\t\t_focused : function () { return instances[focused_instance] || null; },\n\t\t_reference : function (needle) { \n\t\t\t// get by instance id\n\t\t\tif(instances[needle]) { return instances[needle]; }\n\t\t\t// get by DOM (if still no luck - return null\n\t\t\tvar o = $(needle); \n\t\t\tif(!o.length && typeof needle === \"string\") { o = $(\"#\" + needle); }\n\t\t\tif(!o.length) { return null; }\n\t\t\treturn instances[o.closest(\".jstree\").data(\"jstree_instance_id\")] || null; \n\t\t},\n\t\t_instance : function (index, container, settings) { \n\t\t\t// for plugins to store data in\n\t\t\tthis.data = { core : {} };\n\t\t\tthis.get_settings\t= function () { return $.extend(true, {}, settings); };\n\t\t\tthis._get_settings\t= function () { return settings; };\n\t\t\tthis.get_index\t\t= function () { return index; };\n\t\t\tthis.get_container\t= function () { return container; };\n\t\t\tthis.get_container_ul = function () { return container.children(\"ul:eq(0)\"); };\n\t\t\tthis._set_settings\t= function (s) { \n\t\t\t\tsettings = $.extend(true, {}, settings, s);\n\t\t\t};\n\t\t},\n\t\t_fn : { },\n\t\tplugin : function (pname, pdata) {\n\t\t\tpdata = $.extend({}, {\n\t\t\t\t__init\t\t: $.noop, \n\t\t\t\t__destroy\t: $.noop,\n\t\t\t\t_fn\t\t\t: {},\n\t\t\t\tdefaults\t: false\n\t\t\t}, pdata);\n\t\t\tplugins[pname] = pdata;\n\n\t\t\t$.jstree.defaults[pname] = pdata.defaults;\n\t\t\t$.each(pdata._fn, function (i, val) {\n\t\t\t\tval.plugin\t\t= pname;\n\t\t\t\tval.old\t\t\t= $.jstree._fn[i];\n\t\t\t\t$.jstree._fn[i] = function () {\n\t\t\t\t\tvar rslt,\n\t\t\t\t\t\tfunc = val,\n\t\t\t\t\t\targs = Array.prototype.slice.call(arguments),\n\t\t\t\t\t\tevnt = new $.Event(\"before.jstree\"),\n\t\t\t\t\t\trlbk = false;\n\n\t\t\t\t\tif(this.data.core.locked === true && i !== \"unlock\" && i !== \"is_locked\") { return; }\n\n\t\t\t\t\t// Check if function belongs to the included plugins of this instance\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif(func && func.plugin && $.inArray(func.plugin, this._get_settings().plugins) !== -1) { break; }\n\t\t\t\t\t\tfunc = func.old;\n\t\t\t\t\t} while(func);\n\t\t\t\t\tif(!func) { return; }\n\n\t\t\t\t\t// context and function to trigger events, then finally call the function\n\t\t\t\t\tif(i.indexOf(\"_\") === 0) {\n\t\t\t\t\t\trslt = func.apply(this, args);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\trslt = this.get_container().triggerHandler(evnt, { \"func\" : i, \"inst\" : this, \"args\" : args, \"plugin\" : func.plugin });\n\t\t\t\t\t\tif(rslt === false) { return; }\n\t\t\t\t\t\tif(typeof rslt !== \"undefined\") { args = rslt; }\n\n\t\t\t\t\t\trslt = func.apply(\n\t\t\t\t\t\t\t$.extend({}, this, { \n\t\t\t\t\t\t\t\t__callback : function (data) { \n\t\t\t\t\t\t\t\t\tthis.get_container().triggerHandler( i + '.jstree', { \"inst\" : this, \"args\" : args, \"rslt\" : data, \"rlbk\" : rlbk });\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t__rollback : function () { \n\t\t\t\t\t\t\t\t\trlbk = this.get_rollback();\n\t\t\t\t\t\t\t\t\treturn rlbk;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t__call_old : function (replace_arguments) {\n\t\t\t\t\t\t\t\t\treturn func.old.apply(this, (replace_arguments ? Array.prototype.slice.call(arguments, 1) : args ) );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}), args);\n\t\t\t\t\t}\n\n\t\t\t\t\t// return the result\n\t\t\t\t\treturn rslt;\n\t\t\t\t};\n\t\t\t\t$.jstree._fn[i].old = val.old;\n\t\t\t\t$.jstree._fn[i].plugin = pname;\n\t\t\t});\n\t\t},\n\t\trollback : function (rb) {\n\t\t\tif(rb) {\n\t\t\t\tif(!$.isArray(rb)) { rb = [ rb ]; }\n\t\t\t\t$.each(rb, function (i, val) {\n\t\t\t\t\tinstances[val.i].set_rollback(val.h, val.d);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\t// set the prototype for all instances\n\t$.jstree._fn = $.jstree._instance.prototype = {};\n\n\t// load the css when DOM is ready\n\t$(function() {\n\t\t// code is copied from jQuery ($.browser is deprecated + there is a bug in IE)\n\t\tvar u = navigator.userAgent.toLowerCase(),\n\t\t\tv = (u.match( /.+?(?:rv|it|ra|ie)[\\/: ]([\\d.]+)/ ) || [0,'0'])[1],\n\t\t\tcss_string = '' + \n\t\t\t\t'.jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } ' + \n\t\t\t\t'.jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } ' + \n\t\t\t\t'.jstree-rtl li { margin-left:0; margin-right:18px; } ' + \n\t\t\t\t'.jstree > ul > li { margin-left:0px; } ' + \n\t\t\t\t'.jstree-rtl > ul > li { margin-right:0px; } ' + \n\t\t\t\t'.jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } ' + \n\t\t\t\t'.jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } ' + \n\t\t\t\t'.jstree a:focus { outline: none; } ' + \n\t\t\t\t'.jstree a > ins { height:16px; width:16px; } ' + \n\t\t\t\t'.jstree a > .jstree-icon { margin-right:3px; } ' + \n\t\t\t\t'.jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } ' + \n\t\t\t\t'li.jstree-open > ul { display:block; } ' + \n\t\t\t\t'li.jstree-closed > ul { display:none; } ';\n\t\t// Correct IE 6 (does not support the > CSS selector)\n\t\tif(/msie/.test(u) && parseInt(v, 10) == 6) { \n\t\t\tis_ie6 = true;\n\n\t\t\t// fix image flicker and lack of caching\n\t\t\ttry {\n\t\t\t\tdocument.execCommand(\"BackgroundImageCache\", false, true);\n\t\t\t} catch (err) { }\n\n\t\t\tcss_string += '' + \n\t\t\t\t'.jstree li { height:18px; margin-left:0; margin-right:0; } ' + \n\t\t\t\t'.jstree li li { margin-left:18px; } ' + \n\t\t\t\t'.jstree-rtl li li { margin-left:0px; margin-right:18px; } ' + \n\t\t\t\t'li.jstree-open ul { display:block; } ' + \n\t\t\t\t'li.jstree-closed ul { display:none !important; } ' + \n\t\t\t\t'.jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } ' + \n\t\t\t\t'.jstree li a ins { height:16px; width:16px; margin-right:3px; } ' + \n\t\t\t\t'.jstree-rtl li a ins { margin-right:0px; margin-left:3px; } ';\n\t\t}\n\t\t// Correct IE 7 (shifts anchor nodes onhover)\n\t\tif(/msie/.test(u) && parseInt(v, 10) == 7) { \n\t\t\tis_ie7 = true;\n\t\t\tcss_string += '.jstree li a { border-width:0 !important; padding:0px 2px !important; } ';\n\t\t}\n\t\t// correct ff2 lack of display:inline-block\n\t\tif(!/compatible/.test(u) && /mozilla/.test(u) && parseFloat(v, 10) < 1.9) {\n\t\t\tis_ff2 = true;\n\t\t\tcss_string += '' + \n\t\t\t\t'.jstree ins { display:-moz-inline-box; } ' + \n\t\t\t\t'.jstree li { line-height:12px; } ' + // WHY??\n\t\t\t\t'.jstree a { display:-moz-inline-box; } ' + \n\t\t\t\t'.jstree .jstree-no-icons .jstree-checkbox { display:-moz-inline-stack !important; } ';\n\t\t\t\t/* this shouldn't be here as it is theme specific */\n\t\t}\n\t\t// the default stylesheet\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"jstree\" });\n\t});\n\n\t// core functions (open, close, create, update, delete)\n\t$.jstree.plugin(\"core\", {\n\t\t__init : function () {\n\t\t\tthis.data.core.locked = false;\n\t\t\tthis.data.core.to_open = this.get_settings().core.initially_open;\n\t\t\tthis.data.core.to_load = this.get_settings().core.initially_load;\n\t\t},\n\t\tdefaults : { \n\t\t\thtml_titles\t: false,\n\t\t\tanimation\t: 500,\n\t\t\tinitially_open : [],\n\t\t\tinitially_load : [],\n\t\t\topen_parents : true,\n\t\t\tnotify_plugins : true,\n\t\t\trtl\t\t\t: false,\n\t\t\tload_open\t: false,\n\t\t\tstrings\t\t: {\n\t\t\t\tloading\t\t: \"Loading ...\",\n\t\t\t\tnew_node\t: \"New node\",\n\t\t\t\tmultiple_selection : \"Multiple selection\"\n\t\t\t}\n\t\t},\n\t\t_fn : { \n\t\t\tinit\t: function () { \n\t\t\t\tthis.set_focus(); \n\t\t\t\tif(this._get_settings().core.rtl) {\n\t\t\t\t\tthis.get_container().addClass(\"jstree-rtl\").css(\"direction\", \"rtl\");\n\t\t\t\t}\n\t\t\t\tthis.get_container().html(\"<ul><li class='jstree-last jstree-leaf'><ins>&#160;</ins><a class='jstree-loading' href='#'><ins class='jstree-icon'>&#160;</ins>\" + this._get_string(\"loading\") + \"</a></li></ul>\");\n\t\t\t\tthis.data.core.li_height = this.get_container_ul().find(\"li.jstree-closed, li.jstree-leaf\").eq(0).height() || 18;\n\n\t\t\t\tthis.get_container()\n\t\t\t\t\t.delegate(\"li > ins\", \"click.jstree\", $.proxy(function (event) {\n\t\t\t\t\t\t\tvar trgt = $(event.target);\n\t\t\t\t\t\t\t// if(trgt.is(\"ins\") && event.pageY - trgt.offset().top < this.data.core.li_height) { this.toggle_node(trgt); }\n\t\t\t\t\t\t\tthis.toggle_node(trgt);\n\t\t\t\t\t\t}, this))\n\t\t\t\t\t.bind(\"mousedown.jstree\", $.proxy(function () { \n\t\t\t\t\t\t\tthis.set_focus(); // This used to be setTimeout(set_focus,0) - why?\n\t\t\t\t\t\t}, this))\n\t\t\t\t\t.bind(\"dblclick.jstree\", function (event) { \n\t\t\t\t\t\tvar sel;\n\t\t\t\t\t\tif(document.selection && document.selection.empty) { document.selection.empty(); }\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif(window.getSelection) {\n\t\t\t\t\t\t\t\tsel = window.getSelection();\n\t\t\t\t\t\t\t\ttry { \n\t\t\t\t\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\t\t\t\t\tsel.collapse();\n\t\t\t\t\t\t\t\t} catch (err) { }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tif(this._get_settings().core.notify_plugins) {\n\t\t\t\t\tthis.get_container()\n\t\t\t\t\t\t.bind(\"load_node.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\t\t\tvar o = this._get_node(data.rslt.obj),\n\t\t\t\t\t\t\t\t\tt = this;\n\t\t\t\t\t\t\t\tif(o === -1) { o = this.get_container_ul(); }\n\t\t\t\t\t\t\t\tif(!o.length) { return; }\n\t\t\t\t\t\t\t\to.find(\"li\").each(function () {\n\t\t\t\t\t\t\t\t\tvar th = $(this);\n\t\t\t\t\t\t\t\t\tif(th.data(\"jstree\")) {\n\t\t\t\t\t\t\t\t\t\t$.each(th.data(\"jstree\"), function (plugin, values) {\n\t\t\t\t\t\t\t\t\t\t\tif(t.data[plugin] && $.isFunction(t[\"_\" + plugin + \"_notify\"])) {\n\t\t\t\t\t\t\t\t\t\t\t\tt[\"_\" + plugin + \"_notify\"].call(t, th, values);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, this));\n\t\t\t\t}\n\t\t\t\tif(this._get_settings().core.load_open) {\n\t\t\t\t\tthis.get_container()\n\t\t\t\t\t\t.bind(\"load_node.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\t\t\tvar o = this._get_node(data.rslt.obj),\n\t\t\t\t\t\t\t\t\tt = this;\n\t\t\t\t\t\t\t\tif(o === -1) { o = this.get_container_ul(); }\n\t\t\t\t\t\t\t\tif(!o.length) { return; }\n\t\t\t\t\t\t\t\to.find(\"li.jstree-open:not(:has(ul))\").each(function () {\n\t\t\t\t\t\t\t\t\tt.load_node(this, $.noop, $.noop);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, this));\n\t\t\t\t}\n\t\t\t\tthis.__callback();\n\t\t\t\tthis.load_node(-1, function () { this.loaded(); this.reload_nodes(); });\n\t\t\t},\n\t\t\tdestroy\t: function () { \n\t\t\t\tvar i,\n\t\t\t\t\tn = this.get_index(),\n\t\t\t\t\ts = this._get_settings(),\n\t\t\t\t\t_this = this;\n\n\t\t\t\t$.each(s.plugins, function (i, val) {\n\t\t\t\t\ttry { plugins[val].__destroy.apply(_this); } catch(err) { }\n\t\t\t\t});\n\t\t\t\tthis.__callback();\n\t\t\t\t// set focus to another instance if this one is focused\n\t\t\t\tif(this.is_focused()) { \n\t\t\t\t\tfor(i in instances) { \n\t\t\t\t\t\tif(instances.hasOwnProperty(i) && i != n) { \n\t\t\t\t\t\t\tinstances[i].set_focus(); \n\t\t\t\t\t\t\tbreak; \n\t\t\t\t\t\t} \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// if no other instance found\n\t\t\t\tif(n === focused_instance) { focused_instance = -1; }\n\t\t\t\t// remove all traces of jstree in the DOM (only the ones set using jstree*) and cleans all events\n\t\t\t\tthis.get_container()\n\t\t\t\t\t.unbind(\".jstree\")\n\t\t\t\t\t.undelegate(\".jstree\")\n\t\t\t\t\t.removeData(\"jstree_instance_id\")\n\t\t\t\t\t.find(\"[class^='jstree']\")\n\t\t\t\t\t\t.addBack()\n\t\t\t\t\t\t.attr(\"class\", function () { return this.className.replace(/jstree[^ ]*|$/ig,''); });\n\t\t\t\t$(document)\n\t\t\t\t\t.unbind(\".jstree-\" + n)\n\t\t\t\t\t.undelegate(\".jstree-\" + n);\n\t\t\t\t// remove the actual data\n\t\t\t\tinstances[n] = null;\n\t\t\t\tdelete instances[n];\n\t\t\t},\n\n\t\t\t_core_notify : function (n, data) {\n\t\t\t\tif(data.opened) {\n\t\t\t\t\tthis.open_node(n, false, true);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tlock : function () {\n\t\t\t\tthis.data.core.locked = true;\n\t\t\t\tthis.get_container().children(\"ul\").addClass(\"jstree-locked\").css(\"opacity\",\"0.7\");\n\t\t\t\tthis.__callback({});\n\t\t\t},\n\t\t\tunlock : function () {\n\t\t\t\tthis.data.core.locked = false;\n\t\t\t\tthis.get_container().children(\"ul\").removeClass(\"jstree-locked\").css(\"opacity\",\"1\");\n\t\t\t\tthis.__callback({});\n\t\t\t},\n\t\t\tis_locked : function () { return this.data.core.locked; },\n\t\t\tsave_opened : function () {\n\t\t\t\tvar _this = this;\n\t\t\t\tthis.data.core.to_open = [];\n\t\t\t\tthis.get_container_ul().find(\"li.jstree-open\").each(function () { \n\t\t\t\t\tif(this.id) { _this.data.core.to_open.push(\"#\" + this.id.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\")); }\n\t\t\t\t});\n\t\t\t\tthis.__callback(_this.data.core.to_open);\n\t\t\t},\n\t\t\tsave_loaded : function () { },\n\t\t\treload_nodes : function (is_callback) {\n\t\t\t\tvar _this = this,\n\t\t\t\t\tdone = true,\n\t\t\t\t\tcurrent = [],\n\t\t\t\t\tremaining = [];\n\t\t\t\tif(!is_callback) { \n\t\t\t\t\tthis.data.core.reopen = false; \n\t\t\t\t\tthis.data.core.refreshing = true; \n\t\t\t\t\tthis.data.core.to_open = $.map($.makeArray(this.data.core.to_open), function (n) { return \"#\" + n.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\"); });\n\t\t\t\t\tthis.data.core.to_load = $.map($.makeArray(this.data.core.to_load), function (n) { return \"#\" + n.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\"); });\n\t\t\t\t\tif(this.data.core.to_open.length) {\n\t\t\t\t\t\tthis.data.core.to_load = this.data.core.to_load.concat(this.data.core.to_open);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(this.data.core.to_load.length) {\n\t\t\t\t\t$.each(this.data.core.to_load, function (i, val) {\n\t\t\t\t\t\tif(val == \"#\") { return true; }\n\t\t\t\t\t\tif($(val).length) { current.push(val); }\n\t\t\t\t\t\telse { remaining.push(val); }\n\t\t\t\t\t});\n\t\t\t\t\tif(current.length) {\n\t\t\t\t\t\tthis.data.core.to_load = remaining;\n\t\t\t\t\t\t$.each(current, function (i, val) { \n\t\t\t\t\t\t\tif(!_this._is_loaded(val)) {\n\t\t\t\t\t\t\t\t_this.load_node(val, function () { _this.reload_nodes(true); }, function () { _this.reload_nodes(true); });\n\t\t\t\t\t\t\t\tdone = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(this.data.core.to_open.length) {\n\t\t\t\t\t$.each(this.data.core.to_open, function (i, val) {\n\t\t\t\t\t\t_this.open_node(val, false, true); \n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif(done) { \n\t\t\t\t\t// TODO: find a more elegant approach to syncronizing returning requests\n\t\t\t\t\tif(this.data.core.reopen) { clearTimeout(this.data.core.reopen); }\n\t\t\t\t\tthis.data.core.reopen = setTimeout(function () { _this.__callback({}, _this); }, 50);\n\t\t\t\t\tthis.data.core.refreshing = false;\n\t\t\t\t\tthis.reopen();\n\t\t\t\t}\n\t\t\t},\n\t\t\treopen : function () {\n\t\t\t\tvar _this = this;\n\t\t\t\tif(this.data.core.to_open.length) {\n\t\t\t\t\t$.each(this.data.core.to_open, function (i, val) {\n\t\t\t\t\t\t_this.open_node(val, false, true); \n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.__callback({});\n\t\t\t},\n\t\t\trefresh : function (obj) {\n\t\t\t\tvar _this = this;\n\t\t\t\tthis.save_opened();\n\t\t\t\tif(!obj) { obj = -1; }\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj) { obj = -1; }\n\t\t\t\tif(obj !== -1) { obj.children(\"UL\").remove(); }\n\t\t\t\telse { this.get_container_ul().empty(); }\n\t\t\t\tthis.load_node(obj, function () { _this.__callback({ \"obj\" : obj}); _this.reload_nodes(); });\n\t\t\t},\n\t\t\t// Dummy function to fire after the first load (so that there is a jstree.loaded event)\n\t\t\tloaded\t: function () { \n\t\t\t\tthis.__callback(); \n\t\t\t},\n\t\t\t// deal with focus\n\t\t\tset_focus\t: function () { \n\t\t\t\tif(this.is_focused()) { return; }\n\t\t\t\tvar f = $.jstree._focused();\n\t\t\t\tif(f) { f.unset_focus(); }\n\n\t\t\t\tthis.get_container().addClass(\"jstree-focused\"); \n\t\t\t\tfocused_instance = this.get_index(); \n\t\t\t\tthis.__callback();\n\t\t\t},\n\t\t\tis_focused\t: function () { \n\t\t\t\treturn focused_instance == this.get_index(); \n\t\t\t},\n\t\t\tunset_focus\t: function () {\n\t\t\t\tif(this.is_focused()) {\n\t\t\t\t\tthis.get_container().removeClass(\"jstree-focused\"); \n\t\t\t\t\tfocused_instance = -1; \n\t\t\t\t}\n\t\t\t\tthis.__callback();\n\t\t\t},\n\n\t\t\t// traverse\n\t\t\t_get_node\t\t: function (obj) { \n\t\t\t\tvar $obj = $(obj, this.get_container()); \n\t\t\t\tif($obj.is(\".jstree\") || obj == -1) { return -1; } \n\t\t\t\t$obj = $obj.closest(\"li\", this.get_container()); \n\t\t\t\treturn $obj.length ? $obj : false; \n\t\t\t},\n\t\t\t_get_next\t\t: function (obj, strict) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj === -1) { return this.get_container().find(\"> ul > li:first-child\"); }\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\tif(strict) { return (obj.nextAll(\"li\").size() > 0) ? obj.nextAll(\"li:eq(0)\") : false; }\n\n\t\t\t\tif(obj.hasClass(\"jstree-open\")) { return obj.find(\"li:eq(0)\"); }\n\t\t\t\telse if(obj.nextAll(\"li\").size() > 0) { return obj.nextAll(\"li:eq(0)\"); }\n\t\t\t\telse { return obj.parentsUntil(\".jstree\",\"li\").next(\"li\").eq(0); }\n\t\t\t},\n\t\t\t_get_prev\t\t: function (obj, strict) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj === -1) { return this.get_container().find(\"> ul > li:last-child\"); }\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\tif(strict) { return (obj.prevAll(\"li\").length > 0) ? obj.prevAll(\"li:eq(0)\") : false; }\n\n\t\t\t\tif(obj.prev(\"li\").length) {\n\t\t\t\t\tobj = obj.prev(\"li\").eq(0);\n\t\t\t\t\twhile(obj.hasClass(\"jstree-open\")) { obj = obj.children(\"ul:eq(0)\").children(\"li:last\"); }\n\t\t\t\t\treturn obj;\n\t\t\t\t}\n\t\t\t\telse { var o = obj.parentsUntil(\".jstree\",\"li:eq(0)\"); return o.length ? o : false; }\n\t\t\t},\n\t\t\t_get_parent\t\t: function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj == -1 || !obj.length) { return false; }\n\t\t\t\tvar o = obj.parentsUntil(\".jstree\", \"li:eq(0)\");\n\t\t\t\treturn o.length ? o : -1;\n\t\t\t},\n\t\t\t_get_children\t: function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj === -1) { return this.get_container().children(\"ul:eq(0)\").children(\"li\"); }\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\treturn obj.children(\"ul:eq(0)\").children(\"li\");\n\t\t\t},\n\t\t\tget_path\t\t: function (obj, id_mode) {\n\t\t\t\tvar p = [],\n\t\t\t\t\t_this = this;\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj === -1 || !obj || !obj.length) { return false; }\n\t\t\t\tobj.parentsUntil(\".jstree\", \"li\").each(function () {\n\t\t\t\t\tp.push( id_mode ? this.id : _this.get_text(this) );\n\t\t\t\t});\n\t\t\t\tp.reverse();\n\t\t\t\tp.push( id_mode ? obj.attr(\"id\") : this.get_text(obj) );\n\t\t\t\treturn p;\n\t\t\t},\n\n\t\t\t// string functions\n\t\t\t_get_string : function (key) {\n\t\t\t\treturn this._get_settings().core.strings[key] || key;\n\t\t\t},\n\n\t\t\tis_open\t\t: function (obj) { obj = this._get_node(obj); return obj && obj !== -1 && obj.hasClass(\"jstree-open\"); },\n\t\t\tis_closed\t: function (obj) { obj = this._get_node(obj); return obj && obj !== -1 && obj.hasClass(\"jstree-closed\"); },\n\t\t\tis_leaf\t\t: function (obj) { obj = this._get_node(obj); return obj && obj !== -1 && obj.hasClass(\"jstree-leaf\"); },\n\t\t\tcorrect_state\t: function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj || obj === -1) { return false; }\n\t\t\t\tobj.removeClass(\"jstree-closed jstree-open\").addClass(\"jstree-leaf\").children(\"ul\").remove();\n\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t},\n\t\t\t// open/close\n\t\t\topen_node\t: function (obj, callback, skip_animation) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\tif(!obj.hasClass(\"jstree-closed\")) { if(callback) { callback.call(); } return false; }\n\t\t\t\tvar s = skip_animation || is_ie6 ? 0 : this._get_settings().core.animation,\n\t\t\t\t\tt = this;\n\t\t\t\tif(!this._is_loaded(obj)) {\n\t\t\t\t\tobj.children(\"a\").addClass(\"jstree-loading\");\n\t\t\t\t\tthis.load_node(obj, function () { t.open_node(obj, callback, skip_animation); }, callback);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif(this._get_settings().core.open_parents) {\n\t\t\t\t\t\tobj.parentsUntil(\".jstree\",\".jstree-closed\").each(function () {\n\t\t\t\t\t\t\tt.open_node(this, false, true);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif(s) { obj.children(\"ul\").css(\"display\",\"none\"); }\n\t\t\t\t\tobj.removeClass(\"jstree-closed\").addClass(\"jstree-open\").children(\"a\").removeClass(\"jstree-loading\");\n\t\t\t\t\tif(s) { obj.children(\"ul\").stop(true, true).slideDown(s, function () { this.style.display = \"\"; t.after_open(obj); }); }\n\t\t\t\t\telse { t.after_open(obj); }\n\t\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t\t\tif(callback) { callback.call(); }\n\t\t\t\t}\n\t\t\t},\n\t\t\tafter_open\t: function (obj) { this.__callback({ \"obj\" : obj }); },\n\t\t\tclose_node\t: function (obj, skip_animation) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tvar s = skip_animation || is_ie6 ? 0 : this._get_settings().core.animation,\n\t\t\t\t\tt = this;\n\t\t\t\tif(!obj.length || !obj.hasClass(\"jstree-open\")) { return false; }\n\t\t\t\tif(s) { obj.children(\"ul\").attr(\"style\",\"display:block !important\"); }\n\t\t\t\tobj.removeClass(\"jstree-open\").addClass(\"jstree-closed\");\n\t\t\t\tif(s) { obj.children(\"ul\").stop(true, true).slideUp(s, function () { this.style.display = \"\"; t.after_close(obj); }); }\n\t\t\t\telse { t.after_close(obj); }\n\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t},\n\t\t\tafter_close\t: function (obj) { this.__callback({ \"obj\" : obj }); },\n\t\t\ttoggle_node\t: function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj.hasClass(\"jstree-closed\")) { return this.open_node(obj); }\n\t\t\t\tif(obj.hasClass(\"jstree-open\")) { return this.close_node(obj); }\n\t\t\t},\n\t\t\topen_all\t: function (obj, do_animation, original_obj) {\n\t\t\t\tobj = obj ? this._get_node(obj) : -1;\n\t\t\t\tif(!obj || obj === -1) { obj = this.get_container_ul(); }\n\t\t\t\tif(original_obj) { \n\t\t\t\t\tobj = obj.find(\"li.jstree-closed\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\toriginal_obj = obj;\n\t\t\t\t\tif(obj.is(\".jstree-closed\")) { obj = obj.find(\"li.jstree-closed\").addBack(); }\n\t\t\t\t\telse { obj = obj.find(\"li.jstree-closed\"); }\n\t\t\t\t}\n\t\t\t\tvar _this = this;\n\t\t\t\tobj.each(function () { \n\t\t\t\t\tvar __this = this; \n\t\t\t\t\tif(!_this._is_loaded(this)) { _this.open_node(this, function() { _this.open_all(__this, do_animation, original_obj); }, !do_animation); }\n\t\t\t\t\telse { _this.open_node(this, false, !do_animation); }\n\t\t\t\t});\n\t\t\t\t// so that callback is fired AFTER all nodes are open\n\t\t\t\tif(original_obj.find('li.jstree-closed').length === 0) { this.__callback({ \"obj\" : original_obj }); }\n\t\t\t},\n\t\t\tclose_all\t: function (obj, do_animation) {\n\t\t\t\tvar _this = this;\n\t\t\t\tobj = obj ? this._get_node(obj) : this.get_container();\n\t\t\t\tif(!obj || obj === -1) { obj = this.get_container_ul(); }\n\t\t\t\tobj.find(\"li.jstree-open\").addBack().each(function () { _this.close_node(this, !do_animation); });\n\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t},\n\t\t\tclean_node\t: function (obj) {\n\t\t\t\tobj = obj && obj != -1 ? $(obj) : this.get_container_ul();\n\t\t\t\tobj = obj.is(\"li\") ? obj.find(\"li\").addBack() : obj.find(\"li\");\n\t\t\t\tobj.removeClass(\"jstree-last\")\n\t\t\t\t\t.filter(\"li:last-child\").addClass(\"jstree-last\").end()\n\t\t\t\t\t.filter(\":has(li)\")\n\t\t\t\t\t\t.not(\".jstree-open\").removeClass(\"jstree-leaf\").addClass(\"jstree-closed\");\n\t\t\t\tobj.not(\".jstree-open, .jstree-closed\").addClass(\"jstree-leaf\").children(\"ul\").remove();\n\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t},\n\t\t\t// rollback\n\t\t\tget_rollback : function () { \n\t\t\t\tthis.__callback();\n\t\t\t\treturn { i : this.get_index(), h : this.get_container().children(\"ul\").clone(true), d : this.data }; \n\t\t\t},\n\t\t\tset_rollback : function (html, data) {\n\t\t\t\tthis.get_container().empty().append(html);\n\t\t\t\tthis.data = data;\n\t\t\t\tthis.__callback();\n\t\t\t},\n\t\t\t// Dummy functions to be overwritten by any datastore plugin included\n\t\t\tload_node\t: function (obj, s_call, e_call) { this.__callback({ \"obj\" : obj }); },\n\t\t\t_is_loaded\t: function (obj) { return true; },\n\n\t\t\t// Basic operations: create\n\t\t\tcreate_node\t: function (obj, position, js, callback, is_loaded) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tposition = typeof position === \"undefined\" ? \"last\" : position;\n\t\t\t\tvar d = $(\"<li />\"),\n\t\t\t\t\ts = this._get_settings().core,\n\t\t\t\t\ttmp;\n\n\t\t\t\tif(obj !== -1 && !obj.length) { return false; }\n\t\t\t\tif(!is_loaded && !this._is_loaded(obj)) { this.load_node(obj, function () { this.create_node(obj, position, js, callback, true); }); return false; }\n\n\t\t\t\tthis.__rollback();\n\n\t\t\t\tif(typeof js === \"string\") { js = { \"data\" : js }; }\n\t\t\t\tif(!js) { js = {}; }\n\t\t\t\tif(js.attr) { d.attr(js.attr); }\n\t\t\t\tif(js.metadata) { d.data(js.metadata); }\n\t\t\t\tif(js.state) { d.addClass(\"jstree-\" + js.state); }\n\t\t\t\tif(!js.data) { js.data = this._get_string(\"new_node\"); }\n\t\t\t\tif(!$.isArray(js.data)) { tmp = js.data; js.data = []; js.data.push(tmp); }\n\t\t\t\t$.each(js.data, function (i, m) {\n\t\t\t\t\ttmp = $(\"<a />\");\n\t\t\t\t\tif($.isFunction(m)) { m = m.call(this, js); }\n\t\t\t\t\tif(typeof m == \"string\") { tmp.attr('href','#')[ s.html_titles ? \"html\" : \"text\" ](m); }\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(!m.attr) { m.attr = {}; }\n\t\t\t\t\t\tif(!m.attr.href) { m.attr.href = '#'; }\n\t\t\t\t\t\ttmp.attr(m.attr)[ s.html_titles ? \"html\" : \"text\" ](m.title);\n\t\t\t\t\t\tif(m.language) { tmp.addClass(m.language); }\n\t\t\t\t\t}\n\t\t\t\t\ttmp.prepend(\"<ins class='jstree-icon'>&#160;</ins>\");\n\t\t\t\t\tif(!m.icon && js.icon) { m.icon = js.icon; }\n\t\t\t\t\tif(m.icon) { \n\t\t\t\t\t\tif(m.icon.indexOf(\"/\") === -1) { tmp.children(\"ins\").addClass(m.icon); }\n\t\t\t\t\t\telse { tmp.children(\"ins\").css(\"background\",\"url('\" + m.icon + \"') center center no-repeat\"); }\n\t\t\t\t\t}\n\t\t\t\t\td.append(tmp);\n\t\t\t\t});\n\t\t\t\td.prepend(\"<ins class='jstree-icon'>&#160;</ins>\");\n\t\t\t\tif(obj === -1) {\n\t\t\t\t\tobj = this.get_container();\n\t\t\t\t\tif(position === \"before\") { position = \"first\"; }\n\t\t\t\t\tif(position === \"after\") { position = \"last\"; }\n\t\t\t\t}\n\t\t\t\tswitch(position) {\n\t\t\t\t\tcase \"before\": obj.before(d); tmp = this._get_parent(obj); break;\n\t\t\t\t\tcase \"after\" : obj.after(d);  tmp = this._get_parent(obj); break;\n\t\t\t\t\tcase \"inside\":\n\t\t\t\t\tcase \"first\" :\n\t\t\t\t\t\tif(!obj.children(\"ul\").length) { obj.append(\"<ul />\"); }\n\t\t\t\t\t\tobj.children(\"ul\").prepend(d);\n\t\t\t\t\t\ttmp = obj;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"last\":\n\t\t\t\t\t\tif(!obj.children(\"ul\").length) { obj.append(\"<ul />\"); }\n\t\t\t\t\t\tobj.children(\"ul\").append(d);\n\t\t\t\t\t\ttmp = obj;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(!obj.children(\"ul\").length) { obj.append(\"<ul />\"); }\n\t\t\t\t\t\tif(!position) { position = 0; }\n\t\t\t\t\t\ttmp = obj.children(\"ul\").children(\"li\").eq(position);\n\t\t\t\t\t\tif(tmp.length) { tmp.before(d); }\n\t\t\t\t\t\telse { obj.children(\"ul\").append(d); }\n\t\t\t\t\t\ttmp = obj;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(tmp === -1 || tmp.get(0) === this.get_container().get(0)) { tmp = -1; }\n\t\t\t\tthis.clean_node(tmp);\n\t\t\t\tthis.__callback({ \"obj\" : d, \"parent\" : tmp });\n\t\t\t\tif(callback) { callback.call(this, d); }\n\t\t\t\treturn d;\n\t\t\t},\n\t\t\t// Basic operations: rename (deal with text)\n\t\t\tget_text\t: function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\tvar s = this._get_settings().core.html_titles;\n\t\t\t\tobj = obj.children(\"a:eq(0)\");\n\t\t\t\tif(s) {\n\t\t\t\t\tobj = obj.clone();\n\t\t\t\t\tobj.children(\"INS\").remove();\n\t\t\t\t\treturn obj.html();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tobj = obj.contents().filter(function() { return this.nodeType == 3; })[0];\n\t\t\t\t\treturn obj.nodeValue;\n\t\t\t\t}\n\t\t\t},\n\t\t\tset_text\t: function (obj, val) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\tobj = obj.children(\"a:eq(0)\");\n\t\t\t\tif(this._get_settings().core.html_titles) {\n\t\t\t\t\tvar tmp = obj.children(\"INS\").clone();\n\t\t\t\t\tobj.html(val).prepend(tmp);\n\t\t\t\t\tthis.__callback({ \"obj\" : obj, \"name\" : val });\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tobj = obj.contents().filter(function() { return this.nodeType == 3; })[0];\n\t\t\t\t\tthis.__callback({ \"obj\" : obj, \"name\" : val });\n\t\t\t\t\treturn (obj.nodeValue = val);\n\t\t\t\t}\n\t\t\t},\n\t\t\trename_node : function (obj, val) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tthis.__rollback();\n\t\t\t\tif(obj && obj.length && this.set_text.apply(this, Array.prototype.slice.call(arguments))) { this.__callback({ \"obj\" : obj, \"name\" : val }); }\n\t\t\t},\n\t\t\t// Basic operations: deleting nodes\n\t\t\tdelete_node : function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\tthis.__rollback();\n\t\t\t\tvar p = this._get_parent(obj), prev = $([]), t = this;\n\t\t\t\tobj.each(function () {\n\t\t\t\t\tprev = prev.add(t._get_prev(this));\n\t\t\t\t});\n\t\t\t\tobj = obj.detach();\n\t\t\t\tif(p !== -1 && p.find(\"> ul > li\").length === 0) {\n\t\t\t\t\tp.removeClass(\"jstree-open jstree-closed\").addClass(\"jstree-leaf\");\n\t\t\t\t}\n\t\t\t\tthis.clean_node(p);\n\t\t\t\tthis.__callback({ \"obj\" : obj, \"prev\" : prev, \"parent\" : p });\n\t\t\t\treturn obj;\n\t\t\t},\n\t\t\tprepare_move : function (o, r, pos, cb, is_cb) {\n\t\t\t\tvar p = {};\n\n\t\t\t\tp.ot = $.jstree._reference(o) || this;\n\t\t\t\tp.o = p.ot._get_node(o);\n\t\t\t\tp.r = r === - 1 ? -1 : this._get_node(r);\n\t\t\t\tp.p = (typeof pos === \"undefined\" || pos === false) ? \"last\" : pos; // TODO: move to a setting\n\t\t\t\tif(!is_cb && prepared_move.o && prepared_move.o[0] === p.o[0] && prepared_move.r[0] === p.r[0] && prepared_move.p === p.p) {\n\t\t\t\t\tthis.__callback(prepared_move);\n\t\t\t\t\tif(cb) { cb.call(this, prepared_move); }\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tp.ot = $.jstree._reference(p.o) || this;\n\t\t\t\tp.rt = $.jstree._reference(p.r) || this; // r === -1 ? p.ot : $.jstree._reference(p.r) || this\n\t\t\t\tif(p.r === -1 || !p.r) {\n\t\t\t\t\tp.cr = -1;\n\t\t\t\t\tswitch(p.p) {\n\t\t\t\t\t\tcase \"first\":\n\t\t\t\t\t\tcase \"before\":\n\t\t\t\t\t\tcase \"inside\":\n\t\t\t\t\t\t\tp.cp = 0; \n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"after\":\n\t\t\t\t\t\tcase \"last\":\n\t\t\t\t\t\t\tp.cp = p.rt.get_container().find(\" > ul > li\").length; \n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tp.cp = p.p;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif(!/^(before|after)$/.test(p.p) && !this._is_loaded(p.r)) {\n\t\t\t\t\t\treturn this.load_node(p.r, function () { this.prepare_move(o, r, pos, cb, true); });\n\t\t\t\t\t}\n\t\t\t\t\tswitch(p.p) {\n\t\t\t\t\t\tcase \"before\":\n\t\t\t\t\t\t\tp.cp = p.r.index();\n\t\t\t\t\t\t\tp.cr = p.rt._get_parent(p.r);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"after\":\n\t\t\t\t\t\t\tp.cp = p.r.index() + 1;\n\t\t\t\t\t\t\tp.cr = p.rt._get_parent(p.r);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"inside\":\n\t\t\t\t\t\tcase \"first\":\n\t\t\t\t\t\t\tp.cp = 0;\n\t\t\t\t\t\t\tp.cr = p.r;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"last\":\n\t\t\t\t\t\t\tp.cp = p.r.find(\" > ul > li\").length; \n\t\t\t\t\t\t\tp.cr = p.r;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault: \n\t\t\t\t\t\t\tp.cp = p.p;\n\t\t\t\t\t\t\tp.cr = p.r;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tp.np = p.cr == -1 ? p.rt.get_container() : p.cr;\n\t\t\t\tp.op = p.ot._get_parent(p.o);\n\t\t\t\tp.cop = p.o.index();\n\t\t\t\tif(p.op === -1) { p.op = p.ot ? p.ot.get_container() : this.get_container(); }\n\t\t\t\tif(!/^(before|after)$/.test(p.p) && p.op && p.np && p.op[0] === p.np[0] && p.o.index() < p.cp) { p.cp++; }\n\t\t\t\t//if(p.p === \"before\" && p.op && p.np && p.op[0] === p.np[0] && p.o.index() < p.cp) { p.cp--; }\n\t\t\t\tp.or = p.np.find(\" > ul > li:nth-child(\" + (p.cp + 1) + \")\");\n\t\t\t\tprepared_move = p;\n\t\t\t\tthis.__callback(prepared_move);\n\t\t\t\tif(cb) { cb.call(this, prepared_move); }\n\t\t\t},\n\t\t\tcheck_move : function () {\n\t\t\t\tvar obj = prepared_move, ret = true, r = obj.r === -1 ? this.get_container() : obj.r;\n\t\t\t\tif(!obj || !obj.o || obj.or[0] === obj.o[0]) { return false; }\n\t\t\t\tif(!obj.cy) {\n\t\t\t\t\tif(obj.op && obj.np && obj.op[0] === obj.np[0] && obj.cp - 1 === obj.o.index()) { return false; }\n\t\t\t\t\tobj.o.each(function () { \n\t\t\t\t\t\tif(r.parentsUntil(\".jstree\", \"li\").addBack().index(this) !== -1) { ret = false; return false; }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t},\n\t\t\tmove_node : function (obj, ref, position, is_copy, is_prepared, skip_check) {\n\t\t\t\tif(!is_prepared) { \n\t\t\t\t\treturn this.prepare_move(obj, ref, position, function (p) {\n\t\t\t\t\t\tthis.move_node(p, false, false, is_copy, true, skip_check);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif(is_copy) { \n\t\t\t\t\tprepared_move.cy = true;\n\t\t\t\t}\n\t\t\t\tif(!skip_check && !this.check_move()) { return false; }\n\n\t\t\t\tthis.__rollback();\n\t\t\t\tvar o = false;\n\t\t\t\tif(is_copy) {\n\t\t\t\t\to = obj.o.clone(true);\n\t\t\t\t\to.find(\"*[id]\").addBack().each(function () {\n\t\t\t\t\t\tif(this.id) { this.id = \"copy_\" + this.id; }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse { o = obj.o; }\n\n\t\t\t\tif(obj.or.length) { obj.or.before(o); }\n\t\t\t\telse { \n\t\t\t\t\tif(!obj.np.children(\"ul\").length) { $(\"<ul />\").appendTo(obj.np); }\n\t\t\t\t\tobj.np.children(\"ul:eq(0)\").append(o); \n\t\t\t\t}\n\n\t\t\t\ttry { \n\t\t\t\t\tobj.ot.clean_node(obj.op);\n\t\t\t\t\tobj.rt.clean_node(obj.np);\n\t\t\t\t\tif(!obj.op.find(\"> ul > li\").length) {\n\t\t\t\t\t\tobj.op.removeClass(\"jstree-open jstree-closed\").addClass(\"jstree-leaf\").children(\"ul\").remove();\n\t\t\t\t\t}\n\t\t\t\t} catch (e) { }\n\n\t\t\t\tif(is_copy) { \n\t\t\t\t\tprepared_move.cy = true;\n\t\t\t\t\tprepared_move.oc = o; \n\t\t\t\t}\n\t\t\t\tthis.__callback(prepared_move);\n\t\t\t\treturn prepared_move;\n\t\t\t},\n\t\t\t_get_move : function () { return prepared_move; }\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/* \n * jsTree ui plugin\n * This plugins handles selecting/deselecting/hovering/dehovering nodes\n */\n(function ($) {\n\tvar scrollbar_width, e1, e2;\n\t$(function() {\n\t\tif (/msie/.test(navigator.userAgent.toLowerCase())) {\n\t\t\te1 = $('<textarea cols=\"10\" rows=\"2\"></textarea>').css({ position: 'absolute', top: -1000, left: 0 }).appendTo('body');\n\t\t\te2 = $('<textarea cols=\"10\" rows=\"2\" style=\"overflow: hidden;\"></textarea>').css({ position: 'absolute', top: -1000, left: 0 }).appendTo('body');\n\t\t\tscrollbar_width = e1.width() - e2.width();\n\t\t\te1.add(e2).remove();\n\t\t} \n\t\telse {\n\t\t\te1 = $('<div />').css({ width: 100, height: 100, overflow: 'auto', position: 'absolute', top: -1000, left: 0 })\n\t\t\t\t\t.prependTo('body').append('<div />').find('div').css({ width: '100%', height: 200 });\n\t\t\tscrollbar_width = 100 - e1.width();\n\t\t\te1.parent().remove();\n\t\t}\n\t});\n\t$.jstree.plugin(\"ui\", {\n\t\t__init : function () { \n\t\t\tthis.data.ui.selected = $(); \n\t\t\tthis.data.ui.last_selected = false; \n\t\t\tthis.data.ui.hovered = null;\n\t\t\tthis.data.ui.to_select = this.get_settings().ui.initially_select;\n\n\t\t\tthis.get_container()\n\t\t\t\t.delegate(\"a\", \"click.jstree\", $.proxy(function (event) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tevent.currentTarget.blur();\n\t\t\t\t\t\tif(!$(event.currentTarget).hasClass(\"jstree-loading\")) {\n\t\t\t\t\t\t\tthis.select_node(event.currentTarget, true, event);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"a\", \"mouseenter.jstree\", $.proxy(function (event) {\n\t\t\t\t\t\tif(!$(event.currentTarget).hasClass(\"jstree-loading\")) {\n\t\t\t\t\t\t\tthis.hover_node(event.target);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"a\", \"mouseleave.jstree\", $.proxy(function (event) {\n\t\t\t\t\t\tif(!$(event.currentTarget).hasClass(\"jstree-loading\")) {\n\t\t\t\t\t\t\tthis.dehover_node(event.target);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"reopen.jstree\", $.proxy(function () { \n\t\t\t\t\t\tthis.reselect();\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"get_rollback.jstree\", $.proxy(function () { \n\t\t\t\t\t\tthis.dehover_node();\n\t\t\t\t\t\tthis.save_selected();\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"set_rollback.jstree\", $.proxy(function () { \n\t\t\t\t\t\tthis.reselect();\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"close_node.jstree\", $.proxy(function (event, data) { \n\t\t\t\t\t\tvar s = this._get_settings().ui,\n\t\t\t\t\t\t\tobj = this._get_node(data.rslt.obj),\n\t\t\t\t\t\t\tclk = (obj && obj.length) ? obj.children(\"ul\").find(\"a.jstree-clicked\") : $(),\n\t\t\t\t\t\t\t_this = this;\n\t\t\t\t\t\tif(s.selected_parent_close === false || !clk.length) { return; }\n\t\t\t\t\t\tclk.each(function () { \n\t\t\t\t\t\t\t_this.deselect_node(this);\n\t\t\t\t\t\t\tif(s.selected_parent_close === \"select_parent\") { _this.select_node(obj); }\n\t\t\t\t\t\t});\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"delete_node.jstree\", $.proxy(function (event, data) { \n\t\t\t\t\t\tvar s = this._get_settings().ui.select_prev_on_delete,\n\t\t\t\t\t\t\tobj = this._get_node(data.rslt.obj),\n\t\t\t\t\t\t\tclk = (obj && obj.length) ? obj.find(\"a.jstree-clicked\") : [],\n\t\t\t\t\t\t\t_this = this;\n\t\t\t\t\t\tclk.each(function () { _this.deselect_node(this); });\n\t\t\t\t\t\tif(s && clk.length) { \n\t\t\t\t\t\t\tdata.rslt.prev.each(function () { \n\t\t\t\t\t\t\t\tif(this.parentNode) { _this.select_node(this); return false; /* if return false is removed all prev nodes will be selected */}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"move_node.jstree\", $.proxy(function (event, data) { \n\t\t\t\t\t\tif(data.rslt.cy) { \n\t\t\t\t\t\t\tdata.rslt.oc.find(\"a.jstree-clicked\").removeClass(\"jstree-clicked\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this));\n\t\t},\n\t\tdefaults : {\n\t\t\tselect_limit : -1, // 0, 1, 2 ... or -1 for unlimited\n\t\t\tselect_multiple_modifier : \"ctrl\", // on, or ctrl, shift, alt\n\t\t\tselect_range_modifier : \"shift\",\n\t\t\tselected_parent_close : \"select_parent\", // false, \"deselect\", \"select_parent\"\n\t\t\tselected_parent_open : true,\n\t\t\tselect_prev_on_delete : true,\n\t\t\tdisable_selecting_children : false,\n\t\t\tinitially_select : []\n\t\t},\n\t\t_fn : { \n\t\t\t_get_node : function (obj, allow_multiple) {\n\t\t\t\tif(typeof obj === \"undefined\" || obj === null) { return allow_multiple ? this.data.ui.selected : this.data.ui.last_selected; }\n\t\t\t\tvar $obj = $(obj, this.get_container()); \n\t\t\t\tif($obj.is(\".jstree\") || obj == -1) { return -1; } \n\t\t\t\t$obj = $obj.closest(\"li\", this.get_container()); \n\t\t\t\treturn $obj.length ? $obj : false; \n\t\t\t},\n\t\t\t_ui_notify : function (n, data) {\n\t\t\t\tif(data.selected) {\n\t\t\t\t\tthis.select_node(n, false);\n\t\t\t\t}\n\t\t\t},\n\t\t\tsave_selected : function () {\n\t\t\t\tvar _this = this;\n\t\t\t\tthis.data.ui.to_select = [];\n\t\t\t\tthis.data.ui.selected.each(function () { if(this.id) { _this.data.ui.to_select.push(\"#\" + this.id.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\")); } });\n\t\t\t\tthis.__callback(this.data.ui.to_select);\n\t\t\t},\n\t\t\treselect : function () {\n\t\t\t\tvar _this = this,\n\t\t\t\t\ts = this.data.ui.to_select;\n\t\t\t\ts = $.map($.makeArray(s), function (n) { return \"#\" + n.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\"); });\n\t\t\t\t// this.deselect_all(); WHY deselect, breaks plugin state notifier?\n\t\t\t\t$.each(s, function (i, val) { if(val && val !== \"#\") { _this.select_node(val); } });\n\t\t\t\tthis.data.ui.selected = this.data.ui.selected.filter(function () { return this.parentNode; });\n\t\t\t\tthis.__callback();\n\t\t\t},\n\t\t\trefresh : function (obj) {\n\t\t\t\tthis.save_selected();\n\t\t\t\treturn this.__call_old();\n\t\t\t},\n\t\t\thover_node : function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\t//if(this.data.ui.hovered && obj.get(0) === this.data.ui.hovered.get(0)) { return; }\n\t\t\t\tif(!obj.hasClass(\"jstree-hovered\")) { this.dehover_node(); }\n\t\t\t\tthis.data.ui.hovered = obj.children(\"a\").addClass(\"jstree-hovered\").parent();\n\t\t\t\tthis._fix_scroll(obj);\n\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t},\n\t\t\tdehover_node : function () {\n\t\t\t\tvar obj = this.data.ui.hovered, p;\n\t\t\t\tif(!obj || !obj.length) { return false; }\n\t\t\t\tp = obj.children(\"a\").removeClass(\"jstree-hovered\").parent();\n\t\t\t\tif(this.data.ui.hovered[0] === p[0]) { this.data.ui.hovered = null; }\n\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t},\n\t\t\tselect_node : function (obj, check, e) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj == -1 || !obj || !obj.length) { return false; }\n\t\t\t\tvar s = this._get_settings().ui,\n\t\t\t\t\tis_multiple = (s.select_multiple_modifier == \"on\" || (s.select_multiple_modifier !== false && e && e[s.select_multiple_modifier + \"Key\"])),\n\t\t\t\t\tis_range = (s.select_range_modifier !== false && e && e[s.select_range_modifier + \"Key\"] && this.data.ui.last_selected && this.data.ui.last_selected[0] !== obj[0] && this.data.ui.last_selected.parent()[0] === obj.parent()[0]),\n\t\t\t\t\tis_selected = this.is_selected(obj),\n\t\t\t\t\tproceed = true,\n\t\t\t\t\tt = this;\n\t\t\t\tif(check) {\n\t\t\t\t\tif(s.disable_selecting_children && is_multiple && \n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t(obj.parentsUntil(\".jstree\",\"li\").children(\"a.jstree-clicked\").length) ||\n\t\t\t\t\t\t\t(obj.children(\"ul\").find(\"a.jstree-clicked:eq(0)\").length)\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tproceed = false;\n\t\t\t\t\tswitch(!0) {\n\t\t\t\t\t\tcase (is_range):\n\t\t\t\t\t\t\tthis.data.ui.last_selected.addClass(\"jstree-last-selected\");\n\t\t\t\t\t\t\tobj = obj[ obj.index() < this.data.ui.last_selected.index() ? \"nextUntil\" : \"prevUntil\" ](\".jstree-last-selected\").addBack();\n\t\t\t\t\t\t\tif(s.select_limit == -1 || obj.length < s.select_limit) {\n\t\t\t\t\t\t\t\tthis.data.ui.last_selected.removeClass(\"jstree-last-selected\");\n\t\t\t\t\t\t\t\tthis.data.ui.selected.each(function () {\n\t\t\t\t\t\t\t\t\tif(this !== t.data.ui.last_selected[0]) { t.deselect_node(this); }\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tis_selected = false;\n\t\t\t\t\t\t\t\tproceed = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tproceed = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase (is_selected && !is_multiple): \n\t\t\t\t\t\t\tthis.deselect_all();\n\t\t\t\t\t\t\tis_selected = false;\n\t\t\t\t\t\t\tproceed = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase (!is_selected && !is_multiple): \n\t\t\t\t\t\t\tif(s.select_limit == -1 || s.select_limit > 0) {\n\t\t\t\t\t\t\t\tthis.deselect_all();\n\t\t\t\t\t\t\t\tproceed = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase (is_selected && is_multiple): \n\t\t\t\t\t\t\tthis.deselect_node(obj);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase (!is_selected && is_multiple): \n\t\t\t\t\t\t\tif(s.select_limit == -1 || this.data.ui.selected.length + 1 <= s.select_limit) { \n\t\t\t\t\t\t\t\tproceed = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(proceed && !is_selected) {\n\t\t\t\t\tif(!is_range) { this.data.ui.last_selected = obj; }\n\t\t\t\t\tobj.children(\"a\").addClass(\"jstree-clicked\");\n\t\t\t\t\tif(s.selected_parent_open) {\n\t\t\t\t\t\tobj.parents(\".jstree-closed\").each(function () { t.open_node(this, false, true); });\n\t\t\t\t\t}\n\t\t\t\t\tthis.data.ui.selected = this.data.ui.selected.add(obj);\n\t\t\t\t\tthis._fix_scroll(obj.eq(0));\n\t\t\t\t\tthis.__callback({ \"obj\" : obj, \"e\" : e });\n\t\t\t\t}\n\t\t\t},\n\t\t\t_fix_scroll : function (obj) {\n\t\t\t\tvar c = this.get_container()[0], t;\n\t\t\t\tif(c.scrollHeight > c.offsetHeight) {\n\t\t\t\t\tobj = this._get_node(obj);\n\t\t\t\t\tif(!obj || obj === -1 || !obj.length || !obj.is(\":visible\")) { return; }\n\t\t\t\t\tt = obj.offset().top - this.get_container().offset().top;\n\t\t\t\t\tif(t < 0) { \n\t\t\t\t\t\tc.scrollTop = c.scrollTop + t - 1; \n\t\t\t\t\t}\n\t\t\t\t\tif(t + this.data.core.li_height + (c.scrollWidth > c.offsetWidth ? scrollbar_width : 0) > c.offsetHeight) { \n\t\t\t\t\t\tc.scrollTop = c.scrollTop + (t - c.offsetHeight + this.data.core.li_height + 1 + (c.scrollWidth > c.offsetWidth ? scrollbar_width : 0)); \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeselect_node : function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\tif(this.is_selected(obj)) {\n\t\t\t\t\tobj.children(\"a\").removeClass(\"jstree-clicked\");\n\t\t\t\t\tthis.data.ui.selected = this.data.ui.selected.not(obj);\n\t\t\t\t\tif(this.data.ui.last_selected.get(0) === obj.get(0)) { this.data.ui.last_selected = this.data.ui.selected.eq(0); }\n\t\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t\t}\n\t\t\t},\n\t\t\ttoggle_select : function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj.length) { return false; }\n\t\t\t\tif(this.is_selected(obj)) { this.deselect_node(obj); }\n\t\t\t\telse { this.select_node(obj); }\n\t\t\t},\n\t\t\tis_selected : function (obj) { return this.data.ui.selected.index(this._get_node(obj)) >= 0; },\n\t\t\tget_selected : function (context) { \n\t\t\t\treturn context ? $(context).find(\"a.jstree-clicked\").parent() : this.data.ui.selected; \n\t\t\t},\n\t\t\tdeselect_all : function (context) {\n\t\t\t\tvar ret = context ? $(context).find(\"a.jstree-clicked\").parent() : this.get_container().find(\"a.jstree-clicked\").parent();\n\t\t\t\tret.children(\"a.jstree-clicked\").removeClass(\"jstree-clicked\");\n\t\t\t\tthis.data.ui.selected = $([]);\n\t\t\t\tthis.data.ui.last_selected = false;\n\t\t\t\tthis.__callback({ \"obj\" : ret });\n\t\t\t}\n\t\t}\n\t});\n\t// include the selection plugin by default\n\t$.jstree.defaults.plugins.push(\"ui\");\n})(jQuery);\n//*/\n\n/* \n * jsTree CRRM plugin\n * Handles creating/renaming/removing/moving nodes by user interaction.\n */\n(function ($) {\n\t$.jstree.plugin(\"crrm\", { \n\t\t__init : function () {\n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"move_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\tif(this._get_settings().crrm.move.open_onmove) {\n\t\t\t\t\t\tvar t = this;\n\t\t\t\t\t\tdata.rslt.np.parentsUntil(\".jstree\").addBack().filter(\".jstree-closed\").each(function () {\n\t\t\t\t\t\t\tt.open_node(this, false, true);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}, this));\n\t\t},\n\t\tdefaults : {\n\t\t\tinput_width_limit : 200,\n\t\t\tmove : {\n\t\t\t\talways_copy\t\t\t: false, // false, true or \"multitree\"\n\t\t\t\topen_onmove\t\t\t: true,\n\t\t\t\tdefault_position\t: \"last\",\n\t\t\t\tcheck_move\t\t\t: function (m) { return true; }\n\t\t\t}\n\t\t},\n\t\t_fn : {\n\t\t\t_show_input : function (obj, callback) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tvar rtl = this._get_settings().core.rtl,\n\t\t\t\t\tw = this._get_settings().crrm.input_width_limit,\n\t\t\t\t\tw1 = obj.children(\"ins\").width(),\n\t\t\t\t\tw2 = obj.find(\"> a:visible > ins\").width() * obj.find(\"> a:visible > ins\").length,\n\t\t\t\t\tt = this.get_text(obj),\n\t\t\t\t\th1 = $(\"<div />\", { css : { \"position\" : \"absolute\", \"top\" : \"-200px\", \"left\" : (rtl ? \"0px\" : \"-1000px\"), \"visibility\" : \"hidden\" } }).appendTo(\"body\"),\n\t\t\t\t\th2 = obj.css(\"position\",\"relative\").append(\n\t\t\t\t\t$(\"<input />\", { \n\t\t\t\t\t\t\"value\" : t,\n\t\t\t\t\t\t\"class\" : \"jstree-rename-input\",\n\t\t\t\t\t\t// \"size\" : t.length,\n\t\t\t\t\t\t\"css\" : {\n\t\t\t\t\t\t\t\"padding\" : \"0\",\n\t\t\t\t\t\t\t\"border\" : \"1px solid silver\",\n\t\t\t\t\t\t\t\"position\" : \"absolute\",\n\t\t\t\t\t\t\t\"left\"  : (rtl ? \"auto\" : (w1 + w2 + 4) + \"px\"),\n\t\t\t\t\t\t\t\"right\" : (rtl ? (w1 + w2 + 4) + \"px\" : \"auto\"),\n\t\t\t\t\t\t\t\"top\" : \"0px\",\n\t\t\t\t\t\t\t\"height\" : (this.data.core.li_height - 2) + \"px\",\n\t\t\t\t\t\t\t\"lineHeight\" : (this.data.core.li_height - 2) + \"px\",\n\t\t\t\t\t\t\t\"width\" : \"150px\" // will be set a bit further down\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"blur\" : $.proxy(function () {\n\t\t\t\t\t\t\tvar i = obj.children(\".jstree-rename-input\"),\n\t\t\t\t\t\t\t\tv = i.val();\n\t\t\t\t\t\t\tif(v === \"\") { v = t; }\n\t\t\t\t\t\t\th1.remove();\n\t\t\t\t\t\t\ti.remove(); // rollback purposes\n\t\t\t\t\t\t\tthis.set_text(obj,t); // rollback purposes\n\t\t\t\t\t\t\tthis.rename_node(obj, v);\n\t\t\t\t\t\t\tcallback.call(this, obj, v, t);\n\t\t\t\t\t\t\tobj.css(\"position\",\"\");\n\t\t\t\t\t\t}, this),\n\t\t\t\t\t\t\"keyup\" : function (event) {\n\t\t\t\t\t\t\tvar key = event.keyCode || event.which;\n\t\t\t\t\t\t\tif(key == 27) { this.value = t; this.blur(); return; }\n\t\t\t\t\t\t\telse if(key == 13) { this.blur(); return; }\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\th2.width(Math.min(h1.text(\"pW\" + this.value).width(),w));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"keypress\" : function(event) {\n\t\t\t\t\t\t\tvar key = event.keyCode || event.which;\n\t\t\t\t\t\t\tif(key == 13) { return false; }\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t).children(\".jstree-rename-input\"); \n\t\t\t\tthis.set_text(obj, \"\");\n\t\t\t\th1.css({\n\t\t\t\t\t\tfontFamily\t\t: h2.css('fontFamily')\t\t|| '',\n\t\t\t\t\t\tfontSize\t\t: h2.css('fontSize')\t\t|| '',\n\t\t\t\t\t\tfontWeight\t\t: h2.css('fontWeight')\t\t|| '',\n\t\t\t\t\t\tfontStyle\t\t: h2.css('fontStyle')\t\t|| '',\n\t\t\t\t\t\tfontStretch\t\t: h2.css('fontStretch')\t\t|| '',\n\t\t\t\t\t\tfontVariant\t\t: h2.css('fontVariant')\t\t|| '',\n\t\t\t\t\t\tletterSpacing\t: h2.css('letterSpacing')\t|| '',\n\t\t\t\t\t\twordSpacing\t\t: h2.css('wordSpacing')\t\t|| ''\n\t\t\t\t});\n\t\t\t\th2.width(Math.min(h1.text(\"pW\" + h2[0].value).width(),w))[0].select();\n\t\t\t},\n\t\t\trename : function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tthis.__rollback();\n\t\t\t\tvar f = this.__callback;\n\t\t\t\tthis._show_input(obj, function (obj, new_name, old_name) { \n\t\t\t\t\tf.call(this, { \"obj\" : obj, \"new_name\" : new_name, \"old_name\" : old_name });\n\t\t\t\t});\n\t\t\t},\n\t\t\tcreate : function (obj, position, js, callback, skip_rename) {\n\t\t\t\tvar t, _this = this;\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj) { obj = -1; }\n\t\t\t\tthis.__rollback();\n\t\t\t\tt = this.create_node(obj, position, js, function (t) {\n\t\t\t\t\tvar p = this._get_parent(t),\n\t\t\t\t\t\tpos = $(t).index();\n\t\t\t\t\tif(callback) { callback.call(this, t); }\n\t\t\t\t\tif(p.length && p.hasClass(\"jstree-closed\")) { this.open_node(p, false, true); }\n\t\t\t\t\tif(!skip_rename) { \n\t\t\t\t\t\tthis._show_input(t, function (obj, new_name, old_name) { \n\t\t\t\t\t\t\t_this.__callback({ \"obj\" : obj, \"name\" : new_name, \"parent\" : p, \"position\" : pos });\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse { _this.__callback({ \"obj\" : t, \"name\" : this.get_text(t), \"parent\" : p, \"position\" : pos }); }\n\t\t\t\t});\n\t\t\t\treturn t;\n\t\t\t},\n\t\t\tremove : function (obj) {\n\t\t\t\tobj = this._get_node(obj, true);\n\t\t\t\tvar p = this._get_parent(obj), prev = this._get_prev(obj);\n\t\t\t\tthis.__rollback();\n\t\t\t\tobj = this.delete_node(obj);\n\t\t\t\tif(obj !== false) { this.__callback({ \"obj\" : obj, \"prev\" : prev, \"parent\" : p }); }\n\t\t\t},\n\t\t\tcheck_move : function () {\n\t\t\t\tif(!this.__call_old()) { return false; }\n\t\t\t\tvar s = this._get_settings().crrm.move;\n\t\t\t\tif(!s.check_move.call(this, this._get_move())) { return false; }\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tmove_node : function (obj, ref, position, is_copy, is_prepared, skip_check) {\n\t\t\t\tvar s = this._get_settings().crrm.move;\n\t\t\t\tif(!is_prepared) { \n\t\t\t\t\tif(typeof position === \"undefined\") { position = s.default_position; }\n\t\t\t\t\tif(position === \"inside\" && !s.default_position.match(/^(before|after)$/)) { position = s.default_position; }\n\t\t\t\t\treturn this.__call_old(true, obj, ref, position, is_copy, false, skip_check);\n\t\t\t\t}\n\t\t\t\t// if the move is already prepared\n\t\t\t\tif(s.always_copy === true || (s.always_copy === \"multitree\" && obj.rt.get_index() !== obj.ot.get_index() )) {\n\t\t\t\t\tis_copy = true;\n\t\t\t\t}\n\t\t\t\tthis.__call_old(true, obj, ref, position, is_copy, true, skip_check);\n\t\t\t},\n\n\t\t\tcut : function (obj) {\n\t\t\t\tobj = this._get_node(obj, true);\n\t\t\t\tif(!obj || !obj.length) { return false; }\n\t\t\t\tthis.data.crrm.cp_nodes = false;\n\t\t\t\tthis.data.crrm.ct_nodes = obj;\n\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t},\n\t\t\tcopy : function (obj) {\n\t\t\t\tobj = this._get_node(obj, true);\n\t\t\t\tif(!obj || !obj.length) { return false; }\n\t\t\t\tthis.data.crrm.ct_nodes = false;\n\t\t\t\tthis.data.crrm.cp_nodes = obj;\n\t\t\t\tthis.__callback({ \"obj\" : obj });\n\t\t\t},\n\t\t\tpaste : function (obj) { \n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj || !obj.length) { return false; }\n\t\t\t\tvar nodes = this.data.crrm.ct_nodes ? this.data.crrm.ct_nodes : this.data.crrm.cp_nodes;\n\t\t\t\tif(!this.data.crrm.ct_nodes && !this.data.crrm.cp_nodes) { return false; }\n\t\t\t\tif(this.data.crrm.ct_nodes) { this.move_node(this.data.crrm.ct_nodes, obj); this.data.crrm.ct_nodes = false; }\n\t\t\t\tif(this.data.crrm.cp_nodes) { this.move_node(this.data.crrm.cp_nodes, obj, false, true); }\n\t\t\t\tthis.__callback({ \"obj\" : obj, \"nodes\" : nodes });\n\t\t\t}\n\t\t}\n\t});\n\t// include the crr plugin by default\n\t// $.jstree.defaults.plugins.push(\"crrm\");\n})(jQuery);\n//*/\n\n/* \n * jsTree themes plugin\n * Handles loading and setting themes, as well as detecting path to themes, etc.\n */\n(function ($) {\n\tvar themes_loaded = [];\n\t// this variable stores the path to the themes folder - if left as false - it will be autodetected\n\t$.jstree._themes = false;\n\t$.jstree.plugin(\"themes\", {\n\t\t__init : function () { \n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"init.jstree\", $.proxy(function () {\n\t\t\t\t\t\tvar s = this._get_settings().themes;\n\t\t\t\t\t\tthis.data.themes.dots = s.dots; \n\t\t\t\t\t\tthis.data.themes.icons = s.icons; \n\t\t\t\t\t\tthis.set_theme(s.theme, s.url);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"loaded.jstree\", $.proxy(function () {\n\t\t\t\t\t\t// bound here too, as simple HTML tree's won't honor dots & icons otherwise\n\t\t\t\t\t\tif(!this.data.themes.dots) { this.hide_dots(); }\n\t\t\t\t\t\telse { this.show_dots(); }\n\t\t\t\t\t\tif(!this.data.themes.icons) { this.hide_icons(); }\n\t\t\t\t\t\telse { this.show_icons(); }\n\t\t\t\t\t}, this));\n\t\t},\n\t\tdefaults : { \n\t\t\ttheme : \"default\", \n\t\t\turl : false,\n\t\t\tdots : true,\n\t\t\ticons : true\n\t\t},\n\t\t_fn : {\n\t\t\tset_theme : function (theme_name, theme_url) {\n\t\t\t\tif(!theme_name) { return false; }\n\t\t\t\tif(!theme_url) { theme_url = $.jstree._themes + theme_name + '/style.css'; }\n\t\t\t\tif($.inArray(theme_url, themes_loaded) == -1) {\n\t\t\t\t\t$.vakata.css.add_sheet({ \"url\" : theme_url });\n\t\t\t\t\tthemes_loaded.push(theme_url);\n\t\t\t\t}\n\t\t\t\tif(this.data.themes.theme != theme_name) {\n\t\t\t\t\tthis.get_container().removeClass('jstree-' + this.data.themes.theme);\n\t\t\t\t\tthis.data.themes.theme = theme_name;\n\t\t\t\t}\n\t\t\t\tthis.get_container().addClass('jstree-' + theme_name);\n\t\t\t\tif(!this.data.themes.dots) { this.hide_dots(); }\n\t\t\t\telse { this.show_dots(); }\n\t\t\t\tif(!this.data.themes.icons) { this.hide_icons(); }\n\t\t\t\telse { this.show_icons(); }\n\t\t\t\tthis.__callback();\n\t\t\t},\n\t\t\tget_theme\t: function () { return this.data.themes.theme; },\n\n\t\t\tshow_dots\t: function () { this.data.themes.dots = true; this.get_container().children(\"ul\").removeClass(\"jstree-no-dots\"); },\n\t\t\thide_dots\t: function () { this.data.themes.dots = false; this.get_container().children(\"ul\").addClass(\"jstree-no-dots\"); },\n\t\t\ttoggle_dots\t: function () { if(this.data.themes.dots) { this.hide_dots(); } else { this.show_dots(); } },\n\n\t\t\tshow_icons\t: function () { this.data.themes.icons = true; this.get_container().children(\"ul\").removeClass(\"jstree-no-icons\"); },\n\t\t\thide_icons\t: function () { this.data.themes.icons = false; this.get_container().children(\"ul\").addClass(\"jstree-no-icons\"); },\n\t\t\ttoggle_icons: function () { if(this.data.themes.icons) { this.hide_icons(); } else { this.show_icons(); } }\n\t\t}\n\t});\n\t// autodetect themes path\n\t$(function () {\n\t\tif($.jstree._themes === false) {\n\t\t\t$(\"script\").each(function () { \n\t\t\t\tif(this.src.toString().match(/jquery\\.jstree[^\\/]*?\\.js(\\?.*)?$/)) { \n\t\t\t\t\t$.jstree._themes = this.src.toString().replace(/jquery\\.jstree[^\\/]*?\\.js(\\?.*)?$/, \"\") + 'themes/'; \n\t\t\t\t\treturn false; \n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif($.jstree._themes === false) { $.jstree._themes = \"themes/\"; }\n\t});\n\t// include the themes plugin by default\n\t$.jstree.defaults.plugins.push(\"themes\");\n})(jQuery);\n//*/\n\n/*\n * jsTree hotkeys plugin\n * Enables keyboard navigation for all tree instances\n * Depends on the jstree ui & jquery hotkeys plugins\n */\n(function ($) {\n\tvar bound = [];\n\tfunction exec(i, event) {\n\t\tvar f = $.jstree._focused(), tmp;\n\t\tif(f && f.data && f.data.hotkeys && f.data.hotkeys.enabled) { \n\t\t\ttmp = f._get_settings().hotkeys[i];\n\t\t\tif(tmp) { return tmp.call(f, event); }\n\t\t}\n\t}\n\t$.jstree.plugin(\"hotkeys\", {\n\t\t__init : function () {\n\t\t\tif(typeof $.hotkeys === \"undefined\") { throw \"jsTree hotkeys: jQuery hotkeys plugin not included.\"; }\n\t\t\tif(!this.data.ui) { throw \"jsTree hotkeys: jsTree UI plugin not included.\"; }\n\t\t\t$.each(this._get_settings().hotkeys, function (i, v) {\n\t\t\t\tif(v !== false && $.inArray(i, bound) == -1) {\n\t\t\t\t\t$(document).bind(\"keydown\", i, function (event) { return exec(i, event); });\n\t\t\t\t\tbound.push(i);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"lock.jstree\", $.proxy(function () {\n\t\t\t\t\t\tif(this.data.hotkeys.enabled) { this.data.hotkeys.enabled = false; this.data.hotkeys.revert = true; }\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"unlock.jstree\", $.proxy(function () {\n\t\t\t\t\t\tif(this.data.hotkeys.revert) { this.data.hotkeys.enabled = true; }\n\t\t\t\t\t}, this));\n\t\t\tthis.enable_hotkeys();\n\t\t},\n\t\tdefaults : {\n\t\t\t\"up\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\n\t\t\t\tthis.hover_node(this._get_prev(o));\n\t\t\t\treturn false; \n\t\t\t},\n\t\t\t\"ctrl+up\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\n\t\t\t\tthis.hover_node(this._get_prev(o));\n\t\t\t\treturn false; \n\t\t\t},\n\t\t\t\"shift+up\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\n\t\t\t\tthis.hover_node(this._get_prev(o));\n\t\t\t\treturn false; \n\t\t\t},\n\t\t\t\"down\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\n\t\t\t\tthis.hover_node(this._get_next(o));\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"ctrl+down\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\n\t\t\t\tthis.hover_node(this._get_next(o));\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"shift+down\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected || -1;\n\t\t\t\tthis.hover_node(this._get_next(o));\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"left\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\n\t\t\t\tif(o) {\n\t\t\t\t\tif(o.hasClass(\"jstree-open\")) { this.close_node(o); }\n\t\t\t\t\telse { this.hover_node(this._get_prev(o)); }\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"ctrl+left\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\n\t\t\t\tif(o) {\n\t\t\t\t\tif(o.hasClass(\"jstree-open\")) { this.close_node(o); }\n\t\t\t\t\telse { this.hover_node(this._get_prev(o)); }\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"shift+left\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\n\t\t\t\tif(o) {\n\t\t\t\t\tif(o.hasClass(\"jstree-open\")) { this.close_node(o); }\n\t\t\t\t\telse { this.hover_node(this._get_prev(o)); }\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"right\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\n\t\t\t\tif(o && o.length) {\n\t\t\t\t\tif(o.hasClass(\"jstree-closed\")) { this.open_node(o); }\n\t\t\t\t\telse { this.hover_node(this._get_next(o)); }\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"ctrl+right\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\n\t\t\t\tif(o && o.length) {\n\t\t\t\t\tif(o.hasClass(\"jstree-closed\")) { this.open_node(o); }\n\t\t\t\t\telse { this.hover_node(this._get_next(o)); }\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"shift+right\" : function () { \n\t\t\t\tvar o = this.data.ui.hovered || this.data.ui.last_selected;\n\t\t\t\tif(o && o.length) {\n\t\t\t\t\tif(o.hasClass(\"jstree-closed\")) { this.open_node(o); }\n\t\t\t\t\telse { this.hover_node(this._get_next(o)); }\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t\"space\" : function () { \n\t\t\t\tif(this.data.ui.hovered) { this.data.ui.hovered.children(\"a:eq(0)\").click(); } \n\t\t\t\treturn false; \n\t\t\t},\n\t\t\t\"ctrl+space\" : function (event) { \n\t\t\t\tevent.type = \"click\";\n\t\t\t\tif(this.data.ui.hovered) { this.data.ui.hovered.children(\"a:eq(0)\").trigger(event); } \n\t\t\t\treturn false; \n\t\t\t},\n\t\t\t\"shift+space\" : function (event) { \n\t\t\t\tevent.type = \"click\";\n\t\t\t\tif(this.data.ui.hovered) { this.data.ui.hovered.children(\"a:eq(0)\").trigger(event); } \n\t\t\t\treturn false; \n\t\t\t},\n\t\t\t\"f2\" : function () { this.rename(this.data.ui.hovered || this.data.ui.last_selected); },\n\t\t\t\"del\" : function () { this.remove(this.data.ui.hovered || this._get_node(null)); }\n\t\t},\n\t\t_fn : {\n\t\t\tenable_hotkeys : function () {\n\t\t\t\tthis.data.hotkeys.enabled = true;\n\t\t\t},\n\t\t\tdisable_hotkeys : function () {\n\t\t\t\tthis.data.hotkeys.enabled = false;\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/* \n * jsTree JSON plugin\n * The JSON data store. Datastores are build by overriding the `load_node` and `_is_loaded` functions.\n */\n(function ($) {\n\t$.jstree.plugin(\"json_data\", {\n\t\t__init : function() {\n\t\t\tvar s = this._get_settings().json_data;\n\t\t\tif(s.progressive_unload) {\n\t\t\t\tthis.get_container().bind(\"after_close.jstree\", function (e, data) {\n\t\t\t\t\tdata.rslt.obj.children(\"ul\").remove();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tdefaults : { \n\t\t\t// `data` can be a function:\n\t\t\t//  * accepts two arguments - node being loaded and a callback to pass the result to\n\t\t\t//  * will be executed in the current tree's scope & ajax won't be supported\n\t\t\tdata : false, \n\t\t\tajax : false,\n\t\t\tcorrect_state : true,\n\t\t\tprogressive_render : false,\n\t\t\tprogressive_unload : false\n\t\t},\n\t\t_fn : {\n\t\t\tload_node : function (obj, s_call, e_call) { var _this = this; this.load_node_json(obj, function () { _this.__callback({ \"obj\" : _this._get_node(obj) }); s_call.call(this); }, e_call); },\n\t\t\t_is_loaded : function (obj) { \n\t\t\t\tvar s = this._get_settings().json_data;\n\t\t\t\tobj = this._get_node(obj); \n\t\t\t\treturn obj == -1 || !obj || (!s.ajax && !s.progressive_render && !$.isFunction(s.data)) || obj.is(\".jstree-open, .jstree-leaf\") || obj.children(\"ul\").children(\"li\").length > 0;\n\t\t\t},\n\t\t\trefresh : function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tvar s = this._get_settings().json_data;\n\t\t\t\tif(obj && obj !== -1 && s.progressive_unload && ($.isFunction(s.data) || !!s.ajax)) {\n\t\t\t\t\tobj.removeData(\"jstree_children\");\n\t\t\t\t}\n\t\t\t\treturn this.__call_old();\n\t\t\t},\n\t\t\tload_node_json : function (obj, s_call, e_call) {\n\t\t\t\tvar s = this.get_settings().json_data, d,\n\t\t\t\t\terror_func = function () {},\n\t\t\t\t\tsuccess_func = function () {};\n\t\t\t\tobj = this._get_node(obj);\n\n\t\t\t\tif(obj && obj !== -1 && (s.progressive_render || s.progressive_unload) && !obj.is(\".jstree-open, .jstree-leaf\") && obj.children(\"ul\").children(\"li\").length === 0 && obj.data(\"jstree_children\")) {\n\t\t\t\t\td = this._parse_json(obj.data(\"jstree_children\"), obj);\n\t\t\t\t\tif(d) {\n\t\t\t\t\t\tobj.append(d);\n\t\t\t\t\t\tif(!s.progressive_unload) { obj.removeData(\"jstree_children\"); }\n\t\t\t\t\t}\n\t\t\t\t\tthis.clean_node(obj);\n\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(obj && obj !== -1) {\n\t\t\t\t\tif(obj.data(\"jstree_is_loading\")) { return; }\n\t\t\t\t\telse { obj.data(\"jstree_is_loading\",true); }\n\t\t\t\t}\n\t\t\t\tswitch(!0) {\n\t\t\t\t\tcase (!s.data && !s.ajax): throw \"Neither data nor ajax settings supplied.\";\n\t\t\t\t\t// function option added here for easier model integration (also supporting async - see callback)\n\t\t\t\t\tcase ($.isFunction(s.data)):\n\t\t\t\t\t\ts.data.call(this, obj, $.proxy(function (d) {\n\t\t\t\t\t\t\td = this._parse_json(d, obj);\n\t\t\t\t\t\t\tif(!d) { \n\t\t\t\t\t\t\t\tif(obj === -1 || !obj) {\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { this.get_container().children(\"ul\").empty(); }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { this.correct_state(obj); }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(e_call) { e_call.call(this); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(obj === -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()); }\n\t\t\t\t\t\t\t\telse { obj.append(d).children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.removeData(\"jstree_is_loading\"); }\n\t\t\t\t\t\t\t\tthis.clean_node(obj);\n\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase (!!s.data && !s.ajax) || (!!s.data && !!s.ajax && (!obj || obj === -1)):\n\t\t\t\t\t\tif(!obj || obj == -1) {\n\t\t\t\t\t\t\td = this._parse_json(s.data, obj);\n\t\t\t\t\t\t\tif(d) {\n\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty().append(d.children());\n\t\t\t\t\t\t\t\tthis.clean_node();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse { \n\t\t\t\t\t\t\t\tif(s.correct_state) { this.get_container().children(\"ul\").empty(); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase (!s.data && !!s.ajax) || (!!s.data && !!s.ajax && obj && obj !== -1):\n\t\t\t\t\t\terror_func = function (x, t, e) {\n\t\t\t\t\t\t\tvar ef = this.get_settings().json_data.ajax.error; \n\t\t\t\t\t\t\tif(ef) { ef.call(this, x, t, e); }\n\t\t\t\t\t\t\tif(obj != -1 && obj.length) {\n\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.correct_state(obj); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.get_container().children(\"ul\").empty(); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(e_call) { e_call.call(this); }\n\t\t\t\t\t\t};\n\t\t\t\t\t\tsuccess_func = function (d, t, x) {\n\t\t\t\t\t\t\tvar sf = this.get_settings().json_data.ajax.success; \n\t\t\t\t\t\t\tif(sf) { d = sf.call(this,d,t,x) || d; }\n\t\t\t\t\t\t\tif(d === \"\" || (d && d.toString && d.toString().replace(/^[\\s\\n]+$/,\"\") === \"\") || (!$.isArray(d) && !$.isPlainObject(d))) {\n\t\t\t\t\t\t\t\treturn error_func.call(this, x, t, \"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\td = this._parse_json(d, obj);\n\t\t\t\t\t\t\tif(d) {\n\t\t\t\t\t\t\t\tif(obj === -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()); }\n\t\t\t\t\t\t\t\telse { obj.append(d).children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.removeData(\"jstree_is_loading\"); }\n\t\t\t\t\t\t\t\tthis.clean_node(obj);\n\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(obj === -1 || !obj) {\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty(); \n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\tthis.correct_state(obj);\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\ts.ajax.context = this;\n\t\t\t\t\t\ts.ajax.error = error_func;\n\t\t\t\t\t\ts.ajax.success = success_func;\n\t\t\t\t\t\tif(!s.ajax.dataType) { s.ajax.dataType = \"json\"; }\n\t\t\t\t\t\tif($.isFunction(s.ajax.url)) { s.ajax.url = s.ajax.url.call(this, obj); }\n\t\t\t\t\t\tif($.isFunction(s.ajax.data)) { s.ajax.data = s.ajax.data.call(this, obj); }\n\t\t\t\t\t\t$.ajax(s.ajax);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\t_parse_json : function (js, obj, is_callback) {\n\t\t\t\tvar d = false, \n\t\t\t\t\tp = this._get_settings(),\n\t\t\t\t\ts = p.json_data,\n\t\t\t\t\tt = p.core.html_titles,\n\t\t\t\t\ttmp, i, j, ul1, ul2;\n\n\t\t\t\tif(!js) { return d; }\n\t\t\t\tif(s.progressive_unload && obj && obj !== -1) { \n\t\t\t\t\tobj.data(\"jstree_children\", d);\n\t\t\t\t}\n\t\t\t\tif($.isArray(js)) {\n\t\t\t\t\td = $('<ul>');\n\t\t\t\t\tif(!js.length) { return false; }\n\t\t\t\t\tfor(i = 0, j = js.length; i < j; i++) {\n\t\t\t\t\t\ttmp = this._parse_json(js[i], obj, true);\n\t\t\t\t\t\tif(tmp.length) {\n\t\t\t\t\t\t\td = d.append(tmp);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\td = d.children();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif(typeof js == \"string\") { js = { data : js }; }\n\t\t\t\t\tif(!js.data && js.data !== \"\") { return d; }\n\t\t\t\t\td = $(\"<li />\");\n\t\t\t\t\tif(js.attr) { d.attr(js.attr); }\n\t\t\t\t\tif(js.metadata) { d.data(js.metadata); }\n\t\t\t\t\tif(js.state) { d.addClass(\"jstree-\" + js.state); }\n\t\t\t\t\tif(!$.isArray(js.data)) { tmp = js.data; js.data = []; js.data.push(tmp); }\n\t\t\t\t\t$.each(js.data, function (i, m) {\n\t\t\t\t\t\ttmp = $(\"<a />\");\n\t\t\t\t\t\tif($.isFunction(m)) { m = m.call(this, js); }\n\t\t\t\t\t\tif(typeof m == \"string\") { tmp.attr('href','#')[ t ? \"html\" : \"text\" ](m); }\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif(!m.attr) { m.attr = {}; }\n\t\t\t\t\t\t\tif(!m.attr.href) { m.attr.href = '#'; }\n\t\t\t\t\t\t\ttmp.attr(m.attr)[ t ? \"html\" : \"text\" ](m.title);\n\t\t\t\t\t\t\tif(m.language) { tmp.addClass(m.language); }\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttmp.prepend(\"<ins class='jstree-icon'>&#160;</ins>\");\n\t\t\t\t\t\tif(!m.icon && js.icon) { m.icon = js.icon; }\n\t\t\t\t\t\tif(m.icon) { \n\t\t\t\t\t\t\tif(m.icon.indexOf(\"/\") === -1) { tmp.children(\"ins\").addClass(m.icon); }\n\t\t\t\t\t\t\telse { tmp.children(\"ins\").css(\"background\",\"url('\" + m.icon + \"') center center no-repeat\"); }\n\t\t\t\t\t\t}\n\t\t\t\t\t\td.append(tmp);\n\t\t\t\t\t});\n\t\t\t\t\td.prepend(\"<ins class='jstree-icon'>&#160;</ins>\");\n\t\t\t\t\tif(js.children) { \n\t\t\t\t\t\tif(s.progressive_render && js.state !== \"open\") {\n\t\t\t\t\t\t\td.addClass(\"jstree-closed\").data(\"jstree_children\", js.children);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif(s.progressive_unload) { d.data(\"jstree_children\", js.children); }\n\t\t\t\t\t\t\tif($.isArray(js.children) && js.children.length) {\n\t\t\t\t\t\t\t\ttmp = this._parse_json(js.children, obj, true);\n\t\t\t\t\t\t\t\tif(tmp.length) {\n\t\t\t\t\t\t\t\t\tul2 = $(\"<ul />\");\n\t\t\t\t\t\t\t\t\tul2.append(tmp);\n\t\t\t\t\t\t\t\t\td.append(ul2);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!is_callback) {\n\t\t\t\t\tul1 = $(\"<ul />\");\n\t\t\t\t\tul1.append(d);\n\t\t\t\t\td = ul1;\n\t\t\t\t}\n\t\t\t\treturn d;\n\t\t\t},\n\t\t\tget_json : function (obj, li_attr, a_attr, is_callback) {\n\t\t\t\tvar result = [], \n\t\t\t\t\ts = this._get_settings(), \n\t\t\t\t\t_this = this,\n\t\t\t\t\ttmp1, tmp2, li, a, t, lang;\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj || obj === -1) { obj = this.get_container().find(\"> ul > li\"); }\n\t\t\t\tli_attr = $.isArray(li_attr) ? li_attr : [ \"id\", \"class\" ];\n\t\t\t\tif(!is_callback && this.data.types) { li_attr.push(s.types.type_attr); }\n\t\t\t\ta_attr = $.isArray(a_attr) ? a_attr : [ ];\n\n\t\t\t\tobj.each(function () {\n\t\t\t\t\tli = $(this);\n\t\t\t\t\ttmp1 = { data : [] };\n\t\t\t\t\tif(li_attr.length) { tmp1.attr = { }; }\n\t\t\t\t\t$.each(li_attr, function (i, v) { \n\t\t\t\t\t\ttmp2 = li.attr(v); \n\t\t\t\t\t\tif(tmp2 && tmp2.length && tmp2.replace(/jstree[^ ]*/ig,'').length) {\n\t\t\t\t\t\t\ttmp1.attr[v] = (\" \" + tmp2).replace(/ jstree[^ ]*/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\"); \n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif(li.hasClass(\"jstree-open\")) { tmp1.state = \"open\"; }\n\t\t\t\t\tif(li.hasClass(\"jstree-closed\")) { tmp1.state = \"closed\"; }\n\t\t\t\t\tif(li.data()) { tmp1.metadata = li.data(); }\n\t\t\t\t\ta = li.children(\"a\");\n\t\t\t\t\ta.each(function () {\n\t\t\t\t\t\tt = $(this);\n\t\t\t\t\t\tif(\n\t\t\t\t\t\t\ta_attr.length || \n\t\t\t\t\t\t\t$.inArray(\"languages\", s.plugins) !== -1 || \n\t\t\t\t\t\t\tt.children(\"ins\").get(0).style.backgroundImage.length || \n\t\t\t\t\t\t\t(t.children(\"ins\").get(0).className && t.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').length)\n\t\t\t\t\t\t) { \n\t\t\t\t\t\t\tlang = false;\n\t\t\t\t\t\t\tif($.inArray(\"languages\", s.plugins) !== -1 && $.isArray(s.languages) && s.languages.length) {\n\t\t\t\t\t\t\t\t$.each(s.languages, function (l, lv) {\n\t\t\t\t\t\t\t\t\tif(t.hasClass(lv)) {\n\t\t\t\t\t\t\t\t\t\tlang = lv;\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttmp2 = { attr : { }, title : _this.get_text(t, lang) }; \n\t\t\t\t\t\t\t$.each(a_attr, function (k, z) {\n\t\t\t\t\t\t\t\ttmp2.attr[z] = (\" \" + (t.attr(z) || \"\")).replace(/ jstree[^ ]*/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\");\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif($.inArray(\"languages\", s.plugins) !== -1 && $.isArray(s.languages) && s.languages.length) {\n\t\t\t\t\t\t\t\t$.each(s.languages, function (k, z) {\n\t\t\t\t\t\t\t\t\tif(t.hasClass(z)) { tmp2.language = z; return true; }\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(t.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/^\\s+$/ig,\"\").length) {\n\t\t\t\t\t\t\t\ttmp2.icon = t.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(t.children(\"ins\").get(0).style.backgroundImage.length) {\n\t\t\t\t\t\t\t\ttmp2.icon = t.children(\"ins\").get(0).style.backgroundImage.replace(\"url(\",\"\").replace(\")\",\"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\ttmp2 = _this.get_text(t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(a.length > 1) { tmp1.data.push(tmp2); }\n\t\t\t\t\t\telse { tmp1.data = tmp2; }\n\t\t\t\t\t});\n\t\t\t\t\tli = li.find(\"> ul > li\");\n\t\t\t\t\tif(li.length) { tmp1.children = _this.get_json(li, li_attr, a_attr, true); }\n\t\t\t\t\tresult.push(tmp1);\n\t\t\t\t});\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/* \n * jsTree languages plugin\n * Adds support for multiple language versions in one tree\n * This basically allows for many titles coexisting in one node, but only one of them being visible at any given time\n * This is useful for maintaining the same structure in many languages (hence the name of the plugin)\n */\n(function ($) {\n\tvar sh = false;\n\t$.jstree.plugin(\"languages\", {\n\t\t__init : function () { this._load_css();  },\n\t\tdefaults : [],\n\t\t_fn : {\n\t\t\tset_lang : function (i) { \n\t\t\t\tvar langs = this._get_settings().languages,\n\t\t\t\t\tst = false,\n\t\t\t\t\tselector = \".jstree-\" + this.get_index() + ' a';\n\t\t\t\tif(!$.isArray(langs) || langs.length === 0) { return false; }\n\t\t\t\tif($.inArray(i,langs) == -1) {\n\t\t\t\t\tif(!!langs[i]) { i = langs[i]; }\n\t\t\t\t\telse { return false; }\n\t\t\t\t}\n\t\t\t\tif(i == this.data.languages.current_language) { return true; }\n\t\t\t\tst = $.vakata.css.get_css(selector + \".\" + this.data.languages.current_language, false, sh);\n\t\t\t\tif(st !== false) { st.style.display = \"none\"; }\n\t\t\t\tst = $.vakata.css.get_css(selector + \".\" + i, false, sh);\n\t\t\t\tif(st !== false) { st.style.display = \"\"; }\n\t\t\t\tthis.data.languages.current_language = i;\n\t\t\t\tthis.__callback(i);\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tget_lang : function () {\n\t\t\t\treturn this.data.languages.current_language;\n\t\t\t},\n\t\t\t_get_string : function (key, lang) {\n\t\t\t\tvar langs = this._get_settings().languages,\n\t\t\t\t\ts = this._get_settings().core.strings;\n\t\t\t\tif($.isArray(langs) && langs.length) {\n\t\t\t\t\tlang = (lang && $.inArray(lang,langs) != -1) ? lang : this.data.languages.current_language;\n\t\t\t\t}\n\t\t\t\tif(s[lang] && s[lang][key]) { return s[lang][key]; }\n\t\t\t\tif(s[key]) { return s[key]; }\n\t\t\t\treturn key;\n\t\t\t},\n\t\t\tget_text : function (obj, lang) {\n\t\t\t\tobj = this._get_node(obj) || this.data.ui.last_selected;\n\t\t\t\tif(!obj.size()) { return false; }\n\t\t\t\tvar langs = this._get_settings().languages,\n\t\t\t\t\ts = this._get_settings().core.html_titles;\n\t\t\t\tif($.isArray(langs) && langs.length) {\n\t\t\t\t\tlang = (lang && $.inArray(lang,langs) != -1) ? lang : this.data.languages.current_language;\n\t\t\t\t\tobj = obj.children(\"a.\" + lang);\n\t\t\t\t}\n\t\t\t\telse { obj = obj.children(\"a:eq(0)\"); }\n\t\t\t\tif(s) {\n\t\t\t\t\tobj = obj.clone();\n\t\t\t\t\tobj.children(\"INS\").remove();\n\t\t\t\t\treturn obj.html();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tobj = obj.contents().filter(function() { return this.nodeType == 3; })[0];\n\t\t\t\t\treturn obj.nodeValue;\n\t\t\t\t}\n\t\t\t},\n\t\t\tset_text : function (obj, val, lang) {\n\t\t\t\tobj = this._get_node(obj) || this.data.ui.last_selected;\n\t\t\t\tif(!obj.size()) { return false; }\n\t\t\t\tvar langs = this._get_settings().languages,\n\t\t\t\t\ts = this._get_settings().core.html_titles,\n\t\t\t\t\ttmp;\n\t\t\t\tif($.isArray(langs) && langs.length) {\n\t\t\t\t\tlang = (lang && $.inArray(lang,langs) != -1) ? lang : this.data.languages.current_language;\n\t\t\t\t\tobj = obj.children(\"a.\" + lang);\n\t\t\t\t}\n\t\t\t\telse { obj = obj.children(\"a:eq(0)\"); }\n\t\t\t\tif(s) {\n\t\t\t\t\ttmp = obj.children(\"INS\").clone();\n\t\t\t\t\tobj.html(val).prepend(tmp);\n\t\t\t\t\tthis.__callback({ \"obj\" : obj, \"name\" : val, \"lang\" : lang });\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tobj = obj.contents().filter(function() { return this.nodeType == 3; })[0];\n\t\t\t\t\tthis.__callback({ \"obj\" : obj, \"name\" : val, \"lang\" : lang });\n\t\t\t\t\treturn (obj.nodeValue = val);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_load_css : function () {\n\t\t\t\tvar langs = this._get_settings().languages,\n\t\t\t\t\tstr = \"/* languages css */\",\n\t\t\t\t\tselector = \".jstree-\" + this.get_index() + ' a',\n\t\t\t\t\tln;\n\t\t\t\tif($.isArray(langs) && langs.length) {\n\t\t\t\t\tthis.data.languages.current_language = langs[0];\n\t\t\t\t\tfor(ln = 0; ln < langs.length; ln++) {\n\t\t\t\t\t\tstr += selector + \".\" + langs[ln] + \" {\";\n\t\t\t\t\t\tif(langs[ln] != this.data.languages.current_language) { str += \" display:none; \"; }\n\t\t\t\t\t\tstr += \" } \";\n\t\t\t\t\t}\n\t\t\t\t\tsh = $.vakata.css.add_sheet({ 'str' : str, 'title' : \"jstree-languages\" });\n\t\t\t\t}\n\t\t\t},\n\t\t\tcreate_node : function (obj, position, js, callback) {\n\t\t\t\tvar t = this.__call_old(true, obj, position, js, function (t) {\n\t\t\t\t\tvar langs = this._get_settings().languages,\n\t\t\t\t\t\ta = t.children(\"a\"),\n\t\t\t\t\t\tln;\n\t\t\t\t\tif($.isArray(langs) && langs.length) {\n\t\t\t\t\t\tfor(ln = 0; ln < langs.length; ln++) {\n\t\t\t\t\t\t\tif(!a.is(\".\" + langs[ln])) {\n\t\t\t\t\t\t\t\tt.append(a.eq(0).clone().removeClass(langs.join(\" \")).addClass(langs[ln]));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\ta.not(\".\" + langs.join(\", .\")).remove();\n\t\t\t\t\t}\n\t\t\t\t\tif(callback) { callback.call(this, t); }\n\t\t\t\t});\n\t\t\t\treturn t;\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/*\n * jsTree cookies plugin\n * Stores the currently opened/selected nodes in a cookie and then restores them\n * Depends on the jquery.cookie plugin\n */\n(function ($) {\n\t$.jstree.plugin(\"cookies\", {\n\t\t__init : function () {\n\t\t\tif(typeof $.cookie === \"undefined\") { throw \"jsTree cookie: jQuery cookie plugin not included.\"; }\n\n\t\t\tvar s = this._get_settings().cookies,\n\t\t\t\ttmp;\n\t\t\tif(!!s.save_loaded) {\n\t\t\t\ttmp = $.cookie(s.save_loaded);\n\t\t\t\tif(tmp && tmp.length) { this.data.core.to_load = tmp.split(\",\"); }\n\t\t\t}\n\t\t\tif(!!s.save_opened) {\n\t\t\t\ttmp = $.cookie(s.save_opened);\n\t\t\t\tif(tmp && tmp.length) { this.data.core.to_open = tmp.split(\",\"); }\n\t\t\t}\n\t\t\tif(!!s.save_selected) {\n\t\t\t\ttmp = $.cookie(s.save_selected);\n\t\t\t\tif(tmp && tmp.length && this.data.ui) { this.data.ui.to_select = tmp.split(\",\"); }\n\t\t\t}\n\t\t\tthis.get_container()\n\t\t\t\t.one( ( this.data.ui ? \"reselect\" : \"reopen\" ) + \".jstree\", $.proxy(function () {\n\t\t\t\t\tthis.get_container()\n\t\t\t\t\t\t.bind(\"open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree\", $.proxy(function (e) { \n\t\t\t\t\t\t\t\tif(this._get_settings().cookies.auto_save) { this.save_cookie((e.handleObj.namespace + e.handleObj.type).replace(\"jstree\",\"\")); }\n\t\t\t\t\t\t\t}, this));\n\t\t\t\t}, this));\n\t\t},\n\t\tdefaults : {\n\t\t\tsave_loaded\t\t: \"jstree_load\",\n\t\t\tsave_opened\t\t: \"jstree_open\",\n\t\t\tsave_selected\t: \"jstree_select\",\n\t\t\tauto_save\t\t: true,\n\t\t\tcookie_options\t: {}\n\t\t},\n\t\t_fn : {\n\t\t\tsave_cookie : function (c) {\n\t\t\t\tif(this.data.core.refreshing) { return; }\n\t\t\t\tvar s = this._get_settings().cookies;\n\t\t\t\tif(!c) { // if called manually and not by event\n\t\t\t\t\tif(s.save_loaded) {\n\t\t\t\t\t\tthis.save_loaded();\n\t\t\t\t\t\t$.cookie(s.save_loaded, this.data.core.to_load.join(\",\"), s.cookie_options);\n\t\t\t\t\t}\n\t\t\t\t\tif(s.save_opened) {\n\t\t\t\t\t\tthis.save_opened();\n\t\t\t\t\t\t$.cookie(s.save_opened, this.data.core.to_open.join(\",\"), s.cookie_options);\n\t\t\t\t\t}\n\t\t\t\t\tif(s.save_selected && this.data.ui) {\n\t\t\t\t\t\tthis.save_selected();\n\t\t\t\t\t\t$.cookie(s.save_selected, this.data.ui.to_select.join(\",\"), s.cookie_options);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tswitch(c) {\n\t\t\t\t\tcase \"open_node\":\n\t\t\t\t\tcase \"close_node\":\n\t\t\t\t\t\tif(!!s.save_opened) { \n\t\t\t\t\t\t\tthis.save_opened(); \n\t\t\t\t\t\t\t$.cookie(s.save_opened, this.data.core.to_open.join(\",\"), s.cookie_options); \n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!!s.save_loaded) { \n\t\t\t\t\t\t\tthis.save_loaded(); \n\t\t\t\t\t\t\t$.cookie(s.save_loaded, this.data.core.to_load.join(\",\"), s.cookie_options); \n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"select_node\":\n\t\t\t\t\tcase \"deselect_node\":\n\t\t\t\t\t\tif(!!s.save_selected && this.data.ui) { \n\t\t\t\t\t\t\tthis.save_selected(); \n\t\t\t\t\t\t\t$.cookie(s.save_selected, this.data.ui.to_select.join(\",\"), s.cookie_options); \n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\t// include cookies by default\n\t// $.jstree.defaults.plugins.push(\"cookies\");\n})(jQuery);\n//*/\n\n/*\n * jsTree sort plugin\n * Sorts items alphabetically (or using any other function)\n */\n(function ($) {\n\t$.jstree.plugin(\"sort\", {\n\t\t__init : function () {\n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"load_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tvar obj = this._get_node(data.rslt.obj);\n\t\t\t\t\t\tobj = obj === -1 ? this.get_container().children(\"ul\") : obj.children(\"ul\");\n\t\t\t\t\t\tthis.sort(obj);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"rename_node.jstree create_node.jstree create.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tthis.sort(data.rslt.obj.parent());\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"move_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tvar m = data.rslt.np == -1 ? this.get_container() : data.rslt.np;\n\t\t\t\t\t\tthis.sort(m.children(\"ul\"));\n\t\t\t\t\t}, this));\n\t\t},\n\t\tdefaults : function (a, b) { return this.get_text(a) > this.get_text(b) ? 1 : -1; },\n\t\t_fn : {\n\t\t\tsort : function (obj) {\n\t\t\t\tvar s = this._get_settings().sort,\n\t\t\t\t\tt = this;\n\t\t\t\tobj.append($.makeArray(obj.children(\"li\")).sort($.proxy(s, t)));\n\t\t\t\tobj.find(\"> li > ul\").each(function() { t.sort($(this)); });\n\t\t\t\tthis.clean_node(obj);\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/*\n * jsTree DND plugin\n * Drag and drop plugin for moving/copying nodes\n */\n(function ($) {\n\tvar o = false,\n\t\tr = false,\n\t\tm = false,\n\t\tml = false,\n\t\tsli = false,\n\t\tsti = false,\n\t\tdir1 = false,\n\t\tdir2 = false,\n\t\tlast_pos = false;\n\t$.vakata.dnd = {\n\t\tis_down : false,\n\t\tis_drag : false,\n\t\thelper : false,\n\t\tscroll_spd : 10,\n\t\tinit_x : 0,\n\t\tinit_y : 0,\n\t\tthreshold : 5,\n\t\thelper_left : 5,\n\t\thelper_top : 10,\n\t\tuser_data : {},\n\n\t\tdrag_start : function (e, data, html) { \n\t\t\tif($.vakata.dnd.is_drag) { $.vakata.drag_stop({}); }\n\t\t\ttry {\n\t\t\t\te.currentTarget.unselectable = \"on\";\n\t\t\t\te.currentTarget.onselectstart = function() { return false; };\n\t\t\t\tif(e.currentTarget.style) { e.currentTarget.style.MozUserSelect = \"none\"; }\n\t\t\t} catch(err) { }\n\t\t\t$.vakata.dnd.init_x = e.pageX;\n\t\t\t$.vakata.dnd.init_y = e.pageY;\n\t\t\t$.vakata.dnd.user_data = data;\n\t\t\t$.vakata.dnd.is_down = true;\n\t\t\t$.vakata.dnd.helper = $(\"<div id='vakata-dragged' />\").html(html); //.fadeTo(10,0.25);\n\t\t\t$(document).bind(\"mousemove\", $.vakata.dnd.drag);\n\t\t\t$(document).bind(\"mouseup\", $.vakata.dnd.drag_stop);\n\t\t\treturn false;\n\t\t},\n\t\tdrag : function (e) { \n\t\t\tif(!$.vakata.dnd.is_down) { return; }\n\t\t\tif(!$.vakata.dnd.is_drag) {\n\t\t\t\tif(Math.abs(e.pageX - $.vakata.dnd.init_x) > 5 || Math.abs(e.pageY - $.vakata.dnd.init_y) > 5) { \n\t\t\t\t\t$.vakata.dnd.helper.appendTo(\"body\");\n\t\t\t\t\t$.vakata.dnd.is_drag = true;\n\t\t\t\t\t$(document).triggerHandler(\"drag_start.vakata\", { \"event\" : e, \"data\" : $.vakata.dnd.user_data });\n\t\t\t\t}\n\t\t\t\telse { return; }\n\t\t\t}\n\n\t\t\t// maybe use a scrolling parent element instead of document?\n\t\t\tif(e.type === \"mousemove\") { // thought of adding scroll in order to move the helper, but mouse poisition is n/a\n\t\t\t\tvar d = $(document), t = d.scrollTop(), l = d.scrollLeft();\n\t\t\t\tif(e.pageY - t < 20) { \n\t\t\t\t\tif(sti && dir1 === \"down\") { clearInterval(sti); sti = false; }\n\t\t\t\t\tif(!sti) { dir1 = \"up\"; sti = setInterval(function () { $(document).scrollTop($(document).scrollTop() - $.vakata.dnd.scroll_spd); }, 150); }\n\t\t\t\t}\n\t\t\t\telse { \n\t\t\t\t\tif(sti && dir1 === \"up\") { clearInterval(sti); sti = false; }\n\t\t\t\t}\n\t\t\t\tif($(window).height() - (e.pageY - t) < 20) {\n\t\t\t\t\tif(sti && dir1 === \"up\") { clearInterval(sti); sti = false; }\n\t\t\t\t\tif(!sti) { dir1 = \"down\"; sti = setInterval(function () { $(document).scrollTop($(document).scrollTop() + $.vakata.dnd.scroll_spd); }, 150); }\n\t\t\t\t}\n\t\t\t\telse { \n\t\t\t\t\tif(sti && dir1 === \"down\") { clearInterval(sti); sti = false; }\n\t\t\t\t}\n\n\t\t\t\tif(e.pageX - l < 20) {\n\t\t\t\t\tif(sli && dir2 === \"right\") { clearInterval(sli); sli = false; }\n\t\t\t\t\tif(!sli) { dir2 = \"left\"; sli = setInterval(function () { $(document).scrollLeft($(document).scrollLeft() - $.vakata.dnd.scroll_spd); }, 150); }\n\t\t\t\t}\n\t\t\t\telse { \n\t\t\t\t\tif(sli && dir2 === \"left\") { clearInterval(sli); sli = false; }\n\t\t\t\t}\n\t\t\t\tif($(window).width() - (e.pageX - l) < 20) {\n\t\t\t\t\tif(sli && dir2 === \"left\") { clearInterval(sli); sli = false; }\n\t\t\t\t\tif(!sli) { dir2 = \"right\"; sli = setInterval(function () { $(document).scrollLeft($(document).scrollLeft() + $.vakata.dnd.scroll_spd); }, 150); }\n\t\t\t\t}\n\t\t\t\telse { \n\t\t\t\t\tif(sli && dir2 === \"right\") { clearInterval(sli); sli = false; }\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$.vakata.dnd.helper.css({ left : (e.pageX + $.vakata.dnd.helper_left) + \"px\", top : (e.pageY + $.vakata.dnd.helper_top) + \"px\" });\n\t\t\t$(document).triggerHandler(\"drag.vakata\", { \"event\" : e, \"data\" : $.vakata.dnd.user_data });\n\t\t},\n\t\tdrag_stop : function (e) {\n\t\t\tif(sli) { clearInterval(sli); }\n\t\t\tif(sti) { clearInterval(sti); }\n\t\t\t$(document).unbind(\"mousemove\", $.vakata.dnd.drag);\n\t\t\t$(document).unbind(\"mouseup\", $.vakata.dnd.drag_stop);\n\t\t\t$(document).triggerHandler(\"drag_stop.vakata\", { \"event\" : e, \"data\" : $.vakata.dnd.user_data });\n\t\t\t$.vakata.dnd.helper.remove();\n\t\t\t$.vakata.dnd.init_x = 0;\n\t\t\t$.vakata.dnd.init_y = 0;\n\t\t\t$.vakata.dnd.user_data = {};\n\t\t\t$.vakata.dnd.is_down = false;\n\t\t\t$.vakata.dnd.is_drag = false;\n\t\t}\n\t};\n\t$(function() {\n\t\tvar css_string = '#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ';\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"vakata\" });\n\t});\n\n\t$.jstree.plugin(\"dnd\", {\n\t\t__init : function () {\n\t\t\tthis.data.dnd = {\n\t\t\t\tactive : false,\n\t\t\t\tafter : false,\n\t\t\t\tinside : false,\n\t\t\t\tbefore : false,\n\t\t\t\toff : false,\n\t\t\t\tprepared : false,\n\t\t\t\tw : 0,\n\t\t\t\tto1 : false,\n\t\t\t\tto2 : false,\n\t\t\t\tcof : false,\n\t\t\t\tcw : false,\n\t\t\t\tch : false,\n\t\t\t\ti1 : false,\n\t\t\t\ti2 : false,\n\t\t\t\tmto : false\n\t\t\t};\n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"mouseenter.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\n\t\t\t\t\t\t\tif(this.data.themes) {\n\t\t\t\t\t\t\t\tm.attr(\"class\", \"jstree-\" + this.data.themes.theme); \n\t\t\t\t\t\t\t\tif(ml) { ml.attr(\"class\", \"jstree-\" + this.data.themes.theme); }\n\t\t\t\t\t\t\t\t$.vakata.dnd.helper.attr(\"class\", \"jstree-dnd-helper jstree-\" + this.data.themes.theme);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//if($(e.currentTarget).find(\"> ul > li\").length === 0) {\n\t\t\t\t\t\t\tif(e.currentTarget === e.target && $.vakata.dnd.user_data.obj && $($.vakata.dnd.user_data.obj).length && $($.vakata.dnd.user_data.obj).parents(\".jstree:eq(0)\")[0] !== e.target) { // node should not be from the same tree\n\t\t\t\t\t\t\t\tvar tr = $.jstree._reference(e.target), dc;\n\t\t\t\t\t\t\t\tif(tr.data.dnd.foreign) {\n\t\t\t\t\t\t\t\t\tdc = tr._get_settings().dnd.drag_check.call(this, { \"o\" : o, \"r\" : tr.get_container(), is_root : true });\n\t\t\t\t\t\t\t\t\tif(dc === true || dc.inside === true || dc.before === true || dc.after === true) {\n\t\t\t\t\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-ok\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\ttr.prepare_move(o, tr.get_container(), \"last\");\n\t\t\t\t\t\t\t\t\tif(tr.check_move()) {\n\t\t\t\t\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-ok\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"mouseup.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\t//if($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree && $(e.currentTarget).find(\"> ul > li\").length === 0) {\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree && e.currentTarget === e.target && $.vakata.dnd.user_data.obj && $($.vakata.dnd.user_data.obj).length && $($.vakata.dnd.user_data.obj).parents(\".jstree:eq(0)\")[0] !== e.target) { // node should not be from the same tree\n\t\t\t\t\t\t\tvar tr = $.jstree._reference(e.currentTarget), dc;\n\t\t\t\t\t\t\tif(tr.data.dnd.foreign) {\n\t\t\t\t\t\t\t\tdc = tr._get_settings().dnd.drag_check.call(this, { \"o\" : o, \"r\" : tr.get_container(), is_root : true });\n\t\t\t\t\t\t\t\tif(dc === true || dc.inside === true || dc.before === true || dc.after === true) {\n\t\t\t\t\t\t\t\t\ttr._get_settings().dnd.drag_finish.call(this, { \"o\" : o, \"r\" : tr.get_container(), is_root : true });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\ttr.move_node(o, tr.get_container(), \"last\", e[tr._get_settings().dnd.copy_modifier + \"Key\"]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"mouseleave.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\tif(e.relatedTarget && e.relatedTarget.id && e.relatedTarget.id === \"jstree-marker-line\") {\n\t\t\t\t\t\t\treturn false; \n\t\t\t\t\t\t}\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\n\t\t\t\t\t\t\tif(this.data.dnd.i1) { clearInterval(this.data.dnd.i1); }\n\t\t\t\t\t\t\tif(this.data.dnd.i2) { clearInterval(this.data.dnd.i2); }\n\t\t\t\t\t\t\tif(this.data.dnd.to1) { clearTimeout(this.data.dnd.to1); }\n\t\t\t\t\t\t\tif(this.data.dnd.to2) { clearTimeout(this.data.dnd.to2); }\n\t\t\t\t\t\t\tif($.vakata.dnd.helper.children(\"ins\").hasClass(\"jstree-ok\")) {\n\t\t\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"mousemove.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\n\t\t\t\t\t\t\tvar cnt = this.get_container()[0];\n\n\t\t\t\t\t\t\t// Horizontal scroll\n\t\t\t\t\t\t\tif(e.pageX + 24 > this.data.dnd.cof.left + this.data.dnd.cw) {\n\t\t\t\t\t\t\t\tif(this.data.dnd.i1) { clearInterval(this.data.dnd.i1); }\n\t\t\t\t\t\t\t\tthis.data.dnd.i1 = setInterval($.proxy(function () { this.scrollLeft += $.vakata.dnd.scroll_spd; }, cnt), 100);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(e.pageX - 24 < this.data.dnd.cof.left) {\n\t\t\t\t\t\t\t\tif(this.data.dnd.i1) { clearInterval(this.data.dnd.i1); }\n\t\t\t\t\t\t\t\tthis.data.dnd.i1 = setInterval($.proxy(function () { this.scrollLeft -= $.vakata.dnd.scroll_spd; }, cnt), 100);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(this.data.dnd.i1) { clearInterval(this.data.dnd.i1); }\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Vertical scroll\n\t\t\t\t\t\t\tif(e.pageY + 24 > this.data.dnd.cof.top + this.data.dnd.ch) {\n\t\t\t\t\t\t\t\tif(this.data.dnd.i2) { clearInterval(this.data.dnd.i2); }\n\t\t\t\t\t\t\t\tthis.data.dnd.i2 = setInterval($.proxy(function () { this.scrollTop += $.vakata.dnd.scroll_spd; }, cnt), 100);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(e.pageY - 24 < this.data.dnd.cof.top) {\n\t\t\t\t\t\t\t\tif(this.data.dnd.i2) { clearInterval(this.data.dnd.i2); }\n\t\t\t\t\t\t\t\tthis.data.dnd.i2 = setInterval($.proxy(function () { this.scrollTop -= $.vakata.dnd.scroll_spd; }, cnt), 100);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(this.data.dnd.i2) { clearInterval(this.data.dnd.i2); }\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"scroll.jstree\", $.proxy(function (e) { \n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree && m && ml) {\n\t\t\t\t\t\t\tm.hide();\n\t\t\t\t\t\t\tml.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"a\", \"mousedown.jstree\", $.proxy(function (e) { \n\t\t\t\t\t\tif(e.which === 1) {\n\t\t\t\t\t\t\tthis.start_drag(e.currentTarget, e);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"a\", \"mouseenter.jstree\", $.proxy(function (e) { \n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\n\t\t\t\t\t\t\tthis.dnd_enter(e.currentTarget);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"a\", \"mousemove.jstree\", $.proxy(function (e) { \n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\n\t\t\t\t\t\t\tif(!r || !r.length || r.children(\"a\")[0] !== e.currentTarget) {\n\t\t\t\t\t\t\t\tthis.dnd_enter(e.currentTarget);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(typeof this.data.dnd.off.top === \"undefined\") { this.data.dnd.off = $(e.target).offset(); }\n\t\t\t\t\t\t\tthis.data.dnd.w = (e.pageY - (this.data.dnd.off.top || 0)) % this.data.core.li_height;\n\t\t\t\t\t\t\tif(this.data.dnd.w < 0) { this.data.dnd.w += this.data.core.li_height; }\n\t\t\t\t\t\t\tthis.dnd_show();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"a\", \"mouseleave.jstree\", $.proxy(function (e) { \n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\n\t\t\t\t\t\t\tif(e.relatedTarget && e.relatedTarget.id && e.relatedTarget.id === \"jstree-marker-line\") {\n\t\t\t\t\t\t\t\treturn false; \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(m) { m.hide(); }\n\t\t\t\t\t\t\t\tif(ml) { ml.hide(); }\n\t\t\t\t\t\t\t/*\n\t\t\t\t\t\t\tvar ec = $(e.currentTarget).closest(\"li\"), \n\t\t\t\t\t\t\t\ter = $(e.relatedTarget).closest(\"li\");\n\t\t\t\t\t\t\tif(er[0] !== ec.prev()[0] && er[0] !== ec.next()[0]) {\n\t\t\t\t\t\t\t\tif(m) { m.hide(); }\n\t\t\t\t\t\t\t\tif(ml) { ml.hide(); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t\tthis.data.dnd.mto = setTimeout( \n\t\t\t\t\t\t\t\t(function (t) { return function () { t.dnd_leave(e); }; })(this),\n\t\t\t\t\t\t\t0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"a\", \"mouseup.jstree\", $.proxy(function (e) { \n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree) {\n\t\t\t\t\t\t\tthis.dnd_finish(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this));\n\n\t\t\t$(document)\n\t\t\t\t.bind(\"drag_stop.vakata\", $.proxy(function () {\n\t\t\t\t\t\tif(this.data.dnd.to1) { clearTimeout(this.data.dnd.to1); }\n\t\t\t\t\t\tif(this.data.dnd.to2) { clearTimeout(this.data.dnd.to2); }\n\t\t\t\t\t\tif(this.data.dnd.i1) { clearInterval(this.data.dnd.i1); }\n\t\t\t\t\t\tif(this.data.dnd.i2) { clearInterval(this.data.dnd.i2); }\n\t\t\t\t\t\tthis.data.dnd.after\t\t= false;\n\t\t\t\t\t\tthis.data.dnd.before\t= false;\n\t\t\t\t\t\tthis.data.dnd.inside\t= false;\n\t\t\t\t\t\tthis.data.dnd.off\t\t= false;\n\t\t\t\t\t\tthis.data.dnd.prepared\t= false;\n\t\t\t\t\t\tthis.data.dnd.w\t\t\t= false;\n\t\t\t\t\t\tthis.data.dnd.to1\t\t= false;\n\t\t\t\t\t\tthis.data.dnd.to2\t\t= false;\n\t\t\t\t\t\tthis.data.dnd.i1\t\t= false;\n\t\t\t\t\t\tthis.data.dnd.i2\t\t= false;\n\t\t\t\t\t\tthis.data.dnd.active\t= false;\n\t\t\t\t\t\tthis.data.dnd.foreign\t= false;\n\t\t\t\t\t\tif(m) { m.css({ \"top\" : \"-2000px\" }); }\n\t\t\t\t\t\tif(ml) { ml.css({ \"top\" : \"-2000px\" }); }\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"drag_start.vakata\", $.proxy(function (e, data) {\n\t\t\t\t\t\tif(data.data.jstree) { \n\t\t\t\t\t\t\tvar et = $(data.event.target);\n\t\t\t\t\t\t\tif(et.closest(\".jstree\").hasClass(\"jstree-\" + this.get_index())) {\n\t\t\t\t\t\t\t\tthis.dnd_enter(et);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this));\n\t\t\t\t/*\n\t\t\t\t.bind(\"keydown.jstree-\" + this.get_index() + \" keyup.jstree-\" + this.get_index(), $.proxy(function(e) {\n\t\t\t\t\t\tif($.vakata.dnd.is_drag && $.vakata.dnd.user_data.jstree && !this.data.dnd.foreign) {\n\t\t\t\t\t\t\tvar h = $.vakata.dnd.helper.children(\"ins\");\n\t\t\t\t\t\t\tif(e[this._get_settings().dnd.copy_modifier + \"Key\"] && h.hasClass(\"jstree-ok\")) {\n\t\t\t\t\t\t\t\th.parent().html(h.parent().html().replace(/ \\(Copy\\)$/, \"\") + \" (Copy)\");\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\th.parent().html(h.parent().html().replace(/ \\(Copy\\)$/, \"\"));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this)); */\n\n\n\n\t\t\tvar s = this._get_settings().dnd;\n\t\t\tif(s.drag_target) {\n\t\t\t\t$(document)\n\t\t\t\t\t.delegate(s.drag_target, \"mousedown.jstree-\" + this.get_index(), $.proxy(function (e) {\n\t\t\t\t\t\to = e.target;\n\t\t\t\t\t\t$.vakata.dnd.drag_start(e, { jstree : true, obj : e.target }, \"<ins class='jstree-icon'></ins>\" + $(e.target).text() );\n\t\t\t\t\t\tif(this.data.themes) { \n\t\t\t\t\t\t\tif(m) { m.attr(\"class\", \"jstree-\" + this.data.themes.theme); }\n\t\t\t\t\t\t\tif(ml) { ml.attr(\"class\", \"jstree-\" + this.data.themes.theme); }\n\t\t\t\t\t\t\t$.vakata.dnd.helper.attr(\"class\", \"jstree-dnd-helper jstree-\" + this.data.themes.theme); \n\t\t\t\t\t\t}\n\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\");\n\t\t\t\t\t\tvar cnt = this.get_container();\n\t\t\t\t\t\tthis.data.dnd.cof = cnt.offset();\n\t\t\t\t\t\tthis.data.dnd.cw = parseInt(cnt.width(),10);\n\t\t\t\t\t\tthis.data.dnd.ch = parseInt(cnt.height(),10);\n\t\t\t\t\t\tthis.data.dnd.foreign = true;\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}, this));\n\t\t\t}\n\t\t\tif(s.drop_target) {\n\t\t\t\t$(document)\n\t\t\t\t\t.delegate(s.drop_target, \"mouseenter.jstree-\" + this.get_index(), $.proxy(function (e) {\n\t\t\t\t\t\t\tif(this.data.dnd.active && this._get_settings().dnd.drop_check.call(this, { \"o\" : o, \"r\" : $(e.target), \"e\" : e })) {\n\t\t\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-ok\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this))\n\t\t\t\t\t.delegate(s.drop_target, \"mouseleave.jstree-\" + this.get_index(), $.proxy(function (e) {\n\t\t\t\t\t\t\tif(this.data.dnd.active) {\n\t\t\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this))\n\t\t\t\t\t.delegate(s.drop_target, \"mouseup.jstree-\" + this.get_index(), $.proxy(function (e) {\n\t\t\t\t\t\t\tif(this.data.dnd.active && $.vakata.dnd.helper.children(\"ins\").hasClass(\"jstree-ok\")) {\n\t\t\t\t\t\t\t\tthis._get_settings().dnd.drop_finish.call(this, { \"o\" : o, \"r\" : $(e.target), \"e\" : e });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this));\n\t\t\t}\n\t\t},\n\t\tdefaults : {\n\t\t\tcopy_modifier\t: \"ctrl\",\n\t\t\tcheck_timeout\t: 100,\n\t\t\topen_timeout\t: 500,\n\t\t\tdrop_target\t\t: \".jstree-drop\",\n\t\t\tdrop_check\t\t: function (data) { return true; },\n\t\t\tdrop_finish\t\t: $.noop,\n\t\t\tdrag_target\t\t: \".jstree-draggable\",\n\t\t\tdrag_finish\t\t: $.noop,\n\t\t\tdrag_check\t\t: function (data) { return { after : false, before : false, inside : true }; }\n\t\t},\n\t\t_fn : {\n\t\t\tdnd_prepare : function () {\n\t\t\t\tif(!r || !r.length) { return; }\n\t\t\t\tthis.data.dnd.off = r.offset();\n\t\t\t\tif(this._get_settings().core.rtl) {\n\t\t\t\t\tthis.data.dnd.off.right = this.data.dnd.off.left + r.width();\n\t\t\t\t}\n\t\t\t\tif(this.data.dnd.foreign) {\n\t\t\t\t\tvar a = this._get_settings().dnd.drag_check.call(this, { \"o\" : o, \"r\" : r });\n\t\t\t\t\tthis.data.dnd.after = a.after;\n\t\t\t\t\tthis.data.dnd.before = a.before;\n\t\t\t\t\tthis.data.dnd.inside = a.inside;\n\t\t\t\t\tthis.data.dnd.prepared = true;\n\t\t\t\t\treturn this.dnd_show();\n\t\t\t\t}\n\t\t\t\tthis.prepare_move(o, r, \"before\");\n\t\t\t\tthis.data.dnd.before = this.check_move();\n\t\t\t\tthis.prepare_move(o, r, \"after\");\n\t\t\t\tthis.data.dnd.after = this.check_move();\n\t\t\t\tif(this._is_loaded(r)) {\n\t\t\t\t\tthis.prepare_move(o, r, \"inside\");\n\t\t\t\t\tthis.data.dnd.inside = this.check_move();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.data.dnd.inside = false;\n\t\t\t\t}\n\t\t\t\tthis.data.dnd.prepared = true;\n\t\t\t\treturn this.dnd_show();\n\t\t\t},\n\t\t\tdnd_show : function () {\n\t\t\t\tif(!this.data.dnd.prepared) { return; }\n\t\t\t\tvar o = [\"before\",\"inside\",\"after\"],\n\t\t\t\t\tr = false,\n\t\t\t\t\trtl = this._get_settings().core.rtl,\n\t\t\t\t\tpos;\n\t\t\t\tif(this.data.dnd.w < this.data.core.li_height/3) { o = [\"before\",\"inside\",\"after\"]; }\n\t\t\t\telse if(this.data.dnd.w <= this.data.core.li_height*2/3) {\n\t\t\t\t\to = this.data.dnd.w < this.data.core.li_height/2 ? [\"inside\",\"before\",\"after\"] : [\"inside\",\"after\",\"before\"];\n\t\t\t\t}\n\t\t\t\telse { o = [\"after\",\"inside\",\"before\"]; }\n\t\t\t\t$.each(o, $.proxy(function (i, val) { \n\t\t\t\t\tif(this.data.dnd[val]) {\n\t\t\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-ok\");\n\t\t\t\t\t\tr = val;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}, this));\n\t\t\t\tif(r === false) { $.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\"); }\n\t\t\t\t\n\t\t\t\tpos = rtl ? (this.data.dnd.off.right - 18) : (this.data.dnd.off.left + 10);\n\t\t\t\tswitch(r) {\n\t\t\t\t\tcase \"before\":\n\t\t\t\t\t\tm.css({ \"left\" : pos + \"px\", \"top\" : (this.data.dnd.off.top - 6) + \"px\" }).show();\n\t\t\t\t\t\tif(ml) { ml.css({ \"left\" : (pos + 8) + \"px\", \"top\" : (this.data.dnd.off.top - 1) + \"px\" }).show(); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"after\":\n\t\t\t\t\t\tm.css({ \"left\" : pos + \"px\", \"top\" : (this.data.dnd.off.top + this.data.core.li_height - 6) + \"px\" }).show();\n\t\t\t\t\t\tif(ml) { ml.css({ \"left\" : (pos + 8) + \"px\", \"top\" : (this.data.dnd.off.top + this.data.core.li_height - 1) + \"px\" }).show(); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"inside\":\n\t\t\t\t\t\tm.css({ \"left\" : pos + ( rtl ? -4 : 4) + \"px\", \"top\" : (this.data.dnd.off.top + this.data.core.li_height/2 - 5) + \"px\" }).show();\n\t\t\t\t\t\tif(ml) { ml.hide(); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tm.hide();\n\t\t\t\t\t\tif(ml) { ml.hide(); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlast_pos = r;\n\t\t\t\treturn r;\n\t\t\t},\n\t\t\tdnd_open : function () {\n\t\t\t\tthis.data.dnd.to2 = false;\n\t\t\t\tthis.open_node(r, $.proxy(this.dnd_prepare,this), true);\n\t\t\t},\n\t\t\tdnd_finish : function (e) {\n\t\t\t\tif(this.data.dnd.foreign) {\n\t\t\t\t\tif(this.data.dnd.after || this.data.dnd.before || this.data.dnd.inside) {\n\t\t\t\t\t\tthis._get_settings().dnd.drag_finish.call(this, { \"o\" : o, \"r\" : r, \"p\" : last_pos });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.dnd_prepare();\n\t\t\t\t\tthis.move_node(o, r, last_pos, e[this._get_settings().dnd.copy_modifier + \"Key\"]);\n\t\t\t\t}\n\t\t\t\to = false;\n\t\t\t\tr = false;\n\t\t\t\tm.hide();\n\t\t\t\tif(ml) { ml.hide(); }\n\t\t\t},\n\t\t\tdnd_enter : function (obj) {\n\t\t\t\tif(this.data.dnd.mto) { \n\t\t\t\t\tclearTimeout(this.data.dnd.mto);\n\t\t\t\t\tthis.data.dnd.mto = false;\n\t\t\t\t}\n\t\t\t\tvar s = this._get_settings().dnd;\n\t\t\t\tthis.data.dnd.prepared = false;\n\t\t\t\tr = this._get_node(obj);\n\t\t\t\tif(s.check_timeout) { \n\t\t\t\t\t// do the calculations after a minimal timeout (users tend to drag quickly to the desired location)\n\t\t\t\t\tif(this.data.dnd.to1) { clearTimeout(this.data.dnd.to1); }\n\t\t\t\t\tthis.data.dnd.to1 = setTimeout($.proxy(this.dnd_prepare, this), s.check_timeout); \n\t\t\t\t}\n\t\t\t\telse { \n\t\t\t\t\tthis.dnd_prepare(); \n\t\t\t\t}\n\t\t\t\tif(s.open_timeout) { \n\t\t\t\t\tif(this.data.dnd.to2) { clearTimeout(this.data.dnd.to2); }\n\t\t\t\t\tif(r && r.length && r.hasClass(\"jstree-closed\")) { \n\t\t\t\t\t\t// if the node is closed - open it, then recalculate\n\t\t\t\t\t\tthis.data.dnd.to2 = setTimeout($.proxy(this.dnd_open, this), s.open_timeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif(r && r.length && r.hasClass(\"jstree-closed\")) { \n\t\t\t\t\t\tthis.dnd_open();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdnd_leave : function (e) {\n\t\t\t\tthis.data.dnd.after\t\t= false;\n\t\t\t\tthis.data.dnd.before\t= false;\n\t\t\t\tthis.data.dnd.inside\t= false;\n\t\t\t\t$.vakata.dnd.helper.children(\"ins\").attr(\"class\",\"jstree-invalid\");\n\t\t\t\tm.hide();\n\t\t\t\tif(ml) { ml.hide(); }\n\t\t\t\tif(r && r[0] === e.target.parentNode) {\n\t\t\t\t\tif(this.data.dnd.to1) {\n\t\t\t\t\t\tclearTimeout(this.data.dnd.to1);\n\t\t\t\t\t\tthis.data.dnd.to1 = false;\n\t\t\t\t\t}\n\t\t\t\t\tif(this.data.dnd.to2) {\n\t\t\t\t\t\tclearTimeout(this.data.dnd.to2);\n\t\t\t\t\t\tthis.data.dnd.to2 = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tstart_drag : function (obj, e) {\n\t\t\t\to = this._get_node(obj);\n\t\t\t\tif(this.data.ui && this.is_selected(o)) { o = this._get_node(null, true); }\n\t\t\t\tvar dt = o.length > 1 ? this._get_string(\"multiple_selection\") : this.get_text(o),\n\t\t\t\t\tcnt = this.get_container();\n\t\t\t\tif(!this._get_settings().core.html_titles) { dt = dt.replace(/</ig,\"&lt;\").replace(/>/ig,\"&gt;\"); }\n\t\t\t\t$.vakata.dnd.drag_start(e, { jstree : true, obj : o }, \"<ins class='jstree-icon'></ins>\" + dt );\n\t\t\t\tif(this.data.themes) { \n\t\t\t\t\tif(m) { m.attr(\"class\", \"jstree-\" + this.data.themes.theme); }\n\t\t\t\t\tif(ml) { ml.attr(\"class\", \"jstree-\" + this.data.themes.theme); }\n\t\t\t\t\t$.vakata.dnd.helper.attr(\"class\", \"jstree-dnd-helper jstree-\" + this.data.themes.theme); \n\t\t\t\t}\n\t\t\t\tthis.data.dnd.cof = cnt.offset();\n\t\t\t\tthis.data.dnd.cw = parseInt(cnt.width(),10);\n\t\t\t\tthis.data.dnd.ch = parseInt(cnt.height(),10);\n\t\t\t\tthis.data.dnd.active = true;\n\t\t\t}\n\t\t}\n\t});\n\t$(function() {\n\t\tvar css_string = '' + \n\t\t\t'#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px; ' + \n\t\t\t' -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; ' +\n\t\t\t'} ' + \n\t\t\t'#vakata-dragged .jstree-ok { background:green; } ' + \n\t\t\t'#vakata-dragged .jstree-invalid { background:red; } ' + \n\t\t\t'#jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } ' + \n\t\t\t'#jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43; ' + \n\t\t\t' cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666; ' + \n\t\t\t' -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; ' +\n\t\t\t'}' + \n\t\t\t'';\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"jstree\" });\n\t\tm = $(\"<div />\").attr({ id : \"jstree-marker\" }).hide().html(\"&raquo;\")\n\t\t\t.bind(\"mouseleave mouseenter\", function (e) { \n\t\t\t\tm.hide();\n\t\t\t\tml.hide();\n\t\t\t\te.preventDefault(); \n\t\t\t\te.stopImmediatePropagation(); \n\t\t\t\treturn false; \n\t\t\t})\n\t\t\t.appendTo(\"body\");\n\t\tml = $(\"<div />\").attr({ id : \"jstree-marker-line\" }).hide()\n\t\t\t.bind(\"mouseup\", function (e) { \n\t\t\t\tif(r && r.length) { \n\t\t\t\t\tr.children(\"a\").trigger(e); \n\t\t\t\t\te.preventDefault(); \n\t\t\t\t\te.stopImmediatePropagation(); \n\t\t\t\t\treturn false; \n\t\t\t\t} \n\t\t\t})\n\t\t\t.bind(\"mouseleave\", function (e) { \n\t\t\t\tvar rt = $(e.relatedTarget);\n\t\t\t\tif(rt.is(\".jstree\") || rt.closest(\".jstree\").length === 0) {\n\t\t\t\t\tif(r && r.length) { \n\t\t\t\t\t\tr.children(\"a\").trigger(e); \n\t\t\t\t\t\tm.hide();\n\t\t\t\t\t\tml.hide();\n\t\t\t\t\t\te.preventDefault(); \n\t\t\t\t\t\te.stopImmediatePropagation(); \n\t\t\t\t\t\treturn false; \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.appendTo(\"body\");\n\t\t$(document).bind(\"drag_start.vakata\", function (e, data) {\n\t\t\tif(data.data.jstree) { m.show(); if(ml) { ml.show(); } }\n\t\t});\n\t\t$(document).bind(\"drag_stop.vakata\", function (e, data) {\n\t\t\tif(data.data.jstree) { m.hide(); if(ml) { ml.hide(); } }\n\t\t});\n\t});\n})(jQuery);\n//*/\n\n/*\n * jsTree checkbox plugin\n * Inserts checkboxes in front of every node\n * Depends on the ui plugin\n * DOES NOT WORK NICELY WITH MULTITREE DRAG'N'DROP\n */\n(function ($) {\n\t$.jstree.plugin(\"checkbox\", {\n\t\t__init : function () {\n\t\t\tthis.data.checkbox.noui = this._get_settings().checkbox.override_ui;\n\t\t\tif(this.data.ui && this.data.checkbox.noui) {\n\t\t\t\tthis.select_node = this.deselect_node = this.deselect_all = $.noop;\n\t\t\t\tthis.get_selected = this.get_checked;\n\t\t\t}\n\n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"open_node.jstree create_node.jstree clean_node.jstree refresh.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tthis._prepare_checkboxes(data.rslt.obj);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"loaded.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\tthis._prepare_checkboxes();\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate( (this.data.ui && this.data.checkbox.noui ? \"a\" : \"ins.jstree-checkbox\") , \"click.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tif(this._get_node(e.target).hasClass(\"jstree-checked\")) { this.uncheck_node(e.target); }\n\t\t\t\t\t\telse { this.check_node(e.target); }\n\t\t\t\t\t\tif(this.data.ui && this.data.checkbox.noui) {\n\t\t\t\t\t\t\tthis.save_selected();\n\t\t\t\t\t\t\tif(this.data.cookies) { this.save_cookie(\"select_node\"); }\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this));\n\t\t},\n\t\tdefaults : {\n\t\t\toverride_ui : false,\n\t\t\ttwo_state : false,\n\t\t\treal_checkboxes : false,\n\t\t\tchecked_parent_open : true,\n\t\t\treal_checkboxes_names : function (n) { return [ (\"check_\" + (n[0].id || Math.ceil(Math.random() * 10000))) , 1]; }\n\t\t},\n\t\t__destroy : function () {\n\t\t\tthis.get_container()\n\t\t\t\t.find(\"input.jstree-real-checkbox\").removeClass(\"jstree-real-checkbox\").end()\n\t\t\t\t.find(\"ins.jstree-checkbox\").remove();\n\t\t},\n\t\t_fn : {\n\t\t\t_checkbox_notify : function (n, data) {\n\t\t\t\tif(data.checked) {\n\t\t\t\t\tthis.check_node(n, false);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_prepare_checkboxes : function (obj) {\n\t\t\t\tobj = !obj || obj == -1 ? this.get_container().find(\"> ul > li\") : this._get_node(obj);\n\t\t\t\tif(obj === false) { return; } // added for removing root nodes\n\t\t\t\tvar c, _this = this, t, ts = this._get_settings().checkbox.two_state, rc = this._get_settings().checkbox.real_checkboxes, rcn = this._get_settings().checkbox.real_checkboxes_names;\n\t\t\t\tobj.each(function () {\n\t\t\t\t\tt = $(this);\n\t\t\t\t\tc = t.is(\"li\") && (t.hasClass(\"jstree-checked\") || (rc && t.children(\":checked\").length)) ? \"jstree-checked\" : \"jstree-unchecked\";\n\t\t\t\t\tt.find(\"li\").addBack().each(function () {\n\t\t\t\t\t\tvar $t = $(this), nm;\n\t\t\t\t\t\t$t.children(\"a\" + (_this.data.languages ? \"\" : \":eq(0)\") ).not(\":has(.jstree-checkbox)\").prepend(\"<ins class='jstree-checkbox'>&#160;</ins>\").parent().not(\".jstree-checked, .jstree-unchecked\").addClass( ts ? \"jstree-unchecked\" : c );\n\t\t\t\t\t\tif(rc) {\n\t\t\t\t\t\t\tif(!$t.children(\":checkbox\").length) {\n\t\t\t\t\t\t\t\tnm = rcn.call(_this, $t);\n\t\t\t\t\t\t\t\t$t.prepend(\"<input type='checkbox' class='jstree-real-checkbox' id='\" + nm[0] + \"' name='\" + nm[0] + \"' value='\" + nm[1] + \"' />\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t$t.children(\":checkbox\").addClass(\"jstree-real-checkbox\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!ts) {\n\t\t\t\t\t\t\tif(c === \"jstree-checked\" || $t.hasClass(\"jstree-checked\") || $t.children(':checked').length) {\n\t\t\t\t\t\t\t\t$t.find(\"li\").addBack().addClass(\"jstree-checked\").children(\":checkbox\").prop(\"checked\", true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif($t.hasClass(\"jstree-checked\") || $t.children(':checked').length) {\n\t\t\t\t\t\t\t\t$t.addClass(\"jstree-checked\").children(\":checkbox\").prop(\"checked\", true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tif(!ts) {\n\t\t\t\t\tobj.find(\".jstree-checked\").parent().parent().each(function () { _this._repair_state(this); }); \n\t\t\t\t}\n\t\t\t},\n\t\t\tchange_state : function (obj, state) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tvar coll = false, rc = this._get_settings().checkbox.real_checkboxes;\n\t\t\t\tif(!obj || obj === -1) { return false; }\n\t\t\t\tstate = (state === false || state === true) ? state : obj.hasClass(\"jstree-checked\");\n\t\t\t\tif(this._get_settings().checkbox.two_state) {\n\t\t\t\t\tif(state) { \n\t\t\t\t\t\tobj.removeClass(\"jstree-checked\").addClass(\"jstree-unchecked\"); \n\t\t\t\t\t\tif(rc) { obj.children(\":checkbox\").prop(\"checked\", false); }\n\t\t\t\t\t}\n\t\t\t\t\telse { \n\t\t\t\t\t\tobj.removeClass(\"jstree-unchecked\").addClass(\"jstree-checked\"); \n\t\t\t\t\t\tif(rc) { obj.children(\":checkbox\").prop(\"checked\", true); }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif(state) { \n\t\t\t\t\t\tcoll = obj.find(\"li\").addBack();\n\t\t\t\t\t\tif(!coll.filter(\".jstree-checked, .jstree-undetermined\").length) { return false; }\n\t\t\t\t\t\tcoll.removeClass(\"jstree-checked jstree-undetermined\").addClass(\"jstree-unchecked\"); \n\t\t\t\t\t\tif(rc) { coll.children(\":checkbox\").prop(\"checked\", false); }\n\t\t\t\t\t}\n\t\t\t\t\telse { \n\t\t\t\t\t\tcoll = obj.find(\"li\").addBack();\n\t\t\t\t\t\tif(!coll.filter(\".jstree-unchecked, .jstree-undetermined\").length) { return false; }\n\t\t\t\t\t\tcoll.removeClass(\"jstree-unchecked jstree-undetermined\").addClass(\"jstree-checked\"); \n\t\t\t\t\t\tif(rc) { coll.children(\":checkbox\").prop(\"checked\", true); }\n\t\t\t\t\t\tif(this.data.ui) { this.data.ui.last_selected = obj; }\n\t\t\t\t\t\tthis.data.checkbox.last_selected = obj;\n\t\t\t\t\t}\n\t\t\t\t\tobj.parentsUntil(\".jstree\", \"li\").each(function () {\n\t\t\t\t\t\tvar $this = $(this);\n\t\t\t\t\t\tif(state) {\n\t\t\t\t\t\t\tif($this.children(\"ul\").children(\"li.jstree-checked, li.jstree-undetermined\").length) {\n\t\t\t\t\t\t\t\t$this.parentsUntil(\".jstree\", \"li\").addBack().removeClass(\"jstree-checked jstree-unchecked\").addClass(\"jstree-undetermined\");\n\t\t\t\t\t\t\t\tif(rc) { $this.parentsUntil(\".jstree\", \"li\").addBack().children(\":checkbox\").prop(\"checked\", false); }\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t$this.removeClass(\"jstree-checked jstree-undetermined\").addClass(\"jstree-unchecked\");\n\t\t\t\t\t\t\t\tif(rc) { $this.children(\":checkbox\").prop(\"checked\", false); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif($this.children(\"ul\").children(\"li.jstree-unchecked, li.jstree-undetermined\").length) {\n\t\t\t\t\t\t\t\t$this.parentsUntil(\".jstree\", \"li\").addBack().removeClass(\"jstree-checked jstree-unchecked\").addClass(\"jstree-undetermined\");\n\t\t\t\t\t\t\t\tif(rc) { $this.parentsUntil(\".jstree\", \"li\").addBack().children(\":checkbox\").prop(\"checked\", false); }\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t$this.removeClass(\"jstree-unchecked jstree-undetermined\").addClass(\"jstree-checked\");\n\t\t\t\t\t\t\t\tif(rc) { $this.children(\":checkbox\").prop(\"checked\", true); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif(this.data.ui && this.data.checkbox.noui) { this.data.ui.selected = this.get_checked(); }\n\t\t\t\tthis.__callback(obj);\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tcheck_node : function (obj) {\n\t\t\t\tif(this.change_state(obj, false)) { \n\t\t\t\t\tobj = this._get_node(obj);\n\t\t\t\t\tif(this._get_settings().checkbox.checked_parent_open) {\n\t\t\t\t\t\tvar t = this;\n\t\t\t\t\t\tobj.parents(\".jstree-closed\").each(function () { t.open_node(this, false, true); });\n\t\t\t\t\t}\n\t\t\t\t\tthis.__callback({ \"obj\" : obj }); \n\t\t\t\t}\n\t\t\t},\n\t\t\tuncheck_node : function (obj) {\n\t\t\t\tif(this.change_state(obj, true)) { this.__callback({ \"obj\" : this._get_node(obj) }); }\n\t\t\t},\n\t\t\tcheck_all : function () {\n\t\t\t\tvar _this = this, \n\t\t\t\t\tcoll = this._get_settings().checkbox.two_state ? this.get_container_ul().find(\"li\") : this.get_container_ul().children(\"li\");\n\t\t\t\tcoll.each(function () {\n\t\t\t\t\t_this.change_state(this, false);\n\t\t\t\t});\n\t\t\t\tthis.__callback();\n\t\t\t},\n\t\t\tuncheck_all : function () {\n\t\t\t\tvar _this = this,\n\t\t\t\t\tcoll = this._get_settings().checkbox.two_state ? this.get_container_ul().find(\"li\") : this.get_container_ul().children(\"li\");\n\t\t\t\tcoll.each(function () {\n\t\t\t\t\t_this.change_state(this, true);\n\t\t\t\t});\n\t\t\t\tthis.__callback();\n\t\t\t},\n\n\t\t\tis_checked : function(obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\treturn obj.length ? obj.is(\".jstree-checked\") : false;\n\t\t\t},\n\t\t\tget_checked : function (obj, get_all) {\n\t\t\t\tobj = !obj || obj === -1 ? this.get_container() : this._get_node(obj);\n\t\t\t\treturn get_all || this._get_settings().checkbox.two_state ? obj.find(\".jstree-checked\") : obj.find(\"> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked\");\n\t\t\t},\n\t\t\tget_unchecked : function (obj, get_all) { \n\t\t\t\tobj = !obj || obj === -1 ? this.get_container() : this._get_node(obj);\n\t\t\t\treturn get_all || this._get_settings().checkbox.two_state ? obj.find(\".jstree-unchecked\") : obj.find(\"> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked\");\n\t\t\t},\n\n\t\t\tshow_checkboxes : function () { this.get_container().children(\"ul\").removeClass(\"jstree-no-checkboxes\"); },\n\t\t\thide_checkboxes : function () { this.get_container().children(\"ul\").addClass(\"jstree-no-checkboxes\"); },\n\n\t\t\t_repair_state : function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj.length) { return; }\n\t\t\t\tif(this._get_settings().checkbox.two_state) {\n\t\t\t\t\tobj.find('li').addBack().not('.jstree-checked').removeClass('jstree-undetermined').addClass('jstree-unchecked').children(':checkbox').prop('checked', true);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar rc = this._get_settings().checkbox.real_checkboxes,\n\t\t\t\t\ta = obj.find(\"> ul > .jstree-checked\").length,\n\t\t\t\t\tb = obj.find(\"> ul > .jstree-undetermined\").length,\n\t\t\t\t\tc = obj.find(\"> ul > li\").length;\n\t\t\t\tif(c === 0) { if(obj.hasClass(\"jstree-undetermined\")) { this.change_state(obj, false); } }\n\t\t\t\telse if(a === 0 && b === 0) { this.change_state(obj, true); }\n\t\t\t\telse if(a === c) { this.change_state(obj, false); }\n\t\t\t\telse { \n\t\t\t\t\tobj.parentsUntil(\".jstree\",\"li\").addBack().removeClass(\"jstree-checked jstree-unchecked\").addClass(\"jstree-undetermined\");\n\t\t\t\t\tif(rc) { obj.parentsUntil(\".jstree\", \"li\").addBack().children(\":checkbox\").prop(\"checked\", false); }\n\t\t\t\t}\n\t\t\t},\n\t\t\treselect : function () {\n\t\t\t\tif(this.data.ui && this.data.checkbox.noui) { \n\t\t\t\t\tvar _this = this,\n\t\t\t\t\t\ts = this.data.ui.to_select;\n\t\t\t\t\ts = $.map($.makeArray(s), function (n) { return \"#\" + n.toString().replace(/^#/,\"\").replace(/\\\\\\//g,\"/\").replace(/\\//g,\"\\\\\\/\").replace(/\\\\\\./g,\".\").replace(/\\./g,\"\\\\.\").replace(/\\:/g,\"\\\\:\"); });\n\t\t\t\t\tthis.deselect_all();\n\t\t\t\t\t$.each(s, function (i, val) { _this.check_node(val); });\n\t\t\t\t\tthis.__callback();\n\t\t\t\t}\n\t\t\t\telse { \n\t\t\t\t\tthis.__call_old(); \n\t\t\t\t}\n\t\t\t},\n\t\t\tsave_loaded : function () {\n\t\t\t\tvar _this = this;\n\t\t\t\tthis.data.core.to_load = [];\n\t\t\t\tthis.get_container_ul().find(\"li.jstree-closed.jstree-undetermined\").each(function () {\n\t\t\t\t\tif(this.id) { _this.data.core.to_load.push(\"#\" + this.id); }\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\t$(function() {\n\t\tvar css_string = '.jstree .jstree-real-checkbox { display:none; } ';\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"jstree\" });\n\t});\n})(jQuery);\n//*/\n\n/* \n * jsTree XML plugin\n * The XML data store. Datastores are build by overriding the `load_node` and `_is_loaded` functions.\n */\n(function ($) {\n\t$.vakata.xslt = function (xml, xsl, callback) {\n\t\tvar r = false, p, q, s;\n\t\t// IE9\n\t\tif(r === false && window.ActiveXObject) {\n\t\t\ttry {\n\t\t\t\tr = new ActiveXObject(\"Msxml2.XSLTemplate\");\n\t\t\t\tq = new ActiveXObject(\"Msxml2.DOMDocument\");\n\t\t\t\tq.loadXML(xml);\n\t\t\t\ts = new ActiveXObject(\"Msxml2.FreeThreadedDOMDocument\");\n\t\t\t\ts.loadXML(xsl);\n\t\t\t\tr.stylesheet = s;\n\t\t\t\tp = r.createProcessor();\n\t\t\t\tp.input = q;\n\t\t\t\tp.transform();\n\t\t\t\tr = p.output;\n\t\t\t}\n\t\t\tcatch (e) { }\n\t\t}\n\t\txml = $.parseXML(xml);\n\t\txsl = $.parseXML(xsl);\n\t\t// FF, Chrome\n\t\tif(r === false && typeof (XSLTProcessor) !== \"undefined\") {\n\t\t\tp = new XSLTProcessor();\n\t\t\tp.importStylesheet(xsl);\n\t\t\tr = p.transformToFragment(xml, document);\n\t\t\tr = $('<div />').append(r).html();\n\t\t}\n\t\t// OLD IE\n\t\tif(r === false && typeof (xml.transformNode) !== \"undefined\") {\n\t\t\tr = xml.transformNode(xsl);\n\t\t}\n\t\tcallback.call(null, r);\n\t};\n\tvar xsl = {\n\t\t'nest' : '<' + '?xml version=\"1.0\" encoding=\"utf-8\" ?>' + \n\t\t\t'<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" >' + \n\t\t\t'<xsl:output method=\"html\" encoding=\"utf-8\" omit-xml-declaration=\"yes\" standalone=\"no\" indent=\"no\" media-type=\"text/html\" />' + \n\t\t\t'<xsl:template match=\"/\">' + \n\t\t\t'\t<xsl:call-template name=\"nodes\">' + \n\t\t\t'\t\t<xsl:with-param name=\"node\" select=\"/root\" />' + \n\t\t\t'\t</xsl:call-template>' + \n\t\t\t'</xsl:template>' + \n\t\t\t'<xsl:template name=\"nodes\">' + \n\t\t\t'\t<xsl:param name=\"node\" />' + \n\t\t\t'\t<ul>' + \n\t\t\t'\t<xsl:for-each select=\"$node/item\">' + \n\t\t\t'\t\t<xsl:variable name=\"children\" select=\"count(./item) &gt; 0\" />' + \n\t\t\t'\t\t<li>' + \n\t\t\t'\t\t\t<xsl:attribute name=\"class\">' + \n\t\t\t'\t\t\t\t<xsl:if test=\"position() = last()\">jstree-last </xsl:if>' + \n\t\t\t'\t\t\t\t<xsl:choose>' + \n\t\t\t'\t\t\t\t\t<xsl:when test=\"@state = \\'open\\'\">jstree-open </xsl:when>' + \n\t\t\t'\t\t\t\t\t<xsl:when test=\"$children or @hasChildren or @state = \\'closed\\'\">jstree-closed </xsl:when>' + \n\t\t\t'\t\t\t\t\t<xsl:otherwise>jstree-leaf </xsl:otherwise>' + \n\t\t\t'\t\t\t\t</xsl:choose>' + \n\t\t\t'\t\t\t\t<xsl:value-of select=\"@class\" />' + \n\t\t\t'\t\t\t</xsl:attribute>' + \n\t\t\t'\t\t\t<xsl:for-each select=\"@*\">' + \n\t\t\t'\t\t\t\t<xsl:if test=\"name() != \\'class\\' and name() != \\'state\\' and name() != \\'hasChildren\\'\">' + \n\t\t\t'\t\t\t\t\t<xsl:attribute name=\"{name()}\"><xsl:value-of select=\".\" /></xsl:attribute>' + \n\t\t\t'\t\t\t\t</xsl:if>' + \n\t\t\t'\t\t\t</xsl:for-each>' + \n\t\t\t'\t<ins class=\"jstree-icon\"><xsl:text>&#xa0;</xsl:text></ins>' + \n\t\t\t'\t\t\t<xsl:for-each select=\"content/name\">' + \n\t\t\t'\t\t\t\t<a>' + \n\t\t\t'\t\t\t\t<xsl:attribute name=\"href\">' + \n\t\t\t'\t\t\t\t\t<xsl:choose>' + \n\t\t\t'\t\t\t\t\t<xsl:when test=\"@href\"><xsl:value-of select=\"@href\" /></xsl:when>' + \n\t\t\t'\t\t\t\t\t<xsl:otherwise>#</xsl:otherwise>' + \n\t\t\t'\t\t\t\t\t</xsl:choose>' + \n\t\t\t'\t\t\t\t</xsl:attribute>' + \n\t\t\t'\t\t\t\t<xsl:attribute name=\"class\"><xsl:value-of select=\"@lang\" /> <xsl:value-of select=\"@class\" /></xsl:attribute>' + \n\t\t\t'\t\t\t\t<xsl:attribute name=\"style\"><xsl:value-of select=\"@style\" /></xsl:attribute>' + \n\t\t\t'\t\t\t\t<xsl:for-each select=\"@*\">' + \n\t\t\t'\t\t\t\t\t<xsl:if test=\"name() != \\'style\\' and name() != \\'class\\' and name() != \\'href\\'\">' + \n\t\t\t'\t\t\t\t\t\t<xsl:attribute name=\"{name()}\"><xsl:value-of select=\".\" /></xsl:attribute>' + \n\t\t\t'\t\t\t\t\t</xsl:if>' + \n\t\t\t'\t\t\t\t</xsl:for-each>' + \n\t\t\t'\t\t\t\t\t<ins>' + \n\t\t\t'\t\t\t\t\t\t<xsl:attribute name=\"class\">jstree-icon ' + \n\t\t\t'\t\t\t\t\t\t\t<xsl:if test=\"string-length(attribute::icon) > 0 and not(contains(@icon,\\'/\\'))\"><xsl:value-of select=\"@icon\" /></xsl:if>' + \n\t\t\t'\t\t\t\t\t\t</xsl:attribute>' + \n\t\t\t'\t\t\t\t\t\t<xsl:if test=\"string-length(attribute::icon) > 0 and contains(@icon,\\'/\\')\"><xsl:attribute name=\"style\">background:url(<xsl:value-of select=\"@icon\" />) center center no-repeat;</xsl:attribute></xsl:if>' + \n\t\t\t'\t\t\t\t\t\t<xsl:text>&#xa0;</xsl:text>' + \n\t\t\t'\t\t\t\t\t</ins>' + \n\t\t\t'\t\t\t\t\t<xsl:copy-of select=\"./child::node()\" />' + \n\t\t\t'\t\t\t\t</a>' + \n\t\t\t'\t\t\t</xsl:for-each>' + \n\t\t\t'\t\t\t<xsl:if test=\"$children or @hasChildren\"><xsl:call-template name=\"nodes\"><xsl:with-param name=\"node\" select=\"current()\" /></xsl:call-template></xsl:if>' + \n\t\t\t'\t\t</li>' + \n\t\t\t'\t</xsl:for-each>' + \n\t\t\t'\t</ul>' + \n\t\t\t'</xsl:template>' + \n\t\t\t'</xsl:stylesheet>',\n\n\t\t'flat' : '<' + '?xml version=\"1.0\" encoding=\"utf-8\" ?>' + \n\t\t\t'<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" >' + \n\t\t\t'<xsl:output method=\"html\" encoding=\"utf-8\" omit-xml-declaration=\"yes\" standalone=\"no\" indent=\"no\" media-type=\"text/xml\" />' + \n\t\t\t'<xsl:template match=\"/\">' + \n\t\t\t'\t<ul>' + \n\t\t\t'\t<xsl:for-each select=\"//item[not(@parent_id) or @parent_id=0 or not(@parent_id = //item/@id)]\">' + /* the last `or` may be removed */\n\t\t\t'\t\t<xsl:call-template name=\"nodes\">' + \n\t\t\t'\t\t\t<xsl:with-param name=\"node\" select=\".\" />' + \n\t\t\t'\t\t\t<xsl:with-param name=\"is_last\" select=\"number(position() = last())\" />' + \n\t\t\t'\t\t</xsl:call-template>' + \n\t\t\t'\t</xsl:for-each>' + \n\t\t\t'\t</ul>' + \n\t\t\t'</xsl:template>' + \n\t\t\t'<xsl:template name=\"nodes\">' + \n\t\t\t'\t<xsl:param name=\"node\" />' + \n\t\t\t'\t<xsl:param name=\"is_last\" />' + \n\t\t\t'\t<xsl:variable name=\"children\" select=\"count(//item[@parent_id=$node/attribute::id]) &gt; 0\" />' + \n\t\t\t'\t<li>' + \n\t\t\t'\t<xsl:attribute name=\"class\">' + \n\t\t\t'\t\t<xsl:if test=\"$is_last = true()\">jstree-last </xsl:if>' + \n\t\t\t'\t\t<xsl:choose>' + \n\t\t\t'\t\t\t<xsl:when test=\"@state = \\'open\\'\">jstree-open </xsl:when>' + \n\t\t\t'\t\t\t<xsl:when test=\"$children or @hasChildren or @state = \\'closed\\'\">jstree-closed </xsl:when>' + \n\t\t\t'\t\t\t<xsl:otherwise>jstree-leaf </xsl:otherwise>' + \n\t\t\t'\t\t</xsl:choose>' + \n\t\t\t'\t\t<xsl:value-of select=\"@class\" />' + \n\t\t\t'\t</xsl:attribute>' + \n\t\t\t'\t<xsl:for-each select=\"@*\">' + \n\t\t\t'\t\t<xsl:if test=\"name() != \\'parent_id\\' and name() != \\'hasChildren\\' and name() != \\'class\\' and name() != \\'state\\'\">' + \n\t\t\t'\t\t<xsl:attribute name=\"{name()}\"><xsl:value-of select=\".\" /></xsl:attribute>' + \n\t\t\t'\t\t</xsl:if>' + \n\t\t\t'\t</xsl:for-each>' + \n\t\t\t'\t<ins class=\"jstree-icon\"><xsl:text>&#xa0;</xsl:text></ins>' + \n\t\t\t'\t<xsl:for-each select=\"content/name\">' + \n\t\t\t'\t\t<a>' + \n\t\t\t'\t\t<xsl:attribute name=\"href\">' + \n\t\t\t'\t\t\t<xsl:choose>' + \n\t\t\t'\t\t\t<xsl:when test=\"@href\"><xsl:value-of select=\"@href\" /></xsl:when>' + \n\t\t\t'\t\t\t<xsl:otherwise>#</xsl:otherwise>' + \n\t\t\t'\t\t\t</xsl:choose>' + \n\t\t\t'\t\t</xsl:attribute>' + \n\t\t\t'\t\t<xsl:attribute name=\"class\"><xsl:value-of select=\"@lang\" /> <xsl:value-of select=\"@class\" /></xsl:attribute>' + \n\t\t\t'\t\t<xsl:attribute name=\"style\"><xsl:value-of select=\"@style\" /></xsl:attribute>' + \n\t\t\t'\t\t<xsl:for-each select=\"@*\">' + \n\t\t\t'\t\t\t<xsl:if test=\"name() != \\'style\\' and name() != \\'class\\' and name() != \\'href\\'\">' + \n\t\t\t'\t\t\t\t<xsl:attribute name=\"{name()}\"><xsl:value-of select=\".\" /></xsl:attribute>' + \n\t\t\t'\t\t\t</xsl:if>' + \n\t\t\t'\t\t</xsl:for-each>' + \n\t\t\t'\t\t\t<ins>' + \n\t\t\t'\t\t\t\t<xsl:attribute name=\"class\">jstree-icon ' + \n\t\t\t'\t\t\t\t\t<xsl:if test=\"string-length(attribute::icon) > 0 and not(contains(@icon,\\'/\\'))\"><xsl:value-of select=\"@icon\" /></xsl:if>' + \n\t\t\t'\t\t\t\t</xsl:attribute>' + \n\t\t\t'\t\t\t\t<xsl:if test=\"string-length(attribute::icon) > 0 and contains(@icon,\\'/\\')\"><xsl:attribute name=\"style\">background:url(<xsl:value-of select=\"@icon\" />) center center no-repeat;</xsl:attribute></xsl:if>' + \n\t\t\t'\t\t\t\t<xsl:text>&#xa0;</xsl:text>' + \n\t\t\t'\t\t\t</ins>' + \n\t\t\t'\t\t\t<xsl:copy-of select=\"./child::node()\" />' + \n\t\t\t'\t\t</a>' + \n\t\t\t'\t</xsl:for-each>' + \n\t\t\t'\t<xsl:if test=\"$children\">' + \n\t\t\t'\t\t<ul>' + \n\t\t\t'\t\t<xsl:for-each select=\"//item[@parent_id=$node/attribute::id]\">' + \n\t\t\t'\t\t\t<xsl:call-template name=\"nodes\">' + \n\t\t\t'\t\t\t\t<xsl:with-param name=\"node\" select=\".\" />' + \n\t\t\t'\t\t\t\t<xsl:with-param name=\"is_last\" select=\"number(position() = last())\" />' + \n\t\t\t'\t\t\t</xsl:call-template>' + \n\t\t\t'\t\t</xsl:for-each>' + \n\t\t\t'\t\t</ul>' + \n\t\t\t'\t</xsl:if>' + \n\t\t\t'\t</li>' + \n\t\t\t'</xsl:template>' + \n\t\t\t'</xsl:stylesheet>'\n\t},\n\tescape_xml = function(string) {\n\t\treturn string\n\t\t\t.toString()\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;')\n\t\t\t.replace(/>/g, '&gt;')\n\t\t\t.replace(/\"/g, '&quot;')\n\t\t\t.replace(/'/g, '&apos;');\n\t};\n\t$.jstree.plugin(\"xml_data\", {\n\t\tdefaults : { \n\t\t\tdata : false,\n\t\t\tajax : false,\n\t\t\txsl : \"flat\",\n\t\t\tclean_node : false,\n\t\t\tcorrect_state : true,\n\t\t\tget_skip_empty : false,\n\t\t\tget_include_preamble : true\n\t\t},\n\t\t_fn : {\n\t\t\tload_node : function (obj, s_call, e_call) { var _this = this; this.load_node_xml(obj, function () { _this.__callback({ \"obj\" : _this._get_node(obj) }); s_call.call(this); }, e_call); },\n\t\t\t_is_loaded : function (obj) { \n\t\t\t\tvar s = this._get_settings().xml_data;\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\treturn obj == -1 || !obj || (!s.ajax && !$.isFunction(s.data)) || obj.is(\".jstree-open, .jstree-leaf\") || obj.children(\"ul\").children(\"li\").size() > 0;\n\t\t\t},\n\t\t\tload_node_xml : function (obj, s_call, e_call) {\n\t\t\t\tvar s = this.get_settings().xml_data,\n\t\t\t\t\terror_func = function () {},\n\t\t\t\t\tsuccess_func = function () {};\n\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj && obj !== -1) {\n\t\t\t\t\tif(obj.data(\"jstree_is_loading\")) { return; }\n\t\t\t\t\telse { obj.data(\"jstree_is_loading\",true); }\n\t\t\t\t}\n\t\t\t\tswitch(!0) {\n\t\t\t\t\tcase (!s.data && !s.ajax): throw \"Neither data nor ajax settings supplied.\";\n\t\t\t\t\tcase ($.isFunction(s.data)):\n\t\t\t\t\t\ts.data.call(this, obj, $.proxy(function (d) {\n\t\t\t\t\t\t\tthis.parse_xml(d, $.proxy(function (d) {\n\t\t\t\t\t\t\t\tif(d) {\n\t\t\t\t\t\t\t\t\td = d.replace(/ ?xmlns=\"[^\"]*\"/ig, \"\");\n\t\t\t\t\t\t\t\t\tif(d.length > 10) {\n\t\t\t\t\t\t\t\t\t\td = $(d);\n\t\t\t\t\t\t\t\t\t\tif(obj === -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()); }\n\t\t\t\t\t\t\t\t\t\telse { obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.append(d); obj.removeData(\"jstree_is_loading\"); }\n\t\t\t\t\t\t\t\t\t\tif(s.clean_node) { this.clean_node(obj); }\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\tif(obj && obj !== -1) { \n\t\t\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\t\t\tthis.correct_state(obj);\n\t\t\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty();\n\t\t\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, this));\n\t\t\t\t\t\t}, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase (!!s.data && !s.ajax) || (!!s.data && !!s.ajax && (!obj || obj === -1)):\n\t\t\t\t\t\tif(!obj || obj == -1) {\n\t\t\t\t\t\t\tthis.parse_xml(s.data, $.proxy(function (d) {\n\t\t\t\t\t\t\t\tif(d) {\n\t\t\t\t\t\t\t\t\td = d.replace(/ ?xmlns=\"[^\"]*\"/ig, \"\");\n\t\t\t\t\t\t\t\t\tif(d.length > 10) {\n\t\t\t\t\t\t\t\t\t\td = $(d);\n\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty().append(d.children());\n\t\t\t\t\t\t\t\t\t\tif(s.clean_node) { this.clean_node(obj); }\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse { \n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty(); \n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, this));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase (!s.data && !!s.ajax) || (!!s.data && !!s.ajax && obj && obj !== -1):\n\t\t\t\t\t\terror_func = function (x, t, e) {\n\t\t\t\t\t\t\tvar ef = this.get_settings().xml_data.ajax.error; \n\t\t\t\t\t\t\tif(ef) { ef.call(this, x, t, e); }\n\t\t\t\t\t\t\tif(obj !== -1 && obj.length) {\n\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.correct_state(obj); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.get_container().children(\"ul\").empty(); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(e_call) { e_call.call(this); }\n\t\t\t\t\t\t};\n\t\t\t\t\t\tsuccess_func = function (d, t, x) {\n\t\t\t\t\t\t\td = x.responseText;\n\t\t\t\t\t\t\tvar sf = this.get_settings().xml_data.ajax.success; \n\t\t\t\t\t\t\tif(sf) { d = sf.call(this,d,t,x) || d; }\n\t\t\t\t\t\t\tif(d === \"\" || (d && d.toString && d.toString().replace(/^[\\s\\n]+$/,\"\") === \"\")) {\n\t\t\t\t\t\t\t\treturn error_func.call(this, x, t, \"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.parse_xml(d, $.proxy(function (d) {\n\t\t\t\t\t\t\t\tif(d) {\n\t\t\t\t\t\t\t\t\td = d.replace(/ ?xmlns=\"[^\"]*\"/ig, \"\");\n\t\t\t\t\t\t\t\t\tif(d.length > 10) {\n\t\t\t\t\t\t\t\t\t\td = $(d);\n\t\t\t\t\t\t\t\t\t\tif(obj === -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()); }\n\t\t\t\t\t\t\t\t\t\telse { obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.append(d); obj.removeData(\"jstree_is_loading\"); }\n\t\t\t\t\t\t\t\t\t\tif(s.clean_node) { this.clean_node(obj); }\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\tif(obj && obj !== -1) { \n\t\t\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\t\t\tthis.correct_state(obj);\n\t\t\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty();\n\t\t\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, this));\n\t\t\t\t\t\t};\n\t\t\t\t\t\ts.ajax.context = this;\n\t\t\t\t\t\ts.ajax.error = error_func;\n\t\t\t\t\t\ts.ajax.success = success_func;\n\t\t\t\t\t\tif(!s.ajax.dataType) { s.ajax.dataType = \"xml\"; }\n\t\t\t\t\t\tif($.isFunction(s.ajax.url)) { s.ajax.url = s.ajax.url.call(this, obj); }\n\t\t\t\t\t\tif($.isFunction(s.ajax.data)) { s.ajax.data = s.ajax.data.call(this, obj); }\n\t\t\t\t\t\t$.ajax(s.ajax);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tparse_xml : function (xml, callback) {\n\t\t\t\tvar s = this._get_settings().xml_data;\n\t\t\t\t$.vakata.xslt(xml, xsl[s.xsl], callback);\n\t\t\t},\n\t\t\tget_xml : function (tp, obj, li_attr, a_attr, is_callback) {\n\t\t\t\tvar result = \"\", \n\t\t\t\t\ts = this._get_settings(), \n\t\t\t\t\t_this = this,\n\t\t\t\t\ttmp1, tmp2, li, a, lang;\n\t\t\t\tif(!tp) { tp = \"flat\"; }\n\t\t\t\tif(!is_callback) { is_callback = 0; }\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(!obj || obj === -1) { obj = this.get_container().find(\"> ul > li\"); }\n\t\t\t\tli_attr = $.isArray(li_attr) ? li_attr : [ \"id\", \"class\" ];\n\t\t\t\tif(!is_callback && this.data.types && $.inArray(s.types.type_attr, li_attr) === -1) { li_attr.push(s.types.type_attr); }\n\n\t\t\t\ta_attr = $.isArray(a_attr) ? a_attr : [ ];\n\n\t\t\t\tif(!is_callback) { \n\t\t\t\t\tif(s.xml_data.get_include_preamble) { \n\t\t\t\t\t\tresult += '<' + '?xml version=\"1.0\" encoding=\"UTF-8\"?' + '>'; \n\t\t\t\t\t}\n\t\t\t\t\tresult += \"<root>\"; \n\t\t\t\t}\n\t\t\t\tobj.each(function () {\n\t\t\t\t\tresult += \"<item\";\n\t\t\t\t\tli = $(this);\n\t\t\t\t\t$.each(li_attr, function (i, v) { \n\t\t\t\t\t\tvar t = li.attr(v);\n\t\t\t\t\t\tif(!s.xml_data.get_skip_empty || typeof t !== \"undefined\") {\n\t\t\t\t\t\t\tresult += \" \" + v + \"=\\\"\" + escape_xml((\" \" + (t || \"\")).replace(/ jstree[^ ]*/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\")) + \"\\\"\"; \n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif(li.hasClass(\"jstree-open\")) { result += \" state=\\\"open\\\"\"; }\n\t\t\t\t\tif(li.hasClass(\"jstree-closed\")) { result += \" state=\\\"closed\\\"\"; }\n\t\t\t\t\tif(tp === \"flat\") { result += \" parent_id=\\\"\" + escape_xml(is_callback) + \"\\\"\"; }\n\t\t\t\t\tresult += \">\";\n\t\t\t\t\tresult += \"<content>\";\n\t\t\t\t\ta = li.children(\"a\");\n\t\t\t\t\ta.each(function () {\n\t\t\t\t\t\ttmp1 = $(this);\n\t\t\t\t\t\tlang = false;\n\t\t\t\t\t\tresult += \"<name\";\n\t\t\t\t\t\tif($.inArray(\"languages\", s.plugins) !== -1) {\n\t\t\t\t\t\t\t$.each(s.languages, function (k, z) {\n\t\t\t\t\t\t\t\tif(tmp1.hasClass(z)) { result += \" lang=\\\"\" + escape_xml(z) + \"\\\"\"; lang = z; return false; }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(a_attr.length) { \n\t\t\t\t\t\t\t$.each(a_attr, function (k, z) {\n\t\t\t\t\t\t\t\tvar t = tmp1.attr(z);\n\t\t\t\t\t\t\t\tif(!s.xml_data.get_skip_empty || typeof t !== \"undefined\") {\n\t\t\t\t\t\t\t\t\tresult += \" \" + z + \"=\\\"\" + escape_xml((\" \" + t || \"\").replace(/ jstree[^ ]*/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\")) + \"\\\"\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(tmp1.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/^\\s+$/ig,\"\").length) {\n\t\t\t\t\t\t\tresult += ' icon=\"' + escape_xml(tmp1.children(\"ins\").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/\\s+$/ig,\" \").replace(/^ /,\"\").replace(/ $/,\"\")) + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(tmp1.children(\"ins\").get(0).style.backgroundImage.length) {\n\t\t\t\t\t\t\tresult += ' icon=\"' + escape_xml(tmp1.children(\"ins\").get(0).style.backgroundImage.replace(\"url(\",\"\").replace(\")\",\"\").replace(/'/ig,\"\").replace(/\"/ig,\"\")) + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult += \">\";\n\t\t\t\t\t\tresult += \"<![CDATA[\" + _this.get_text(tmp1, lang) + \"]]>\";\n\t\t\t\t\t\tresult += \"</name>\";\n\t\t\t\t\t});\n\t\t\t\t\tresult += \"</content>\";\n\t\t\t\t\ttmp2 = li[0].id || true;\n\t\t\t\t\tli = li.find(\"> ul > li\");\n\t\t\t\t\tif(li.length) { tmp2 = _this.get_xml(tp, li, li_attr, a_attr, tmp2); }\n\t\t\t\t\telse { tmp2 = \"\"; }\n\t\t\t\t\tif(tp == \"nest\") { result += tmp2; }\n\t\t\t\t\tresult += \"</item>\";\n\t\t\t\t\tif(tp == \"flat\") { result += tmp2; }\n\t\t\t\t});\n\t\t\t\tif(!is_callback) { result += \"</root>\"; }\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/*\n * jsTree search plugin\n * Enables both sync and async search on the tree\n * DOES NOT WORK WITH JSON PROGRESSIVE RENDER\n */\n(function ($) {\n\tif($().jquery.split('.')[1] >= 8) {\n\t\t$.expr[':'].jstree_contains = $.expr.createPseudo(function(search) {\n\t\t\treturn function(a) {\n\t\t\t\treturn (a.textContent || a.innerText || \"\").toLowerCase().indexOf(search.toLowerCase())>=0;\n\t\t\t};\n\t\t});\n\t\t$.expr[':'].jstree_title_contains = $.expr.createPseudo(function(search) {\n\t\t\treturn function(a) {\n\t\t\t\treturn (a.getAttribute(\"title\") || \"\").toLowerCase().indexOf(search.toLowerCase())>=0;\n\t\t\t};\n\t\t});\n\t}\n\telse {\n\t\t$.expr[':'].jstree_contains = function(a,i,m){\n\t\t\treturn (a.textContent || a.innerText || \"\").toLowerCase().indexOf(m[3].toLowerCase())>=0;\n\t\t};\n\t\t$.expr[':'].jstree_title_contains = function(a,i,m) {\n\t\t\treturn (a.getAttribute(\"title\") || \"\").toLowerCase().indexOf(m[3].toLowerCase())>=0;\n\t\t};\n\t}\n\t$.jstree.plugin(\"search\", {\n\t\t__init : function () {\n\t\t\tthis.data.search.str = \"\";\n\t\t\tthis.data.search.result = $();\n\t\t\tif(this._get_settings().search.show_only_matches) {\n\t\t\t\tthis.get_container()\n\t\t\t\t\t.bind(\"search.jstree\", function (e, data) {\n\t\t\t\t\t\t$(this).children(\"ul\").find(\"li\").hide().removeClass(\"jstree-last\");\n\t\t\t\t\t\tdata.rslt.nodes.parentsUntil(\".jstree\").addBack().show()\n\t\t\t\t\t\t\t.filter(\"ul\").each(function () { $(this).children(\"li:visible\").eq(-1).addClass(\"jstree-last\"); });\n\t\t\t\t\t})\n\t\t\t\t\t.bind(\"clear_search.jstree\", function () {\n\t\t\t\t\t\t$(this).children(\"ul\").find(\"li\").css(\"display\",\"\").end().end().jstree(\"clean_node\", -1);\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tdefaults : {\n\t\t\tajax : false,\n\t\t\tsearch_method : \"jstree_contains\", // for case insensitive - jstree_contains\n\t\t\tshow_only_matches : false\n\t\t},\n\t\t_fn : {\n\t\t\tsearch : function (str, skip_async) {\n\t\t\t\tif($.trim(str) === \"\") { this.clear_search(); return; }\n\t\t\t\tvar s = this.get_settings().search, \n\t\t\t\t\tt = this,\n\t\t\t\t\terror_func = function () { },\n\t\t\t\t\tsuccess_func = function () { };\n\t\t\t\tthis.data.search.str = str;\n\n\t\t\t\tif(!skip_async && s.ajax !== false && this.get_container_ul().find(\"li.jstree-closed:not(:has(ul)):eq(0)\").length > 0) {\n\t\t\t\t\tthis.search.supress_callback = true;\n\t\t\t\t\terror_func = function () { };\n\t\t\t\t\tsuccess_func = function (d, t, x) {\n\t\t\t\t\t\tvar sf = this.get_settings().search.ajax.success; \n\t\t\t\t\t\tif(sf) { d = sf.call(this,d,t,x) || d; }\n\t\t\t\t\t\tthis.data.search.to_open = d;\n\t\t\t\t\t\tthis._search_open();\n\t\t\t\t\t};\n\t\t\t\t\ts.ajax.context = this;\n\t\t\t\t\ts.ajax.error = error_func;\n\t\t\t\t\ts.ajax.success = success_func;\n\t\t\t\t\tif($.isFunction(s.ajax.url)) { s.ajax.url = s.ajax.url.call(this, str); }\n\t\t\t\t\tif($.isFunction(s.ajax.data)) { s.ajax.data = s.ajax.data.call(this, str); }\n\t\t\t\t\tif(!s.ajax.data) { s.ajax.data = { \"search_string\" : str }; }\n\t\t\t\t\tif(!s.ajax.dataType || /^json/.exec(s.ajax.dataType)) { s.ajax.dataType = \"json\"; }\n\t\t\t\t\t$.ajax(s.ajax);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(this.data.search.result.length) { this.clear_search(); }\n\t\t\t\tthis.data.search.result = this.get_container().find(\"a\" + (this.data.languages ? \".\" + this.get_lang() : \"\" ) + \":\" + (s.search_method) + \"(\" + this.data.search.str + \")\");\n\t\t\t\tthis.data.search.result.addClass(\"jstree-search\").parent().parents(\".jstree-closed\").each(function () {\n\t\t\t\t\tt.open_node(this, false, true);\n\t\t\t\t});\n\t\t\t\tthis.__callback({ nodes : this.data.search.result, str : str });\n\t\t\t},\n\t\t\tclear_search : function (str) {\n\t\t\t\tthis.data.search.result.removeClass(\"jstree-search\");\n\t\t\t\tthis.__callback(this.data.search.result);\n\t\t\t\tthis.data.search.result = $();\n\t\t\t},\n\t\t\t_search_open : function (is_callback) {\n\t\t\t\tvar _this = this,\n\t\t\t\t\tdone = true,\n\t\t\t\t\tcurrent = [],\n\t\t\t\t\tremaining = [];\n\t\t\t\tif(this.data.search.to_open.length) {\n\t\t\t\t\t$.each(this.data.search.to_open, function (i, val) {\n\t\t\t\t\t\tif(val == \"#\") { return true; }\n\t\t\t\t\t\tif($(val).length && $(val).is(\".jstree-closed\")) { current.push(val); }\n\t\t\t\t\t\telse { remaining.push(val); }\n\t\t\t\t\t});\n\t\t\t\t\tif(current.length) {\n\t\t\t\t\t\tthis.data.search.to_open = remaining;\n\t\t\t\t\t\t$.each(current, function (i, val) { \n\t\t\t\t\t\t\t_this.open_node(val, function () { _this._search_open(true); }); \n\t\t\t\t\t\t});\n\t\t\t\t\t\tdone = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(done) { this.search(this.data.search.str, true); }\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/* \n * jsTree contextmenu plugin\n */\n(function ($) {\n\t$.vakata.context = {\n\t\thide_on_mouseleave : false,\n\n\t\tcnt\t\t: $(\"<div id='vakata-contextmenu' />\"),\n\t\tvis\t\t: false,\n\t\ttgt\t\t: false,\n\t\tpar\t\t: false,\n\t\tfunc\t: false,\n\t\tdata\t: false,\n\t\trtl\t\t: false,\n\t\tshow\t: function (s, t, x, y, d, p, rtl) {\n\t\t\t$.vakata.context.rtl = !!rtl;\n\t\t\tvar html = $.vakata.context.parse(s), h, w;\n\t\t\tif(!html) { return; }\n\t\t\t$.vakata.context.vis = true;\n\t\t\t$.vakata.context.tgt = t;\n\t\t\t$.vakata.context.par = p || t || null;\n\t\t\t$.vakata.context.data = d || null;\n\t\t\t$.vakata.context.cnt\n\t\t\t\t.html(html)\n\t\t\t\t.css({ \"visibility\" : \"hidden\", \"display\" : \"block\", \"left\" : 0, \"top\" : 0 });\n\n\t\t\tif($.vakata.context.hide_on_mouseleave) {\n\t\t\t\t$.vakata.context.cnt\n\t\t\t\t\t.one(\"mouseleave\", function(e) { $.vakata.context.hide(); });\n\t\t\t}\n\n\t\t\th = $.vakata.context.cnt.height();\n\t\t\tw = $.vakata.context.cnt.width();\n\t\t\tif(x + w > $(document).width()) { \n\t\t\t\tx = $(document).width() - (w + 5); \n\t\t\t\t$.vakata.context.cnt.find(\"li > ul\").addClass(\"right\"); \n\t\t\t}\n\t\t\tif(y + h > $(document).height()) { \n\t\t\t\ty = y - (h + t[0].offsetHeight); \n\t\t\t\t$.vakata.context.cnt.find(\"li > ul\").addClass(\"bottom\"); \n\t\t\t}\n\n\t\t\t$.vakata.context.cnt\n\t\t\t\t.css({ \"left\" : x, \"top\" : y })\n\t\t\t\t.find(\"li:has(ul)\")\n\t\t\t\t\t.bind(\"mouseenter\", function (e) { \n\t\t\t\t\t\tvar w = $(document).width(),\n\t\t\t\t\t\t\th = $(document).height(),\n\t\t\t\t\t\t\tul = $(this).children(\"ul\").show(); \n\t\t\t\t\t\tif(w !== $(document).width()) { ul.toggleClass(\"right\"); }\n\t\t\t\t\t\tif(h !== $(document).height()) { ul.toggleClass(\"bottom\"); }\n\t\t\t\t\t})\n\t\t\t\t\t.bind(\"mouseleave\", function (e) { \n\t\t\t\t\t\t$(this).children(\"ul\").hide(); \n\t\t\t\t\t})\n\t\t\t\t\t.end()\n\t\t\t\t.css({ \"visibility\" : \"visible\" })\n\t\t\t\t.show();\n\t\t\t$(document).triggerHandler(\"context_show.vakata\");\n\t\t},\n\t\thide\t: function () {\n\t\t\t$.vakata.context.vis = false;\n\t\t\t$.vakata.context.cnt.attr(\"class\",\"\").css({ \"visibility\" : \"hidden\" });\n\t\t\t$(document).triggerHandler(\"context_hide.vakata\");\n\t\t},\n\t\tparse\t: function (s, is_callback) {\n\t\t\tif(!s) { return false; }\n\t\t\tvar str = \"\",\n\t\t\t\ttmp = false,\n\t\t\t\twas_sep = true;\n\t\t\tif(!is_callback) { $.vakata.context.func = {}; }\n\t\t\tstr += \"<ul>\";\n\t\t\t$.each(s, function (i, val) {\n\t\t\t\tif(!val) { return true; }\n\t\t\t\t$.vakata.context.func[i] = val.action;\n\t\t\t\tif(!was_sep && val.separator_before) {\n\t\t\t\t\tstr += \"<li class='vakata-separator vakata-separator-before'></li>\";\n\t\t\t\t}\n\t\t\t\twas_sep = false;\n\t\t\t\tstr += \"<li class='\" + (val._class || \"\") + (val._disabled ? \" jstree-contextmenu-disabled \" : \"\") + \"'><ins \";\n\t\t\t\tif(val.icon && val.icon.indexOf(\"/\") === -1) { str += \" class='\" + val.icon + \"' \"; }\n\t\t\t\tif(val.icon && val.icon.indexOf(\"/\") !== -1) { str += \" style='background:url(\" + val.icon + \") center center no-repeat;' \"; }\n\t\t\t\tstr += \">&#160;</ins><a href='#' rel='\" + i + \"'>\";\n\t\t\t\tif(val.submenu) {\n\t\t\t\t\tstr += \"<span style='float:\" + ($.vakata.context.rtl ? \"left\" : \"right\") + \";'>&raquo;</span>\";\n\t\t\t\t}\n\t\t\t\tstr += val.label + \"</a>\";\n\t\t\t\tif(val.submenu) {\n\t\t\t\t\ttmp = $.vakata.context.parse(val.submenu, true);\n\t\t\t\t\tif(tmp) { str += tmp; }\n\t\t\t\t}\n\t\t\t\tstr += \"</li>\";\n\t\t\t\tif(val.separator_after) {\n\t\t\t\t\tstr += \"<li class='vakata-separator vakata-separator-after'></li>\";\n\t\t\t\t\twas_sep = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tstr = str.replace(/<li class\\='vakata-separator vakata-separator-after'\\><\\/li\\>$/,\"\");\n\t\t\tstr += \"</ul>\";\n\t\t\t$(document).triggerHandler(\"context_parse.vakata\");\n\t\t\treturn str.length > 10 ? str : false;\n\t\t},\n\t\texec\t: function (i) {\n\t\t\tif($.isFunction($.vakata.context.func[i])) {\n\t\t\t\t// if is string - eval and call it!\n\t\t\t\t$.vakata.context.func[i].call($.vakata.context.data, $.vakata.context.par);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse { return false; }\n\t\t}\n\t};\n\t$(function () {\n\t\tvar css_string = '' + \n\t\t\t'#vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } ' + \n\t\t\t'#vakata-contextmenu ul { min-width:180px; *width:180px; } ' + \n\t\t\t'#vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } ' + \n\t\t\t'#vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } ' + \n\t\t\t'#vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } ' + \n\t\t\t'#vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } ' + \n\t\t\t'#vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { background:gray; color:white; } ' + \n\t\t\t'#vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } ' + \n\t\t\t'#vakata-contextmenu .right { right:100%; left:auto; } ' + \n\t\t\t'#vakata-contextmenu .bottom { bottom:-1px; top:auto; } ' + \n\t\t\t'#vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } ';\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"vakata\" });\n\t\t$.vakata.context.cnt\n\t\t\t.delegate(\"a\",\"click\", function (e) { e.preventDefault(); })\n\t\t\t.delegate(\"a\",\"mouseup\", function (e) {\n\t\t\t\tif(!$(this).parent().hasClass(\"jstree-contextmenu-disabled\") && $.vakata.context.exec($(this).attr(\"rel\"))) {\n\t\t\t\t\t$.vakata.context.hide();\n\t\t\t\t}\n\t\t\t\telse { $(this).blur(); }\n\t\t\t})\n\t\t\t.delegate(\"a\",\"mouseover\", function () {\n\t\t\t\t$.vakata.context.cnt.find(\".vakata-hover\").removeClass(\"vakata-hover\");\n\t\t\t})\n\t\t\t.appendTo(\"body\");\n\t\t$(document).bind(\"mousedown\", function (e) { if($.vakata.context.vis && !$.contains($.vakata.context.cnt[0], e.target)) { $.vakata.context.hide(); } });\n\t\tif(typeof $.hotkeys !== \"undefined\") {\n\t\t\t$(document)\n\t\t\t\t.bind(\"keydown\", \"up\", function (e) { \n\t\t\t\t\tif($.vakata.context.vis) { \n\t\t\t\t\t\tvar o = $.vakata.context.cnt.find(\"ul:visible\").last().children(\".vakata-hover\").removeClass(\"vakata-hover\").prevAll(\"li:not(.vakata-separator)\").first();\n\t\t\t\t\t\tif(!o.length) { o = $.vakata.context.cnt.find(\"ul:visible\").last().children(\"li:not(.vakata-separator)\").last(); }\n\t\t\t\t\t\to.addClass(\"vakata-hover\");\n\t\t\t\t\t\te.stopImmediatePropagation(); \n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} \n\t\t\t\t})\n\t\t\t\t.bind(\"keydown\", \"down\", function (e) { \n\t\t\t\t\tif($.vakata.context.vis) { \n\t\t\t\t\t\tvar o = $.vakata.context.cnt.find(\"ul:visible\").last().children(\".vakata-hover\").removeClass(\"vakata-hover\").nextAll(\"li:not(.vakata-separator)\").first();\n\t\t\t\t\t\tif(!o.length) { o = $.vakata.context.cnt.find(\"ul:visible\").last().children(\"li:not(.vakata-separator)\").first(); }\n\t\t\t\t\t\to.addClass(\"vakata-hover\");\n\t\t\t\t\t\te.stopImmediatePropagation(); \n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} \n\t\t\t\t})\n\t\t\t\t.bind(\"keydown\", \"right\", function (e) { \n\t\t\t\t\tif($.vakata.context.vis) { \n\t\t\t\t\t\t$.vakata.context.cnt.find(\".vakata-hover\").children(\"ul\").show().children(\"li:not(.vakata-separator)\").removeClass(\"vakata-hover\").first().addClass(\"vakata-hover\");\n\t\t\t\t\t\te.stopImmediatePropagation(); \n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} \n\t\t\t\t})\n\t\t\t\t.bind(\"keydown\", \"left\", function (e) { \n\t\t\t\t\tif($.vakata.context.vis) { \n\t\t\t\t\t\t$.vakata.context.cnt.find(\".vakata-hover\").children(\"ul\").hide().children(\".vakata-separator\").removeClass(\"vakata-hover\");\n\t\t\t\t\t\te.stopImmediatePropagation(); \n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} \n\t\t\t\t})\n\t\t\t\t.bind(\"keydown\", \"esc\", function (e) { \n\t\t\t\t\t$.vakata.context.hide(); \n\t\t\t\t\te.preventDefault();\n\t\t\t\t})\n\t\t\t\t.bind(\"keydown\", \"space\", function (e) { \n\t\t\t\t\t$.vakata.context.cnt.find(\".vakata-hover\").last().children(\"a\").click();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t}\n\t});\n\n\t$.jstree.plugin(\"contextmenu\", {\n\t\t__init : function () {\n\t\t\tthis.get_container()\n\t\t\t\t.delegate(\"a\", \"contextmenu.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tif(!$(e.currentTarget).hasClass(\"jstree-loading\")) {\n\t\t\t\t\t\t\tthis.show_contextmenu(e.currentTarget, e.pageX, e.pageY);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"a\", \"click.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\tif(this.data.contextmenu) {\n\t\t\t\t\t\t\t$.vakata.context.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"destroy.jstree\", $.proxy(function () {\n\t\t\t\t\t\t// TODO: move this to descruct method\n\t\t\t\t\t\tif(this.data.contextmenu) {\n\t\t\t\t\t\t\t$.vakata.context.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this));\n\t\t\t$(document).bind(\"context_hide.vakata\", $.proxy(function () { this.data.contextmenu = false; }, this));\n\t\t},\n\t\tdefaults : { \n\t\t\tselect_node : false, // requires UI plugin\n\t\t\tshow_at_node : true,\n\t\t\titems : { // Could be a function that should return an object like this one\n\t\t\t\t\"create\" : {\n\t\t\t\t\t\"separator_before\"\t: false,\n\t\t\t\t\t\"separator_after\"\t: true,\n\t\t\t\t\t\"label\"\t\t\t\t: \"Create\",\n\t\t\t\t\t\"action\"\t\t\t: function (obj) { this.create(obj); }\n\t\t\t\t},\n\t\t\t\t\"rename\" : {\n\t\t\t\t\t\"separator_before\"\t: false,\n\t\t\t\t\t\"separator_after\"\t: false,\n\t\t\t\t\t\"label\"\t\t\t\t: \"Rename\",\n\t\t\t\t\t\"action\"\t\t\t: function (obj) { this.rename(obj); }\n\t\t\t\t},\n\t\t\t\t\"remove\" : {\n\t\t\t\t\t\"separator_before\"\t: false,\n\t\t\t\t\t\"icon\"\t\t\t\t: false,\n\t\t\t\t\t\"separator_after\"\t: false,\n\t\t\t\t\t\"label\"\t\t\t\t: \"Delete\",\n\t\t\t\t\t\"action\"\t\t\t: function (obj) { if(this.is_selected(obj)) { this.remove(); } else { this.remove(obj); } }\n\t\t\t\t},\n\t\t\t\t\"ccp\" : {\n\t\t\t\t\t\"separator_before\"\t: true,\n\t\t\t\t\t\"icon\"\t\t\t\t: false,\n\t\t\t\t\t\"separator_after\"\t: false,\n\t\t\t\t\t\"label\"\t\t\t\t: \"Edit\",\n\t\t\t\t\t\"action\"\t\t\t: false,\n\t\t\t\t\t\"submenu\" : { \n\t\t\t\t\t\t\"cut\" : {\n\t\t\t\t\t\t\t\"separator_before\"\t: false,\n\t\t\t\t\t\t\t\"separator_after\"\t: false,\n\t\t\t\t\t\t\t\"label\"\t\t\t\t: \"Cut\",\n\t\t\t\t\t\t\t\"action\"\t\t\t: function (obj) { this.cut(obj); }\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"copy\" : {\n\t\t\t\t\t\t\t\"separator_before\"\t: false,\n\t\t\t\t\t\t\t\"icon\"\t\t\t\t: false,\n\t\t\t\t\t\t\t\"separator_after\"\t: false,\n\t\t\t\t\t\t\t\"label\"\t\t\t\t: \"Copy\",\n\t\t\t\t\t\t\t\"action\"\t\t\t: function (obj) { this.copy(obj); }\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"paste\" : {\n\t\t\t\t\t\t\t\"separator_before\"\t: false,\n\t\t\t\t\t\t\t\"icon\"\t\t\t\t: false,\n\t\t\t\t\t\t\t\"separator_after\"\t: false,\n\t\t\t\t\t\t\t\"label\"\t\t\t\t: \"Paste\",\n\t\t\t\t\t\t\t\"action\"\t\t\t: function (obj) { this.paste(obj); }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_fn : {\n\t\t\tshow_contextmenu : function (obj, x, y) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tvar s = this.get_settings().contextmenu,\n\t\t\t\t\ta = obj.children(\"a:visible:eq(0)\"),\n\t\t\t\t\to = false,\n\t\t\t\t\ti = false;\n\t\t\t\tif(s.select_node && this.data.ui && !this.is_selected(obj)) {\n\t\t\t\t\tthis.deselect_all();\n\t\t\t\t\tthis.select_node(obj, true);\n\t\t\t\t}\n\t\t\t\tif(s.show_at_node || typeof x === \"undefined\" || typeof y === \"undefined\") {\n\t\t\t\t\to = a.offset();\n\t\t\t\t\tx = o.left;\n\t\t\t\t\ty = o.top + this.data.core.li_height;\n\t\t\t\t}\n\t\t\t\ti = obj.data(\"jstree\") && obj.data(\"jstree\").contextmenu ? obj.data(\"jstree\").contextmenu : s.items;\n\t\t\t\tif($.isFunction(i)) { i = i.call(this, obj); }\n\t\t\t\tthis.data.contextmenu = true;\n\t\t\t\t$.vakata.context.show(i, a, x, y, this, obj, this._get_settings().core.rtl);\n\t\t\t\tif(this.data.themes) { $.vakata.context.cnt.attr(\"class\", \"jstree-\" + this.data.themes.theme + \"-context\"); }\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/* \n * jsTree types plugin\n * Adds support types of nodes\n * You can set an attribute on each li node, that represents its type.\n * According to the type setting the node may get custom icon/validation rules\n */\n(function ($) {\n\t$.jstree.plugin(\"types\", {\n\t\t__init : function () {\n\t\t\tvar s = this._get_settings().types;\n\t\t\tthis.data.types.attach_to = [];\n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"init.jstree\", $.proxy(function () { \n\t\t\t\t\t\tvar types = s.types, \n\t\t\t\t\t\t\tattr  = s.type_attr, \n\t\t\t\t\t\t\ticons_css = \"\", \n\t\t\t\t\t\t\t_this = this;\n\n\t\t\t\t\t\t$.each(types, function (i, tp) {\n\t\t\t\t\t\t\t$.each(tp, function (k, v) { \n\t\t\t\t\t\t\t\tif(!/^(max_depth|max_children|icon|valid_children)$/.test(k)) { _this.data.types.attach_to.push(k); }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif(!tp.icon) { return true; }\n\t\t\t\t\t\t\tif( tp.icon.image || tp.icon.position) {\n\t\t\t\t\t\t\t\tif(i == \"default\")\t{ icons_css += '.jstree-' + _this.get_index() + ' a > .jstree-icon { '; }\n\t\t\t\t\t\t\t\telse\t\t\t\t{ icons_css += '.jstree-' + _this.get_index() + ' li[' + attr + '=\"' + i + '\"] > a > .jstree-icon { '; }\n\t\t\t\t\t\t\t\tif(tp.icon.image)\t{ icons_css += ' background-image:url(' + tp.icon.image + '); '; }\n\t\t\t\t\t\t\t\tif(tp.icon.position){ icons_css += ' background-position:' + tp.icon.position + '; '; }\n\t\t\t\t\t\t\t\telse\t\t\t\t{ icons_css += ' background-position:0 0; '; }\n\t\t\t\t\t\t\t\ticons_css += '} ';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(icons_css !== \"\") { $.vakata.css.add_sheet({ 'str' : icons_css, title : \"jstree-types\" }); }\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"before.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tvar s, t, \n\t\t\t\t\t\t\to = this._get_settings().types.use_data ? this._get_node(data.args[0]) : false, \n\t\t\t\t\t\t\td = o && o !== -1 && o.length ? o.data(\"jstree\") : false;\n\t\t\t\t\t\tif(d && d.types && d.types[data.func] === false) { e.stopImmediatePropagation(); return false; }\n\t\t\t\t\t\tif($.inArray(data.func, this.data.types.attach_to) !== -1) {\n\t\t\t\t\t\t\tif(!data.args[0] || (!data.args[0].tagName && !data.args[0].jquery)) { return; }\n\t\t\t\t\t\t\ts = this._get_settings().types.types;\n\t\t\t\t\t\t\tt = this._get_type(data.args[0]);\n\t\t\t\t\t\t\tif(\n\t\t\t\t\t\t\t\t( \n\t\t\t\t\t\t\t\t\t(s[t] && typeof s[t][data.func] !== \"undefined\") || \n\t\t\t\t\t\t\t\t\t(s[\"default\"] && typeof s[\"default\"][data.func] !== \"undefined\") \n\t\t\t\t\t\t\t\t) && this._check(data.func, data.args[0]) === false\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this));\n\t\t\tif(is_ie6) {\n\t\t\t\tthis.get_container()\n\t\t\t\t\t.bind(\"load_node.jstree set_type.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\t\tvar r = data && data.rslt && data.rslt.obj && data.rslt.obj !== -1 ? this._get_node(data.rslt.obj).parent() : this.get_container_ul(),\n\t\t\t\t\t\t\t\tc = false,\n\t\t\t\t\t\t\t\ts = this._get_settings().types;\n\t\t\t\t\t\t\t$.each(s.types, function (i, tp) {\n\t\t\t\t\t\t\t\tif(tp.icon && (tp.icon.image || tp.icon.position)) {\n\t\t\t\t\t\t\t\t\tc = i === \"default\" ? r.find(\"li > a > .jstree-icon\") : r.find(\"li[\" + s.type_attr + \"='\" + i + \"'] > a > .jstree-icon\");\n\t\t\t\t\t\t\t\t\tif(tp.icon.image) { c.css(\"backgroundImage\",\"url(\" + tp.icon.image + \")\"); }\n\t\t\t\t\t\t\t\t\tc.css(\"backgroundPosition\", tp.icon.position || \"0 0\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, this));\n\t\t\t}\n\t\t},\n\t\tdefaults : {\n\t\t\t// defines maximum number of root nodes (-1 means unlimited, -2 means disable max_children checking)\n\t\t\tmax_children\t\t: -1,\n\t\t\t// defines the maximum depth of the tree (-1 means unlimited, -2 means disable max_depth checking)\n\t\t\tmax_depth\t\t\t: -1,\n\t\t\t// defines valid node types for the root nodes\n\t\t\tvalid_children\t\t: \"all\",\n\n\t\t\t// whether to use $.data\n\t\t\tuse_data : false, \n\t\t\t// where is the type stores (the rel attribute of the LI element)\n\t\t\ttype_attr : \"rel\",\n\t\t\t// a list of types\n\t\t\ttypes : {\n\t\t\t\t// the default type\n\t\t\t\t\"default\" : {\n\t\t\t\t\t\"max_children\"\t: -1,\n\t\t\t\t\t\"max_depth\"\t\t: -1,\n\t\t\t\t\t\"valid_children\": \"all\"\n\n\t\t\t\t\t// Bound functions - you can bind any other function here (using boolean or function)\n\t\t\t\t\t//\"select_node\"\t: true\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_fn : {\n\t\t\t_types_notify : function (n, data) {\n\t\t\t\tif(data.type && this._get_settings().types.use_data) {\n\t\t\t\t\tthis.set_type(data.type, n);\n\t\t\t\t}\n\t\t\t},\n\t\t\t_get_type : function (obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\treturn (!obj || !obj.length) ? false : obj.attr(this._get_settings().types.type_attr) || \"default\";\n\t\t\t},\n\t\t\tset_type : function (str, obj) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tvar ret = (!obj.length || !str) ? false : obj.attr(this._get_settings().types.type_attr, str);\n\t\t\t\tif(ret) { this.__callback({ obj : obj, type : str}); }\n\t\t\t\treturn ret;\n\t\t\t},\n\t\t\t_check : function (rule, obj, opts) {\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tvar v = false, t = this._get_type(obj), d = 0, _this = this, s = this._get_settings().types, data = false;\n\t\t\t\tif(obj === -1) { \n\t\t\t\t\tif(!!s[rule]) { v = s[rule]; }\n\t\t\t\t\telse { return; }\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif(t === false) { return; }\n\t\t\t\t\tdata = s.use_data ? obj.data(\"jstree\") : false;\n\t\t\t\t\tif(data && data.types && typeof data.types[rule] !== \"undefined\") { v = data.types[rule]; }\n\t\t\t\t\telse if(!!s.types[t] && typeof s.types[t][rule] !== \"undefined\") { v = s.types[t][rule]; }\n\t\t\t\t\telse if(!!s.types[\"default\"] && typeof s.types[\"default\"][rule] !== \"undefined\") { v = s.types[\"default\"][rule]; }\n\t\t\t\t}\n\t\t\t\tif($.isFunction(v)) { v = v.call(this, obj); }\n\t\t\t\tif(rule === \"max_depth\" && obj !== -1 && opts !== false && s.max_depth !== -2 && v !== 0) {\n\t\t\t\t\t// also include the node itself - otherwise if root node it is not checked\n\t\t\t\t\tobj.children(\"a:eq(0)\").parentsUntil(\".jstree\",\"li\").each(function (i) {\n\t\t\t\t\t\t// check if current depth already exceeds global tree depth\n\t\t\t\t\t\tif(s.max_depth !== -1 && s.max_depth - (i + 1) <= 0) { v = 0; return false; }\n\t\t\t\t\t\td = (i === 0) ? v : _this._check(rule, this, false);\n\t\t\t\t\t\t// check if current node max depth is already matched or exceeded\n\t\t\t\t\t\tif(d !== -1 && d - (i + 1) <= 0) { v = 0; return false; }\n\t\t\t\t\t\t// otherwise - set the max depth to the current value minus current depth\n\t\t\t\t\t\tif(d >= 0 && (d - (i + 1) < v || v < 0) ) { v = d - (i + 1); }\n\t\t\t\t\t\t// if the global tree depth exists and it minus the nodes calculated so far is less than `v` or `v` is unlimited\n\t\t\t\t\t\tif(s.max_depth >= 0 && (s.max_depth - (i + 1) < v || v < 0) ) { v = s.max_depth - (i + 1); }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn v;\n\t\t\t},\n\t\t\tcheck_move : function () {\n\t\t\t\tif(!this.__call_old()) { return false; }\n\t\t\t\tvar m  = this._get_move(),\n\t\t\t\t\ts  = m.rt._get_settings().types,\n\t\t\t\t\tmc = m.rt._check(\"max_children\", m.cr),\n\t\t\t\t\tmd = m.rt._check(\"max_depth\", m.cr),\n\t\t\t\t\tvc = m.rt._check(\"valid_children\", m.cr),\n\t\t\t\t\tch = 0, d = 1, t;\n\n\t\t\t\tif(vc === \"none\") { return false; } \n\t\t\t\tif($.isArray(vc) && m.ot && m.ot._get_type) {\n\t\t\t\t\tm.o.each(function () {\n\t\t\t\t\t\tif($.inArray(m.ot._get_type(this), vc) === -1) { d = false; return false; }\n\t\t\t\t\t});\n\t\t\t\t\tif(d === false) { return false; }\n\t\t\t\t}\n\t\t\t\tif(s.max_children !== -2 && mc !== -1) {\n\t\t\t\t\tch = m.cr === -1 ? this.get_container().find(\"> ul > li\").not(m.o).length : m.cr.find(\"> ul > li\").not(m.o).length;\n\t\t\t\t\tif(ch + m.o.length > mc) { return false; }\n\t\t\t\t}\n\t\t\t\tif(s.max_depth !== -2 && md !== -1) {\n\t\t\t\t\td = 0;\n\t\t\t\t\tif(md === 0) { return false; }\n\t\t\t\t\tif(typeof m.o.d === \"undefined\") {\n\t\t\t\t\t\t// TODO: deal with progressive rendering and async when checking max_depth (how to know the depth of the moved node)\n\t\t\t\t\t\tt = m.o;\n\t\t\t\t\t\twhile(t.length > 0) {\n\t\t\t\t\t\t\tt = t.find(\"> ul > li\");\n\t\t\t\t\t\t\td ++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tm.o.d = d;\n\t\t\t\t\t}\n\t\t\t\t\tif(md - m.o.d < 0) { return false; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tcreate_node : function (obj, position, js, callback, is_loaded, skip_check) {\n\t\t\t\tif(!skip_check && (is_loaded || this._is_loaded(obj))) {\n\t\t\t\t\tvar p  = (typeof position == \"string\" && position.match(/^before|after$/i) && obj !== -1) ? this._get_parent(obj) : this._get_node(obj),\n\t\t\t\t\t\ts  = this._get_settings().types,\n\t\t\t\t\t\tmc = this._check(\"max_children\", p),\n\t\t\t\t\t\tmd = this._check(\"max_depth\", p),\n\t\t\t\t\t\tvc = this._check(\"valid_children\", p),\n\t\t\t\t\t\tch;\n\t\t\t\t\tif(typeof js === \"string\") { js = { data : js }; }\n\t\t\t\t\tif(!js) { js = {}; }\n\t\t\t\t\tif(vc === \"none\") { return false; } \n\t\t\t\t\tif($.isArray(vc)) {\n\t\t\t\t\t\tif(!js.attr || !js.attr[s.type_attr]) { \n\t\t\t\t\t\t\tif(!js.attr) { js.attr = {}; }\n\t\t\t\t\t\t\tjs.attr[s.type_attr] = vc[0]; \n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif($.inArray(js.attr[s.type_attr], vc) === -1) { return false; }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(s.max_children !== -2 && mc !== -1) {\n\t\t\t\t\t\tch = p === -1 ? this.get_container().find(\"> ul > li\").length : p.find(\"> ul > li\").length;\n\t\t\t\t\t\tif(ch + 1 > mc) { return false; }\n\t\t\t\t\t}\n\t\t\t\t\tif(s.max_depth !== -2 && md !== -1 && (md - 1) < 0) { return false; }\n\t\t\t\t}\n\t\t\t\treturn this.__call_old(true, obj, position, js, callback, is_loaded, skip_check);\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/* \n * jsTree HTML plugin\n * The HTML data store. Datastores are build by replacing the `load_node` and `_is_loaded` functions.\n */\n(function ($) {\n\t$.jstree.plugin(\"html_data\", {\n\t\t__init : function () { \n\t\t\t// this used to use html() and clean the whitespace, but this way any attached data was lost\n\t\t\tthis.data.html_data.original_container_html = this.get_container().find(\" > ul > li\").clone(true);\n\t\t\t// remove white space from LI node - otherwise nodes appear a bit to the right\n\t\t\tthis.data.html_data.original_container_html.find(\"li\").addBack().contents().filter(function() { return this.nodeType == 3; }).remove();\n\t\t},\n\t\tdefaults : { \n\t\t\tdata : false,\n\t\t\tajax : false,\n\t\t\tcorrect_state : true\n\t\t},\n\t\t_fn : {\n\t\t\tload_node : function (obj, s_call, e_call) { var _this = this; this.load_node_html(obj, function () { _this.__callback({ \"obj\" : _this._get_node(obj) }); s_call.call(this); }, e_call); },\n\t\t\t_is_loaded : function (obj) { \n\t\t\t\tobj = this._get_node(obj); \n\t\t\t\treturn obj == -1 || !obj || (!this._get_settings().html_data.ajax && !$.isFunction(this._get_settings().html_data.data)) || obj.is(\".jstree-open, .jstree-leaf\") || obj.children(\"ul\").children(\"li\").size() > 0;\n\t\t\t},\n\t\t\tload_node_html : function (obj, s_call, e_call) {\n\t\t\t\tvar d,\n\t\t\t\t\ts = this.get_settings().html_data,\n\t\t\t\t\terror_func = function () {},\n\t\t\t\t\tsuccess_func = function () {};\n\t\t\t\tobj = this._get_node(obj);\n\t\t\t\tif(obj && obj !== -1) {\n\t\t\t\t\tif(obj.data(\"jstree_is_loading\")) { return; }\n\t\t\t\t\telse { obj.data(\"jstree_is_loading\",true); }\n\t\t\t\t}\n\t\t\t\tswitch(!0) {\n\t\t\t\t\tcase ($.isFunction(s.data)):\n\t\t\t\t\t\ts.data.call(this, obj, $.proxy(function (d) {\n\t\t\t\t\t\t\tif(d && d !== \"\" && d.toString && d.toString().replace(/^[\\s\\n]+$/,\"\") !== \"\") {\n\t\t\t\t\t\t\t\td = $(d);\n\t\t\t\t\t\t\t\tif(!d.is(\"ul\")) { d = $(\"<ul />\").append(d); }\n\t\t\t\t\t\t\t\tif(obj == -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()).find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\"); }\n\t\t\t\t\t\t\t\telse { obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.append(d).children(\"ul\").find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\"); obj.removeData(\"jstree_is_loading\"); }\n\t\t\t\t\t\t\t\tthis.clean_node(obj);\n\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(obj && obj !== -1) {\n\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\tthis.correct_state(obj);\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty();\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase (!s.data && !s.ajax):\n\t\t\t\t\t\tif(!obj || obj == -1) {\n\t\t\t\t\t\t\tthis.get_container()\n\t\t\t\t\t\t\t\t.children(\"ul\").empty()\n\t\t\t\t\t\t\t\t.append(this.data.html_data.original_container_html)\n\t\t\t\t\t\t\t\t.find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end()\n\t\t\t\t\t\t\t\t.filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\");\n\t\t\t\t\t\t\tthis.clean_node();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase (!!s.data && !s.ajax) || (!!s.data && !!s.ajax && (!obj || obj === -1)):\n\t\t\t\t\t\tif(!obj || obj == -1) {\n\t\t\t\t\t\t\td = $(s.data);\n\t\t\t\t\t\t\tif(!d.is(\"ul\")) { d = $(\"<ul />\").append(d); }\n\t\t\t\t\t\t\tthis.get_container()\n\t\t\t\t\t\t\t\t.children(\"ul\").empty().append(d.children())\n\t\t\t\t\t\t\t\t.find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end()\n\t\t\t\t\t\t\t\t.filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\");\n\t\t\t\t\t\t\tthis.clean_node();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase (!s.data && !!s.ajax) || (!!s.data && !!s.ajax && obj && obj !== -1):\n\t\t\t\t\t\tobj = this._get_node(obj);\n\t\t\t\t\t\terror_func = function (x, t, e) {\n\t\t\t\t\t\t\tvar ef = this.get_settings().html_data.ajax.error; \n\t\t\t\t\t\t\tif(ef) { ef.call(this, x, t, e); }\n\t\t\t\t\t\t\tif(obj != -1 && obj.length) {\n\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.correct_state(obj); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(t === \"success\" && s.correct_state) { this.get_container().children(\"ul\").empty(); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(e_call) { e_call.call(this); }\n\t\t\t\t\t\t};\n\t\t\t\t\t\tsuccess_func = function (d, t, x) {\n\t\t\t\t\t\t\tvar sf = this.get_settings().html_data.ajax.success; \n\t\t\t\t\t\t\tif(sf) { d = sf.call(this,d,t,x) || d; }\n\t\t\t\t\t\t\tif(d === \"\" || (d && d.toString && d.toString().replace(/^[\\s\\n]+$/,\"\") === \"\")) {\n\t\t\t\t\t\t\t\treturn error_func.call(this, x, t, \"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(d) {\n\t\t\t\t\t\t\t\td = $(d);\n\t\t\t\t\t\t\t\tif(!d.is(\"ul\")) { d = $(\"<ul />\").append(d); }\n\t\t\t\t\t\t\t\tif(obj == -1 || !obj) { this.get_container().children(\"ul\").empty().append(d.children()).find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\"); }\n\t\t\t\t\t\t\t\telse { obj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\"); obj.append(d).children(\"ul\").find(\"li, a\").filter(function () { return !this.firstChild || !this.firstChild.tagName || this.firstChild.tagName !== \"INS\"; }).prepend(\"<ins class='jstree-icon'>&#160;</ins>\").end().filter(\"a\").children(\"ins:first-child\").not(\".jstree-icon\").addClass(\"jstree-icon\"); obj.removeData(\"jstree_is_loading\"); }\n\t\t\t\t\t\t\t\tthis.clean_node(obj);\n\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(obj && obj !== -1) {\n\t\t\t\t\t\t\t\t\tobj.children(\"a.jstree-loading\").removeClass(\"jstree-loading\");\n\t\t\t\t\t\t\t\t\tobj.removeData(\"jstree_is_loading\");\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\tthis.correct_state(obj);\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif(s.correct_state) { \n\t\t\t\t\t\t\t\t\t\tthis.get_container().children(\"ul\").empty();\n\t\t\t\t\t\t\t\t\t\tif(s_call) { s_call.call(this); } \n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\ts.ajax.context = this;\n\t\t\t\t\t\ts.ajax.error = error_func;\n\t\t\t\t\t\ts.ajax.success = success_func;\n\t\t\t\t\t\tif(!s.ajax.dataType) { s.ajax.dataType = \"html\"; }\n\t\t\t\t\t\tif($.isFunction(s.ajax.url)) { s.ajax.url = s.ajax.url.call(this, obj); }\n\t\t\t\t\t\tif($.isFunction(s.ajax.data)) { s.ajax.data = s.ajax.data.call(this, obj); }\n\t\t\t\t\t\t$.ajax(s.ajax);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\t// include the HTML data plugin by default\n\t$.jstree.defaults.plugins.push(\"html_data\");\n})(jQuery);\n//*/\n\n/* \n * jsTree themeroller plugin\n * Adds support for jQuery UI themes. Include this at the end of your plugins list, also make sure \"themes\" is not included.\n */\n(function ($) {\n\t$.jstree.plugin(\"themeroller\", {\n\t\t__init : function () {\n\t\t\tvar s = this._get_settings().themeroller;\n\t\t\tthis.get_container()\n\t\t\t\t.addClass(\"ui-widget-content\")\n\t\t\t\t.addClass(\"jstree-themeroller\")\n\t\t\t\t.delegate(\"a\",\"mouseenter.jstree\", function (e) {\n\t\t\t\t\tif(!$(e.currentTarget).hasClass(\"jstree-loading\")) {\n\t\t\t\t\t\t$(this).addClass(s.item_h);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.delegate(\"a\",\"mouseleave.jstree\", function () {\n\t\t\t\t\t$(this).removeClass(s.item_h);\n\t\t\t\t})\n\t\t\t\t.bind(\"init.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tdata.inst.get_container().find(\"> ul > li > .jstree-loading > ins\").addClass(\"ui-icon-refresh\");\n\t\t\t\t\t\tthis._themeroller(data.inst.get_container().find(\"> ul > li\"));\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"open_node.jstree create_node.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tthis._themeroller(data.rslt.obj);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"loaded.jstree refresh.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\tthis._themeroller();\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"close_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tthis._themeroller(data.rslt.obj);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"delete_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tthis._themeroller(data.rslt.parent);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"correct_state.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tdata.rslt.obj\n\t\t\t\t\t\t\t.children(\"ins.jstree-icon\").removeClass(s.opened + \" \" + s.closed + \" ui-icon\").end()\n\t\t\t\t\t\t\t.find(\"> a > ins.ui-icon\")\n\t\t\t\t\t\t\t\t.filter(function() { \n\t\t\t\t\t\t\t\t\treturn this.className.toString()\n\t\t\t\t\t\t\t\t\t\t.replace(s.item_clsd,\"\").replace(s.item_open,\"\").replace(s.item_leaf,\"\")\n\t\t\t\t\t\t\t\t\t\t.indexOf(\"ui-icon-\") === -1; \n\t\t\t\t\t\t\t\t}).removeClass(s.item_open + \" \" + s.item_clsd).addClass(s.item_leaf || \"jstree-no-icon\");\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"select_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tdata.rslt.obj.children(\"a\").addClass(s.item_a);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"deselect_node.jstree deselect_all.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tthis.get_container()\n\t\t\t\t\t\t\t.find(\"a.\" + s.item_a).removeClass(s.item_a).end()\n\t\t\t\t\t\t\t.find(\"a.jstree-clicked\").addClass(s.item_a);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"dehover_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tdata.rslt.obj.children(\"a\").removeClass(s.item_h);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"hover_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tthis.get_container()\n\t\t\t\t\t\t\t.find(\"a.\" + s.item_h).not(data.rslt.obj).removeClass(s.item_h);\n\t\t\t\t\t\tdata.rslt.obj.children(\"a\").addClass(s.item_h);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"move_node.jstree\", $.proxy(function (e, data) {\n\t\t\t\t\t\tthis._themeroller(data.rslt.o);\n\t\t\t\t\t\tthis._themeroller(data.rslt.op);\n\t\t\t\t\t}, this));\n\t\t},\n\t\t__destroy : function () {\n\t\t\tvar s = this._get_settings().themeroller,\n\t\t\t\tc = [ \"ui-icon\" ];\n\t\t\t$.each(s, function (i, v) {\n\t\t\t\tv = v.split(\" \");\n\t\t\t\tif(v.length) { c = c.concat(v); }\n\t\t\t});\n\t\t\tthis.get_container()\n\t\t\t\t.removeClass(\"ui-widget-content\")\n\t\t\t\t.find(\".\" + c.join(\", .\")).removeClass(c.join(\" \"));\n\t\t},\n\t\t_fn : {\n\t\t\t_themeroller : function (obj) {\n\t\t\t\tvar s = this._get_settings().themeroller;\n\t\t\t\tobj = (!obj || obj == -1) ? this.get_container_ul() : this._get_node(obj);\n\t\t\t\tobj = (!obj || obj == -1) ? this.get_container_ul() : obj.parent();\n\t\t\t\tobj\n\t\t\t\t\t.find(\"li.jstree-closed\")\n\t\t\t\t\t\t.children(\"ins.jstree-icon\").removeClass(s.opened).addClass(\"ui-icon \" + s.closed).end()\n\t\t\t\t\t\t.children(\"a\").addClass(s.item)\n\t\t\t\t\t\t\t.children(\"ins.jstree-icon\").addClass(\"ui-icon\")\n\t\t\t\t\t\t\t\t.filter(function() { \n\t\t\t\t\t\t\t\t\treturn this.className.toString()\n\t\t\t\t\t\t\t\t\t\t.replace(s.item_clsd,\"\").replace(s.item_open,\"\").replace(s.item_leaf,\"\")\n\t\t\t\t\t\t\t\t\t\t.indexOf(\"ui-icon-\") === -1; \n\t\t\t\t\t\t\t\t}).removeClass(s.item_leaf + \" \" + s.item_open).addClass(s.item_clsd || \"jstree-no-icon\")\n\t\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t.end()\n\t\t\t\t\t.end()\n\t\t\t\t\t.find(\"li.jstree-open\")\n\t\t\t\t\t\t.children(\"ins.jstree-icon\").removeClass(s.closed).addClass(\"ui-icon \" + s.opened).end()\n\t\t\t\t\t\t.children(\"a\").addClass(s.item)\n\t\t\t\t\t\t\t.children(\"ins.jstree-icon\").addClass(\"ui-icon\")\n\t\t\t\t\t\t\t\t.filter(function() { \n\t\t\t\t\t\t\t\t\treturn this.className.toString()\n\t\t\t\t\t\t\t\t\t\t.replace(s.item_clsd,\"\").replace(s.item_open,\"\").replace(s.item_leaf,\"\")\n\t\t\t\t\t\t\t\t\t\t.indexOf(\"ui-icon-\") === -1; \n\t\t\t\t\t\t\t\t}).removeClass(s.item_leaf + \" \" + s.item_clsd).addClass(s.item_open || \"jstree-no-icon\")\n\t\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t.end()\n\t\t\t\t\t.end()\n\t\t\t\t\t.find(\"li.jstree-leaf\")\n\t\t\t\t\t\t.children(\"ins.jstree-icon\").removeClass(s.closed + \" ui-icon \" + s.opened).end()\n\t\t\t\t\t\t.children(\"a\").addClass(s.item)\n\t\t\t\t\t\t\t.children(\"ins.jstree-icon\").addClass(\"ui-icon\")\n\t\t\t\t\t\t\t\t.filter(function() { \n\t\t\t\t\t\t\t\t\treturn this.className.toString()\n\t\t\t\t\t\t\t\t\t\t.replace(s.item_clsd,\"\").replace(s.item_open,\"\").replace(s.item_leaf,\"\")\n\t\t\t\t\t\t\t\t\t\t.indexOf(\"ui-icon-\") === -1; \n\t\t\t\t\t\t\t\t}).removeClass(s.item_clsd + \" \" + s.item_open).addClass(s.item_leaf || \"jstree-no-icon\");\n\t\t\t}\n\t\t},\n\t\tdefaults : {\n\t\t\t\"opened\"\t: \"ui-icon-triangle-1-se\",\n\t\t\t\"closed\"\t: \"ui-icon-triangle-1-e\",\n\t\t\t\"item\"\t\t: \"ui-state-default\",\n\t\t\t\"item_h\"\t: \"ui-state-hover\",\n\t\t\t\"item_a\"\t: \"ui-state-active\",\n\t\t\t\"item_open\"\t: \"ui-icon-folder-open\",\n\t\t\t\"item_clsd\"\t: \"ui-icon-folder-collapsed\",\n\t\t\t\"item_leaf\"\t: \"ui-icon-document\"\n\t\t}\n\t});\n\t$(function() {\n\t\tvar css_string = '' + \n\t\t\t'.jstree-themeroller .ui-icon { overflow:visible; } ' + \n\t\t\t'.jstree-themeroller a { padding:0 2px; } ' + \n\t\t\t'.jstree-themeroller .jstree-no-icon { display:none; }';\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"jstree\" });\n\t});\n})(jQuery);\n//*/\n\n/* \n * jsTree unique plugin\n * Forces different names amongst siblings (still a bit experimental)\n * NOTE: does not check language versions (it will not be possible to have nodes with the same title, even in different languages)\n */\n(function ($) {\n\t$.jstree.plugin(\"unique\", {\n\t\t__init : function () {\n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"before.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tvar nms = [], res = true, p, t;\n\t\t\t\t\t\tif(data.func == \"move_node\") {\n\t\t\t\t\t\t\t// obj, ref, position, is_copy, is_prepared, skip_check\n\t\t\t\t\t\t\tif(data.args[4] === true) {\n\t\t\t\t\t\t\t\tif(data.args[0].o && data.args[0].o.length) {\n\t\t\t\t\t\t\t\t\tdata.args[0].o.children(\"a\").each(function () { nms.push($(this).text().replace(/^\\s+/g,\"\")); });\n\t\t\t\t\t\t\t\t\tres = this._check_unique(nms, data.args[0].np.find(\"> ul > li\").not(data.args[0].o), \"move_node\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(data.func == \"create_node\") {\n\t\t\t\t\t\t\t// obj, position, js, callback, is_loaded\n\t\t\t\t\t\t\tif(data.args[4] || this._is_loaded(data.args[0])) {\n\t\t\t\t\t\t\t\tp = this._get_node(data.args[0]);\n\t\t\t\t\t\t\t\tif(data.args[1] && (data.args[1] === \"before\" || data.args[1] === \"after\")) {\n\t\t\t\t\t\t\t\t\tp = this._get_parent(data.args[0]);\n\t\t\t\t\t\t\t\t\tif(!p || p === -1) { p = this.get_container(); }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(typeof data.args[2] === \"string\") { nms.push(data.args[2]); }\n\t\t\t\t\t\t\t\telse if(!data.args[2] || !data.args[2].data) { nms.push(this._get_string(\"new_node\")); }\n\t\t\t\t\t\t\t\telse { nms.push(data.args[2].data); }\n\t\t\t\t\t\t\t\tres = this._check_unique(nms, p.find(\"> ul > li\"), \"create_node\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(data.func == \"rename_node\") {\n\t\t\t\t\t\t\t// obj, val\n\t\t\t\t\t\t\tnms.push(data.args[1]);\n\t\t\t\t\t\t\tt = this._get_node(data.args[0]);\n\t\t\t\t\t\t\tp = this._get_parent(t);\n\t\t\t\t\t\t\tif(!p || p === -1) { p = this.get_container(); }\n\t\t\t\t\t\t\tres = this._check_unique(nms, p.find(\"> ul > li\").not(t), \"rename_node\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!res) {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this));\n\t\t},\n\t\tdefaults : { \n\t\t\terror_callback : $.noop\n\t\t},\n\t\t_fn : { \n\t\t\t_check_unique : function (nms, p, func) {\n\t\t\t\tvar cnms = [], ok = true;\n\t\t\t\tp.children(\"a\").each(function () { cnms.push($(this).text().replace(/^\\s+/g,\"\")); });\n\t\t\t\tif(!cnms.length || !nms.length) { return true; }\n\t\t\t\t$.each(nms, function (i, v) {\n\t\t\t\t\tif($.inArray(v, cnms) !== -1) {\n\t\t\t\t\t\tok = false;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif(!ok) {\n\t\t\t\t\tthis._get_settings().unique.error_callback.call(null, nms, p, func);\n\t\t\t\t}\n\t\t\t\treturn ok;\n\t\t\t},\n\t\t\tcheck_move : function () {\n\t\t\t\tif(!this.__call_old()) { return false; }\n\t\t\t\tvar p = this._get_move(), nms = [];\n\t\t\t\tif(p.o && p.o.length) {\n\t\t\t\t\tp.o.children(\"a\").each(function () { nms.push($(this).text().replace(/^\\s+/g,\"\")); });\n\t\t\t\t\treturn this._check_unique(nms, p.np.find(\"> ul > li\").not(p.o), \"check_move\");\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n/*\n * jsTree wholerow plugin\n * Makes select and hover work on the entire width of the node\n * MAY BE HEAVY IN LARGE DOM\n */\n(function ($) {\n\t$.jstree.plugin(\"wholerow\", {\n\t\t__init : function () {\n\t\t\tif(!this.data.ui) { throw \"jsTree wholerow: jsTree UI plugin not included.\"; }\n\t\t\tthis.data.wholerow.html = false;\n\t\t\tthis.data.wholerow.to = false;\n\t\t\tthis.get_container()\n\t\t\t\t.bind(\"init.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tthis._get_settings().core.animation = 0;\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"open_node.jstree create_node.jstree clean_node.jstree loaded.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tthis._prepare_wholerow_span( data && data.rslt && data.rslt.obj ? data.rslt.obj : -1 );\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"search.jstree clear_search.jstree reopen.jstree after_open.jstree after_close.jstree create_node.jstree delete_node.jstree clean_node.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tif(this.data.to) { clearTimeout(this.data.to); }\n\t\t\t\t\t\tthis.data.to = setTimeout( (function (t, o) { return function() { t._prepare_wholerow_ul(o); }; })(this,  data && data.rslt && data.rslt.obj ? data.rslt.obj : -1), 0);\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"deselect_all.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tthis.get_container().find(\" > .jstree-wholerow .jstree-clicked\").removeClass(\"jstree-clicked \" + (this.data.themeroller ? this._get_settings().themeroller.item_a : \"\" ));\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"select_node.jstree deselect_node.jstree \", $.proxy(function (e, data) { \n\t\t\t\t\t\tdata.rslt.obj.each(function () { \n\t\t\t\t\t\t\tvar ref = data.inst.get_container().find(\" > .jstree-wholerow li:visible:eq(\" + ( parseInt((($(this).offset().top - data.inst.get_container().offset().top + data.inst.get_container()[0].scrollTop) / data.inst.data.core.li_height),10)) + \")\");\n\t\t\t\t\t\t\t// ref.children(\"a\")[e.type === \"select_node\" ? \"addClass\" : \"removeClass\"](\"jstree-clicked\");\n\t\t\t\t\t\t\tref.children(\"a\").attr(\"class\",data.rslt.obj.children(\"a\").attr(\"class\"));\n\t\t\t\t\t\t});\n\t\t\t\t\t}, this))\n\t\t\t\t.bind(\"hover_node.jstree dehover_node.jstree\", $.proxy(function (e, data) { \n\t\t\t\t\t\tthis.get_container().find(\" > .jstree-wholerow .jstree-hovered\").removeClass(\"jstree-hovered \" + (this.data.themeroller ? this._get_settings().themeroller.item_h : \"\" ));\n\t\t\t\t\t\tif(e.type === \"hover_node\") {\n\t\t\t\t\t\t\tvar ref = this.get_container().find(\" > .jstree-wholerow li:visible:eq(\" + ( parseInt(((data.rslt.obj.offset().top - this.get_container().offset().top + this.get_container()[0].scrollTop) / this.data.core.li_height),10)) + \")\");\n\t\t\t\t\t\t\t// ref.children(\"a\").addClass(\"jstree-hovered\");\n\t\t\t\t\t\t\tref.children(\"a\").attr(\"class\",data.rslt.obj.children(\".jstree-hovered\").attr(\"class\"));\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\".jstree-wholerow-span, ins.jstree-icon, li\", \"click.jstree\", function (e) {\n\t\t\t\t\t\tvar n = $(e.currentTarget);\n\t\t\t\t\t\tif(e.target.tagName === \"A\" || (e.target.tagName === \"INS\" && n.closest(\"li\").is(\".jstree-open, .jstree-closed\"))) { return; }\n\t\t\t\t\t\tn.closest(\"li\").children(\"a:visible:eq(0)\").click();\n\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t})\n\t\t\t\t.delegate(\"li\", \"mouseover.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\tif($(e.currentTarget).children(\".jstree-hovered, .jstree-clicked\").length) { return false; }\n\t\t\t\t\t\tthis.hover_node(e.currentTarget);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}, this))\n\t\t\t\t.delegate(\"li\", \"mouseleave.jstree\", $.proxy(function (e) {\n\t\t\t\t\t\tif($(e.currentTarget).children(\"a\").hasClass(\"jstree-hovered\").length) { return; }\n\t\t\t\t\t\tthis.dehover_node(e.currentTarget);\n\t\t\t\t\t}, this));\n\t\t\tif(is_ie7 || is_ie6) {\n\t\t\t\t$.vakata.css.add_sheet({ str : \".jstree-\" + this.get_index() + \" { position:relative; } \", title : \"jstree\" });\n\t\t\t}\n\t\t},\n\t\tdefaults : {\n\t\t},\n\t\t__destroy : function () {\n\t\t\tthis.get_container().children(\".jstree-wholerow\").remove();\n\t\t\tthis.get_container().find(\".jstree-wholerow-span\").remove();\n\t\t},\n\t\t_fn : {\n\t\t\t_prepare_wholerow_span : function (obj) {\n\t\t\t\tobj = !obj || obj == -1 ? this.get_container().find(\"> ul > li\") : this._get_node(obj);\n\t\t\t\tif(obj === false) { return; } // added for removing root nodes\n\t\t\t\tobj.each(function () {\n\t\t\t\t\t$(this).find(\"li\").addBack().each(function () {\n\t\t\t\t\t\tvar $t = $(this);\n\t\t\t\t\t\tif($t.children(\".jstree-wholerow-span\").length) { return true; }\n\t\t\t\t\t\t$t.prepend(\"<span class='jstree-wholerow-span' style='width:\" + ($t.parentsUntil(\".jstree\",\"li\").length * 18) + \"px;'>&#160;</span>\");\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\t_prepare_wholerow_ul : function () {\n\t\t\t\tvar o = this.get_container().children(\"ul\").eq(0), h = o.html();\n\t\t\t\to.addClass(\"jstree-wholerow-real\");\n\t\t\t\tif(this.data.wholerow.last_html !== h) {\n\t\t\t\t\tthis.data.wholerow.last_html = h;\n\t\t\t\t\tthis.get_container().children(\".jstree-wholerow\").remove();\n\t\t\t\t\tthis.get_container().append(\n\t\t\t\t\t\to.clone().removeClass(\"jstree-wholerow-real\")\n\t\t\t\t\t\t\t.wrapAll(\"<div class='jstree-wholerow' />\").parent()\n\t\t\t\t\t\t\t.width(o.parent()[0].scrollWidth)\n\t\t\t\t\t\t\t.css(\"top\", (o.height() + ( is_ie7 ? 5 : 0)) * -1 )\n\t\t\t\t\t\t\t.find(\"li[id]\").each(function () { this.removeAttribute(\"id\"); }).end()\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\t$(function() {\n\t\tvar css_string = '' + \n\t\t\t'.jstree .jstree-wholerow-real { position:relative; z-index:1; } ' + \n\t\t\t'.jstree .jstree-wholerow-real li { cursor:pointer; } ' + \n\t\t\t'.jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } ' + \n\t\t\t'.jstree .jstree-wholerow { position:relative; z-index:0; height:0; } ' + \n\t\t\t'.jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } ' + \n\t\t\t'.jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } ' + \n\t\t\t'.jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }' + \n\t\t\t'.jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }' + \n\t\t\t'.jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } ' + \n\t\t\t'.jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }';\n\t\tif(is_ff2) {\n\t\t\tcss_string += '' + \n\t\t\t\t'.jstree .jstree-wholerow a { display:block; height:18px; margin:0; padding:0; border:0; } ' + \n\t\t\t\t'.jstree .jstree-wholerow-real a { border-color:transparent !important; } ';\n\t\t}\n\t\tif(is_ie7 || is_ie6) {\n\t\t\tcss_string += '' + \n\t\t\t\t'.jstree .jstree-wholerow, .jstree .jstree-wholerow li, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow a { margin:0; padding:0; line-height:18px; } ' + \n\t\t\t\t'.jstree .jstree-wholerow a { display:block; height:18px; line-height:18px; overflow:hidden; } ';\n\t\t}\n\t\t$.vakata.css.add_sheet({ str : css_string, title : \"jstree\" });\n\t});\n})(jQuery);\n//*/\n\n/*\n* jsTree model plugin\n* This plugin gets jstree to use a class model to retrieve data, creating great dynamism\n*/\n(function ($) {\n\tvar nodeInterface = [\"getChildren\",\"getChildrenCount\",\"getAttr\",\"getName\",\"getProps\"],\n\t\tvalidateInterface = function(obj, inter) {\n\t\t\tvar valid = true;\n\t\t\tobj = obj || {};\n\t\t\tinter = [].concat(inter);\n\t\t\t$.each(inter, function (i, v) {\n\t\t\t\tif(!$.isFunction(obj[v])) { valid = false; return false; }\n\t\t\t});\n\t\t\treturn valid;\n\t\t};\n\t$.jstree.plugin(\"model\", {\n\t\t__init : function () {\n\t\t\tif(!this.data.json_data) { throw \"jsTree model: jsTree json_data plugin not included.\"; }\n\t\t\tthis._get_settings().json_data.data = function (n, b) {\n\t\t\t\tvar obj = (n == -1) ? this._get_settings().model.object : n.data(\"jstree_model\");\n\t\t\t\tif(!validateInterface(obj, nodeInterface)) { return b.call(null, false); }\n\t\t\t\tif(this._get_settings().model.async) {\n\t\t\t\t\tobj.getChildren($.proxy(function (data) {\n\t\t\t\t\t\tthis.model_done(data, b);\n\t\t\t\t\t}, this));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.model_done(obj.getChildren(), b);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tdefaults : {\n\t\t\tobject : false,\n\t\t\tid_prefix : false,\n\t\t\tasync : false\n\t\t},\n\t\t_fn : {\n\t\t\tmodel_done : function (data, callback) {\n\t\t\t\tvar ret = [], \n\t\t\t\t\ts = this._get_settings(),\n\t\t\t\t\t_this = this;\n\n\t\t\t\tif(!$.isArray(data)) { data = [data]; }\n\t\t\t\t$.each(data, function (i, nd) {\n\t\t\t\t\tvar r = nd.getProps() || {};\n\t\t\t\t\tr.attr = nd.getAttr() || {};\n\t\t\t\t\tif(nd.getChildrenCount()) { r.state = \"closed\"; }\n\t\t\t\t\tr.data = nd.getName();\n\t\t\t\t\tif(!$.isArray(r.data)) { r.data = [r.data]; }\n\t\t\t\t\tif(_this.data.types && $.isFunction(nd.getType)) {\n\t\t\t\t\t\tr.attr[s.types.type_attr] = nd.getType();\n\t\t\t\t\t}\n\t\t\t\t\tif(r.attr.id && s.model.id_prefix) { r.attr.id = s.model.id_prefix + r.attr.id; }\n\t\t\t\t\tif(!r.metadata) { r.metadata = { }; }\n\t\t\t\t\tr.metadata.jstree_model = nd;\n\t\t\t\t\tret.push(r);\n\t\t\t\t});\n\t\t\t\tcallback.call(null, ret);\n\t\t\t}\n\t\t}\n\t});\n})(jQuery);\n//*/\n\n})();","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }"],"sourceRoot":""}