(self.webpackChunk_studip_core=self.webpackChunk_studip_core||[]).push([[721],{2721:function(t,s,e){"use strict";e.r(s),e.d(s,{default:function(){return a}});var o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",{staticClass:"default documents",attrs:{"data-folder_id":t.topfolder.folder_id,"data-shiftcheck":""}},[e("caption",[e("div",{staticClass:"caption-container"},[t.breadcrumbs&&!t.table_title?e("div",[t.breadcrumbs[0]?e("a",{attrs:{href:t.breadcrumbs[0].url,title:"Zum Hauptordner".toLocaleString()}},[e("studip-icon",{staticClass:"text-bottom",attrs:{shape:"folder-home-full",role:"clickable",size:"30"}}),t._v(" "),1==t.breadcrumbs.length?e("span",[t._v("\n                        "+t._s(t.breadcrumbs[0].name)+"\n                    ")]):t._e()],1):t._e(),t._v(" "),t._l(t.breadcrumbs,(function(s,o){return o>0?e("span",{key:s.folder_id},[t._v("\n                    /"),e("a",{attrs:{href:s.url}},[t._v("\n                        "+t._s(s.name)+"\n                    ")])]):t._e()}))],2):t._e(),t._v(" "),t.table_title?e("div",[t._v(t._s(t.table_title))]):t._e()]),t._v(" "),t.topfolder.description?e("div",{staticStyle:{"font-size":"small"},domProps:{innerHTML:t._s(t.topfolder.description)}}):t._e()]),t._v(" "),e("colgroup",[t.show_bulk_actions?e("col",{attrs:{width:"30px","data-filter-ignore":""}}):t._e(),t._v(" "),e("col",{attrs:{width:"60px","data-filter-ignore":""}}),t._v(" "),e("col"),t._v(" "),e("col",{staticClass:"responsive-hidden",attrs:{width:"100px","data-filter-ignore":""}}),t._v(" "),t.showdownloads?e("col",{staticClass:"responsive-hidden",attrs:{width:"100px","data-filter-ignore":""}}):t._e(),t._v(" "),e("col",{staticClass:"responsive-hidden",attrs:{width:"150px"}}),t._v(" "),e("col",{staticClass:"responsive-hidden",attrs:{width:"120px","data-filter-ignore":""}}),t._v(" "),t._l(t.topfolder.additionalColumns,(function(s,o){return t.topfolder.additionalColumns?e("col",{key:o,staticClass:"responsive-hidden",attrs:{"data-filter-ignore":""}}):t._e()})),t._v(" "),e("col",{attrs:{width:"80px","data-filter-ignore":""}})],2),t._v(" "),e("thead",[e("tr",{staticClass:"sortable"},[t.show_bulk_actions?e("th",{attrs:{"data-sort":"false"}},[e("input",{staticClass:"studip-checkbox",attrs:{type:"checkbox","data-proxyfor":"table.documents tbody :checkbox","data-activates":"table.documents tfoot .multibuttons .button",id:"all_files_checkbox"}}),t._v(" "),e("label",{attrs:{for:"all_files_checkbox"}})]):t._e(),t._v(" "),e("th",{on:{click:function(s){return t.sort("mime_type")}}},[t._v("\n                "+t._s("Typ".toLocaleString())+"\n                "),"mime_type"==t.sortedBy&&"asc"==t.sortDirection?e("studip-icon",{staticClass:"text-bottom",attrs:{shape:"arr_1down",role:"clickable",size:"16"}}):t._e(),t._v(" "),"mime_type"==t.sortedBy&&"desc"==t.sortDirection?e("studip-icon",{staticClass:"text-bottom",attrs:{shape:"arr_1up",role:"clickable",size:"16"}}):t._e()],1),t._v(" "),e("th",{on:{click:function(s){return t.sort("name")}}},[t._v("\n                "+t._s("Name".toLocaleString())+"\n                "),"name"==t.sortedBy&&"asc"==t.sortDirection?e("studip-icon",{staticClass:"text-bottom",attrs:{shape:"arr_1down",role:"clickable",size:"16"}}):t._e(),t._v(" "),"name"==t.sortedBy&&"desc"==t.sortDirection?e("studip-icon",{staticClass:"text-bottom",attrs:{shape:"arr_1up",role:"clickable",size:"16"}}):t._e()],1),t._v(" "),e("th",{staticClass:"responsive-hidden",on:{click:function(s){return t.sort("size")}}},[t._v("\n                "+t._s("Größe".toLocaleString())+"\n                "),"size"==t.sortedBy&&"asc"==t.sortDirection?e("studip-icon",{staticClass:"text-bottom",attrs:{shape:"arr_1down",role:"clickable",size:"16"}}):t._e(),t._v(" "),"size"==t.sortedBy&&"desc"==t.sortDirection?e("studip-icon",{staticClass:"text-bottom",attrs:{shape:"arr_1up",role:"clickable",size:"16"}}):t._e()],1),t._v(" "),t.showdownloads?e("th",{staticClass:"responsive-hidden",on:{click:function(s){return t.sort("downloads")}}},[t._v("\n                "+t._s("Downloads".toLocaleString())+"\n                "),"downloads"==t.sortedBy&&"asc"==t.sortDirection?e("studip-icon",{staticClass:"text-bottom",attrs:{shape:"arr_1down",role:"clickable",size:"16"}}):t._e(),t._v(" "),"downloads"==t.sortedBy&&"desc"==t.sortDirection?e("studip-icon",{staticClass:"text-bottom",attrs:{shape:"arr_1up",role:"clickable",size:"16"}}):t._e()],1):t._e(),t._v(" "),e("th",{staticClass:"responsive-hidden",on:{click:function(s){return t.sort("author_name")}}},[t._v("\n                "+t._s("Autor/-in".toLocaleString())+"\n                "),"author_name"==t.sortedBy&&"asc"==t.sortDirection?e("studip-icon",{staticClass:"text-bottom",attrs:{shape:"arr_1down",role:"clickable",size:"16"}}):t._e(),t._v(" "),"author_name"==t.sortedBy&&"desc"==t.sortDirection?e("studip-icon",{staticClass:"text-bottom",attrs:{shape:"arr_1up",role:"clickable",size:"16"}}):t._e()],1),t._v(" "),e("th",{staticClass:"responsive-hidden",on:{click:function(s){return t.sort("chdate")}}},[t._v("\n                "+t._s("Datum".toLocaleString())+"\n                "),"chdate"==t.sortedBy&&"asc"==t.sortDirection?e("studip-icon",{staticClass:"text-bottom",attrs:{shape:"arr_1down",role:"clickable",size:"16"}}):t._e(),t._v(" "),"chdate"==t.sortedBy&&"desc"==t.sortDirection?e("studip-icon",{staticClass:"text-bottom",attrs:{shape:"arr_1up",role:"clickable",size:"16"}}):t._e()],1),t._v(" "),t._l(t.topfolder.additionalColumns,(function(s,o){return t.topfolder.additionalColumns?e("th",{key:o,staticClass:"responsive-hidden",on:{click:function(s){return t.sort(o)}}},[t._v("\n                "+t._s(s)+"\n                "),t.sortedBy==o&&"asc"==t.sortDirection?e("studip-icon",{staticClass:"text-bottom",attrs:{shape:"arr_1down",role:"clickable",size:"16"}}):t._e(),t._v(" "),t.sortedBy==o&&"desc"==t.sortDirection?e("studip-icon",{staticClass:"text-bottom",attrs:{shape:"arr_1up",role:"clickable",size:"16"}}):t._e()],1):t._e()})),t._v(" "),e("th",{attrs:{"data-sort":"false"}},[t._v(t._s("Aktionen".toLocaleString()))])],2)]),t._v(" "),e("tbody",{staticClass:"subfolders"},[t.files.length+t.folders.length==0?e("tr",{staticClass:"empty"},[e("td",{attrs:{colspan:t.numberOfColumns}},[t._v("\n                "+t._s("Dieser Ordner ist leer".toLocaleString())+"\n            ")])]):t._e(),t._v(" "),t._l(t.sortedFolders,(function(s){return e("tr",{attrs:{id:"row_folder_"+s.id,"data-permissions":s.permissions}},[t.show_bulk_actions?e("td",[e("input",{staticClass:"studip-checkbox",attrs:{type:"checkbox",name:"ids[]",id:"file_checkbox_"+s.id},domProps:{value:s.id}}),t._v(" "),e("label",{attrs:{for:"file_checkbox_"+s.id}})]):t._e(),t._v(" "),e("td",{staticClass:"document-icon"},[e("a",{attrs:{href:s.url}},[e("studip-icon",{staticClass:"text-bottom",attrs:{shape:s.icon,role:"clickable",size:"26"}})],1)]),t._v(" "),e("td",[e("a",{attrs:{href:s.url}},[t._v(t._s(s.name))])]),t._v(" "),e("td",{staticClass:"responsive-hidden"}),t._v(" "),t.showdownloads?e("td",{staticClass:"responsive-hidden"}):t._e(),t._v(" "),e("td",{staticClass:"responsive-hidden"},[t._v("\n                "+t._s(s.author_name)+"\n            ")]),t._v(" "),e("td",{staticClass:"responsive-hidden"},[e("studip-date-time",{attrs:{timestamp:s.chdate,relative:!0}})],1),t._v(" "),t._l(t.topfolder.additionalColumns,(function(o,i){return t.topfolder.additionalColumns?[s.additionalColumns&&s.additionalColumns[i]&&s.additionalColumns[i].html?e("td",{staticClass:"responsive-hidden",domProps:{innerHTML:t._s(s.additionalColumns[i].html)}}):e("td",{staticClass:"responsive-hidden"})]:t._e()})),t._v(" "),e("td",{staticClass:"actions",domProps:{innerHTML:t._s(s.actions)}})],2)}))],2),t._v(" "),e("tbody",{staticClass:"files"},t._l(t.sortedFiles,(function(s){return e("tr",{class:s.new?"new":"",attrs:{id:"fileref_"+s.id,role:"row","data-permissions":"file.isEditable ? 'w' : (file.download_url ? 'dr' : '')"}},[t.show_bulk_actions?e("td",[[e("input",{staticClass:"studip-checkbox",attrs:{type:"checkbox",name:"ids[]",id:"file_checkbox_"+s.id},domProps:{value:s.id}}),t._v(" "),e("label",{attrs:{for:"file_checkbox_"+s.id}})]],2):t._e(),t._v(" "),e("td",{staticClass:"document-icon"},[s.download_url?e("a",{attrs:{href:s.download_url,target:"_blank",rel:"noopener noreferrer"}},[e("studip-icon",{staticClass:"text-bottom",attrs:{shape:s.icon,role:"clickable",size:"24"}})],1):e("studip-icon",{attrs:{shape:s.icon,role:"clickable",size:"24"}}),t._v(" "),s.download_url&&0===s.mime_type.indexOf("image/")?e("a",{staticClass:"lightbox-image",attrs:{href:s.download_url,"data-lightbox":"gallery"}}):t._e()],1),t._v(" "),e("td",[e("a",{attrs:{href:s.details_url,"data-dialog":""}},[t._v(t._s(s.name))]),t._v(" "),s.restrictedTermsOfUse?e("studip-icon",{attrs:{shape:"lock-locked",role:"info",size:"16",title:"Das Herunterladen dieser Datei ist nur eingeschränkt möglich.".toLocaleString()}}):t._e()],1),t._v(" "),e("td",{staticClass:"responsive-hidden",attrs:{"data-sort-value":s.size}},[null!==s.size?e("studip-file-size",{attrs:{size:parseInt(s.size,10)}}):t._e()],1),t._v(" "),t.showdownloads?e("td",{staticClass:"responsive-hidden"},[t._v("\n                "+t._s(s.downloads)+"\n            ")]):t._e(),t._v(" "),e("td",{staticClass:"responsive-hidden"},[t._v("\n                "+t._s(s.author_name)+"\n            ")]),t._v(" "),e("td",{staticClass:"responsive-hidden",attrs:{"data-sort-value":"file.chdate"}},[e("studip-date-time",{attrs:{timestamp:s.chdate,relative:!0}})],1),t._v(" "),t._l(t.topfolder.additionalColumns,(function(o,i){return t.topfolder.additionalColumns?[s.additionalColumns&&s.additionalColumns[i]&&s.additionalColumns[i].html?e("td",{staticClass:"responsive-hidden",domProps:{innerHTML:t._s(s.additionalColumns[i].html)}}):e("td",{staticClass:"responsive-hidden"})]:t._e()})),t._v(" "),e("td",{staticClass:"actions",domProps:{innerHTML:t._s(s.actions)}})],2)})),0),t._v(" "),t.topfolder.buttons&&t.show_bulk_actions||t.tfoot_link?e("tfoot",[e("tr",[e("td",{attrs:{colspan:t.numberOfColumns-(t.tfoot_link?1:0)}},[e("div",{staticClass:"footer-items"},[t.topfolder.buttons&&t.show_bulk_actions?e("span",{staticClass:"bulk-buttons",domProps:{innerHTML:t._s(t.topfolder.buttons)}}):t._e(),t._v(" "),t.tfoot_link?e("span",{attrs:{colspan:t.topfolder.buttons&&t.show_bulk_actions?1:t.numberOfColumns}},[e("a",{attrs:{href:t.tfoot_link.href}},[t._v(t._s(t.tfoot_link.text))])]):t._e(),t._v(" "),t.pagination?e("span",{staticClass:"pagination",domProps:{innerHTML:t._s(t.pagination)}}):t._e()])])])]):t._e()])};o._withStripped=!0;var i={name:"files-table",props:{topfolder:Object,folders:{type:Array,required:!1,default:function(){return[]}},files:Array,breadcrumbs:{type:Array,required:!1,default:function(){return[]}},showdownloads:{type:Boolean,required:!1,default:!0},table_title:{type:String,required:!1,default:""},show_bulk_actions:{type:Boolean,required:!1,default:!0},tfoot_link:{type:Object,required:!1,default:null},pagination:{type:String,required:!1,default:""},initial_sort:{type:Object,required:!1,default:{sortedBy:"name",sortDirection:"asc"}}},data:function(){return{sortedBy:this.initial_sort.sortedBy,sortDirection:this.initial_sort.sortDirection}},methods:{sort:function(t){var s=this.sortDirection;this.sortedBy===t&&(this.sortDirection="asc"===s?"desc":"asc"),this.sortedBy=t},removeFile:function(t){var s=this;this.files.forEach((function(e,o){e.id===t&&s.$delete(s.files,o)}))},removeFolder:function(t){var s=this;this.folders.forEach((function(e,o){e.id===t&&s.$delete(s.folders,o)}))}},computed:{numberOfColumns:function(){return 7+(this.showdownloads?1:0)+Object.keys(this.topfolder.additionalColumns).length},sortedFiles:function(){var t=this;if(0==this.files.length)return this.files;if(-1!==["mime_type","name","author_name"].indexOf(this.sortedBy))return"asc"===this.sortDirection?this.files.sort((function(s,e){return s[t.sortedBy].localeCompare(e[t.sortedBy])})):this.files.sort((function(s,e){return e[t.sortedBy].localeCompare(s[t.sortedBy])}));if(-1!==["size","downloads","chdate"].indexOf(this.sortedBy))return"asc"===this.sortDirection?this.files.sort((function(s,e){return parseInt(e[t.sortedBy],10)-parseInt(s[t.sortedBy],10)})):this.files.sort((function(s,e){return parseInt(s[t.sortedBy],10)-parseInt(e[t.sortedBy],10)}));if(void 0!==this.topfolder.additionalColumns[this.sortedBy]){var s=!1;for(var e in this.files)if("string"==typeof this.files[e].additionalColumns[this.sortedBy].order&&!isNaN(parseFloat(this.files[e].additionalColumns[this.sortedBy].order))){s=!0;break}return s?"asc"===this.sortDirection?this.files.sort((function(s,e){return s.additionalColumns[t.sortedBy].order.localeCompare(e.additionalColumns[t.sortedBy].order)})):this.files.sort((function(s,e){return e.additionalColumns[t.sortedBy].order.localeCompare(s.additionalColumns[t.sortedBy].order)})):"asc"===this.sortDirection?this.files.sort((function(s,e){return e.additionalColumns[t.sortedBy].order-s.additionalColumns[t.sortedBy].order})):this.files.sort((function(s,e){return s.additionalColumns[t.sortedBy].order-e.additionalColumns[t.sortedBy].order}))}},sortedFolders:function(){var t=this;if(0==this.folders.length)return this.folders;if(-1!==["mime_type","name","author_name"].indexOf(this.sortedBy))return"asc"===this.sortDirection?this.folders.sort((function(s,e){return s[t.sortedBy].localeCompare(e[t.sortedBy])})):this.folders.sort((function(s,e){return e[t.sortedBy].localeCompare(s[t.sortedBy])}));if(-1!==["chdate"].indexOf(this.sortedBy))return"asc"===this.sortDirection?this.folders.sort((function(s,e){return e[t.sortedBy]-s[t.sortedBy]})):this.folders.sort((function(s,e){return s[t.sortedBy]-e[t.sortedBy]}));if(void 0!==this.topfolder.additionalColumns[this.sortedBy]){var s=!1;for(var e in this.folders)if("string"==typeof this.folders[e].additionalColumns[this.sortedBy].order&&!isNaN(parseFloat(this.folders[e].additionalColumns[this.sortedBy].order))){s=!0;break}return s?"asc"===this.sortDirection?this.folders.sort((function(s,e){return s.additionalColumns[t.sortedBy].order.localeCompare(e.additionalColumns[t.sortedBy].order)})):this.folders.sort((function(s,e){return e.additionalColumns[t.sortedBy].order.localeCompare(s.additionalColumns[t.sortedBy].order)})):"asc"===this.sortDirection?this.folders.sort((function(s,e){return parseInt(e.additionalColumns[t.sortedBy].order,10)-parseInt(s.additionalColumns[t.sortedBy].order,10)})):this.folders.sort((function(s,e){return parseInt(s.additionalColumns[t.sortedBy].order,10)-parseInt(e.additionalColumns[t.sortedBy].order,10)}))}return this.folders.sort((function(t,s){return t.name.localeCompare(s.name)}))}}},r=(0,e(1900).Z)(i,o,[],!1,null,null,null);r.options.__file="resources/vue/components/FilesTable.vue";var a=r.exports}}]);
//# sourceMappingURL=721.chunk.js.map